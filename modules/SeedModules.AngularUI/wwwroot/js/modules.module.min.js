"use strict";!function(e){var t={parse:function(e){if("string"!=typeof e)throw new TypeError("ObjectPath.parse must be passed a string");for(var t,r,n,o,i=0,a=[];i<e.length;)if(t=e.indexOf(".",i),r=e.indexOf("[",i),t===-1&&r===-1)a.push(e.slice(i,e.length)),i=e.length;else if(r===-1||t!==-1&&t<r)a.push(e.slice(i,t)),i=t+1;else if(r>i&&(a.push(e.slice(i,r)),i=r),n=e.slice(r+1,r+2),'"'!==n&&"'"!==n)o=e.indexOf("]",r),o===-1&&(o=e.length),a.push(e.slice(i+1,o)),i="."===e.slice(o+1,o+2)?o+2:o+1;else{for(o=e.indexOf(n+"]",r),o===-1&&(o=e.length);"\\"===e.slice(o-1,o)&&r<e.length;)r++,o=e.indexOf(n+"]",r);a.push(e.slice(i+2,o).replace(new RegExp("\\"+n,"g"),n)),i="."===e.slice(o+2,o+3)?o+3:o+2}return a},stringify:function(e,t){return Array.isArray(e)||(e=[e.toString()]),t='"'===t?'"':"'",e.map(function(e){return"["+t+e.toString().replace(new RegExp(t,"g"),"\\"+t)+t+"]"}).join("")},normalize:function(e,r){return t.stringify(Array.isArray(e)?e:t.parse(e),r)},registerModule:function(e){e.module("ObjectPath",[]).provider("ObjectPath",function(){this.parse=t.parse,this.stringify=t.stringify,this.normalize=t.normalize,this.$get=function(){return t}})}};"function"==typeof define&&define.amd?define("objectpath",[],function(){return t}):"object"==typeof exports?exports.ObjectPath=t:window.ObjectPath=t}(),function(e,t){"function"==typeof define&&define.amd?define("tv4",[],t):"undefined"!=typeof module&&module.exports?module.exports=t():e.tv4=t()}(this,function(){function e(t,r){if(t===r)return!0;if("object"==typeof t&&"object"==typeof r){if(Array.isArray(t)!==Array.isArray(r))return!1;if(Array.isArray(t)){if(t.length!==r.length)return!1;for(var n=0;n<t.length;n++)if(!e(t[n],r[n]))return!1}else{var o;for(o in t)if(void 0===r[o]&&void 0!==t[o])return!1;for(o in r)if(void 0===t[o]&&void 0!==r[o])return!1;for(o in t)if(!e(t[o],r[o]))return!1}return!0}return!1}function t(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function r(e,r){function n(e){var t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}return r=t(r||""),e=t(e||""),r&&e?(r.protocol||e.protocol)+(r.protocol||r.authority?r.authority:e.authority)+n(r.protocol||r.authority||"/"===r.pathname.charAt(0)?r.pathname:r.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+r.pathname:e.pathname)+(r.protocol||r.authority||r.pathname?r.search:r.search||e.search)+r.hash:null}function n(e){return e.split("#")[0]}function o(e,t){if(e&&"object"==typeof e)if(void 0===t?t=e.id:"string"==typeof e.id&&(t=r(t,e.id),e.id=t),Array.isArray(e))for(var n=0;n<e.length;n++)o(e[n],t);else{"string"==typeof e.$ref&&(e.$ref=r(t,e.$ref));for(var i in e)"enum"!==i&&o(e[i],t)}}function i(e,t,r,n,o){if(Error.call(this),void 0===e)throw new Error("No code supplied for error: "+t);this.message=t,this.code=e,this.dataPath=r||"",this.schemaPath=n||"",this.subErrors=o||null;var i=new Error(this.message);if(this.stack=i.stack||i.stacktrace,!this.stack)try{throw i}catch(i){this.stack=i.stack||i.stacktrace}}function a(e,t){if(t.substring(0,e.length)===e){var r=t.substring(e.length);if(t.length>0&&"/"===t.charAt(e.length-1)||"#"===r.charAt(0)||"?"===r.charAt(0))return!0}return!1}function l(e){var t=new s,i=e||"en",a={addFormat:function(){t.addFormat.apply(t,arguments)},language:function(e){return e?(f[e]||(e=e.split("-")[0]),!!f[e]&&(i=e,e)):i},addLanguage:function(e,t){var r;for(r in d)t[r]&&!t[d[r]]&&(t[d[r]]=t[r]);var n=e.split("-")[0];if(f[n]){f[e]=Object.create(f[n]);for(r in t)"undefined"==typeof f[n][r]&&(f[n][r]=t[r]),f[e][r]=t[r]}else f[e]=t,f[n]=t;return this},freshApi:function(e){var t=l();return e&&t.language(e),t},validate:function(e,r,n,o){var a=new s(t,(!1),f[i],n,o);"string"==typeof r&&(r={$ref:r}),a.addSchema("",r);var l=a.validateAll(e,r,null,null,"");return!l&&o&&(l=a.banUnknownProperties()),this.error=l,this.missing=a.missing,this.valid=null===l,this.valid},validateResult:function(){var e={};return this.validate.apply(e,arguments),e},validateMultiple:function(e,r,n,o){var a=new s(t,(!0),f[i],n,o);"string"==typeof r&&(r={$ref:r}),a.addSchema("",r),a.validateAll(e,r,null,null,""),o&&a.banUnknownProperties();var l={};return l.errors=a.errors,l.missing=a.missing,l.valid=0===l.errors.length,l},addSchema:function(){return t.addSchema.apply(t,arguments)},getSchema:function(){return t.getSchema.apply(t,arguments)},getSchemaMap:function(){return t.getSchemaMap.apply(t,arguments)},getSchemaUris:function(){return t.getSchemaUris.apply(t,arguments)},getMissingUris:function(){return t.getMissingUris.apply(t,arguments)},dropSchemas:function(){t.dropSchemas.apply(t,arguments)},defineKeyword:function(){t.defineKeyword.apply(t,arguments)},defineError:function(e,t,r){if("string"!=typeof e||!/^[A-Z]+(_[A-Z]+)*$/.test(e))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if("number"!=typeof t||t%1!==0||t<1e4)throw new Error("Code number must be an integer > 10000");if("undefined"!=typeof d[e])throw new Error("Error already defined: "+e+" as "+d[e]);if("undefined"!=typeof c[t])throw new Error("Error code already used: "+c[t]+" as "+t);d[e]=t,c[t]=e,m[e]=m[t]=r;for(var n in f){var o=f[n];o[e]&&(o[t]=o[t]||o[e])}},reset:function(){t.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema:o,resolveUrl:r,getDocumentUri:n,errorCodes:d};return a}Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=r.length;return function(o){if("object"!=typeof o&&"function"!=typeof o||null===o)throw new TypeError("Object.keys called on non-object");var i=[];for(var a in o)e.call(o,a)&&i.push(a);if(t)for(var l=0;l<n;l++)e.call(o,r[l])&&i.push(r[l]);return i}}()),Object.create||(Object.create=function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}()),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),r=t.length>>>0;if(0===r)return-1;var n=0;if(arguments.length>1&&(n=Number(arguments[1]),n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=r)return-1;for(var o=n>=0?n:Math.max(r-Math.abs(n),0);o<r;o++)if(o in t&&t[o]===e)return o;return-1}),Object.isFrozen||(Object.isFrozen=function(e){for(var t="tv4_test_frozen_key";e.hasOwnProperty(t);)t+=Math.random();try{return e[t]=!0,delete e[t],!1}catch(r){return!0}});var s=function(e,t,r,n,o){if(this.missing=[],this.missingMap={},this.formatValidators=e?Object.create(e.formatValidators):{},this.schemas=e?Object.create(e.schemas):{},this.collectMultiple=t,this.errors=[],this.handleError=t?this.collectError:this.returnError,n&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),o&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorMessages=r,this.definedKeywords={},e)for(var i in e.definedKeywords)this.definedKeywords[i]=e.definedKeywords[i].slice(0)};s.prototype.defineKeyword=function(e,t){this.definedKeywords[e]=this.definedKeywords[e]||[],this.definedKeywords[e].push(t)},s.prototype.createError=function(e,t,r,n,o){var a=this.errorMessages[e]||m[e];if("string"!=typeof a)return new i(e,"Unknown error code "+e+": "+JSON.stringify(t),r,n,o);var l=a.replace(/\{([^{}]*)\}/g,function(e,r){var n=t[r];return"string"==typeof n||"number"==typeof n?n:e});return new i(e,l,r,n,o)},s.prototype.returnError=function(e){return e},s.prototype.collectError=function(e){return e&&this.errors.push(e),null},s.prototype.prefixErrors=function(e,t,r){for(var n=e;n<this.errors.length;n++)this.errors[n]=this.errors[n].prefixWith(t,r);return this},s.prototype.banUnknownProperties=function(){for(var e in this.unknownPropertyPaths){var t=this.createError(d.UNKNOWN_PROPERTY,{path:e},e,""),r=this.handleError(t);if(r)return r}return null},s.prototype.addFormat=function(e,t){if("object"==typeof e){for(var r in e)this.addFormat(r,e[r]);return this}this.formatValidators[e]=t},s.prototype.resolveRefs=function(e,t){if(void 0!==e.$ref){if(t=t||{},t[e.$ref])return this.createError(d.CIRCULAR_REFERENCE,{urls:Object.keys(t).join(", ")},"","");t[e.$ref]=!0,e=this.getSchema(e.$ref,t)}return e},s.prototype.getSchema=function(e,t){var r;if(void 0!==this.schemas[e])return r=this.schemas[e],this.resolveRefs(r,t);var n=e,o="";if(e.indexOf("#")!==-1&&(o=e.substring(e.indexOf("#")+1),n=e.substring(0,e.indexOf("#"))),"object"==typeof this.schemas[n]){r=this.schemas[n];var i=decodeURIComponent(o);if(""===i)return this.resolveRefs(r,t);if("/"!==i.charAt(0))return;for(var a=i.split("/").slice(1),l=0;l<a.length;l++){var s=a[l].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===r[s]){r=void 0;break}r=r[s]}if(void 0!==r)return this.resolveRefs(r,t)}void 0===this.missing[n]&&(this.missing.push(n),this.missing[n]=n,this.missingMap[n]=n)},s.prototype.searchSchemas=function(e,t){if(e&&"object"==typeof e){"string"==typeof e.id&&a(t,e.id)&&void 0===this.schemas[e.id]&&(this.schemas[e.id]=e);for(var r in e)if("enum"!==r)if("object"==typeof e[r])this.searchSchemas(e[r],t);else if("$ref"===r){var o=n(e[r]);o&&void 0===this.schemas[o]&&void 0===this.missingMap[o]&&(this.missingMap[o]=o)}}},s.prototype.addSchema=function(e,t){if("string"!=typeof e||"undefined"==typeof t){if("object"!=typeof e||"string"!=typeof e.id)return;t=e,e=t.id}(e=n(e)+"#")&&(e=n(e)),this.schemas[e]=t,delete this.missingMap[e],o(t,e),this.searchSchemas(t,e)},s.prototype.getSchemaMap=function(){var e={};for(var t in this.schemas)e[t]=this.schemas[t];return e},s.prototype.getSchemaUris=function(e){var t=[];for(var r in this.schemas)e&&!e.test(r)||t.push(r);return t},s.prototype.getMissingUris=function(e){var t=[];for(var r in this.missingMap)e&&!e.test(r)||t.push(r);return t},s.prototype.dropSchemas=function(){this.schemas={},this.reset()},s.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},s.prototype.validateAll=function(e,t,r,n,o){var a;if(t=this.resolveRefs(t),!t)return null;if(t instanceof i)return this.errors.push(t),t;var l,s=this.errors.length,d=null,c=null;if(this.checkRecursive&&e&&"object"==typeof e){if(a=!this.scanned.length,e[this.validatedSchemasKey]){var u=e[this.validatedSchemasKey].indexOf(t);if(u!==-1)return this.errors=this.errors.concat(e[this.validationErrorsKey][u]),null}if(Object.isFrozen(e)&&(l=this.scannedFrozen.indexOf(e),l!==-1)){var m=this.scannedFrozenSchemas[l].indexOf(t);if(m!==-1)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[l][m]),null}if(this.scanned.push(e),Object.isFrozen(e))l===-1&&(l=this.scannedFrozen.length,this.scannedFrozen.push(e),this.scannedFrozenSchemas.push([])),d=this.scannedFrozenSchemas[l].length,this.scannedFrozenSchemas[l][d]=t,this.scannedFrozenValidationErrors[l][d]=[];else{if(!e[this.validatedSchemasKey])try{Object.defineProperty(e,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(e,this.validationErrorsKey,{value:[],configurable:!0})}catch(f){e[this.validatedSchemasKey]=[],e[this.validationErrorsKey]=[]}c=e[this.validatedSchemasKey].length,e[this.validatedSchemasKey][c]=t,e[this.validationErrorsKey][c]=[]}}var p=this.errors.length,h=this.validateBasic(e,t,o)||this.validateNumeric(e,t,o)||this.validateString(e,t,o)||this.validateArray(e,t,o)||this.validateObject(e,t,o)||this.validateCombinations(e,t,o)||this.validateFormat(e,t,o)||this.validateDefinedKeywords(e,t,o)||null;if(a){for(;this.scanned.length;){var g=this.scanned.pop();delete g[this.validatedSchemasKey]}this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(h||p!==this.errors.length)for(;r&&r.length||n&&n.length;){var v=r&&r.length?""+r.pop():null,y=n&&n.length?""+n.pop():null;h&&(h=h.prefixWith(v,y)),this.prefixErrors(p,v,y)}return null!==d?this.scannedFrozenValidationErrors[l][d]=this.errors.slice(s):null!==c&&(e[this.validationErrorsKey][c]=this.errors.slice(s)),this.handleError(h)},s.prototype.validateFormat=function(e,t){if("string"!=typeof t.format||!this.formatValidators[t.format])return null;var r=this.formatValidators[t.format].call(null,e,t);return"string"==typeof r||"number"==typeof r?this.createError(d.FORMAT_CUSTOM,{message:r}).prefixWith(null,"format"):r&&"object"==typeof r?this.createError(d.FORMAT_CUSTOM,{message:r.message||"?"},r.dataPath||null,r.schemaPath||"/format"):null},s.prototype.validateDefinedKeywords=function(e,t){for(var r in this.definedKeywords)for(var n=this.definedKeywords[r],o=0;o<n.length;o++){var i=n[o],a=i(e,t[r],t);if("string"==typeof a||"number"==typeof a)return this.createError(d.KEYWORD_CUSTOM,{key:r,message:a}).prefixWith(null,"format");if(a&&"object"==typeof a){var l=a.code||d.KEYWORD_CUSTOM;if("string"==typeof l){if(!d[l])throw new Error("Undefined error code (use defineError): "+l);l=d[l]}var s="object"==typeof a.message?a.message:{key:r,message:a.message||"?"},c=a.schemaPath||"/"+r.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(l,s,a.dataPath||null,c)}}return null},s.prototype.validateBasic=function(e,t,r){var n;return(n=this.validateType(e,t,r))?n.prefixWith(null,"type"):(n=this.validateEnum(e,t,r))?n.prefixWith(null,"type"):null},s.prototype.validateType=function(e,t){if(void 0===t.type)return null;var r=typeof e;null===e?r="null":Array.isArray(e)&&(r="array");var n=t.type;"object"!=typeof n&&(n=[n]);for(var o=0;o<n.length;o++){var i=n[o];if(i===r||"integer"===i&&"number"===r&&e%1===0)return null}return this.createError(d.INVALID_TYPE,{type:r,expected:n.join("/")})},s.prototype.validateEnum=function(t,r){if(void 0===r["enum"])return null;for(var n=0;n<r["enum"].length;n++){var o=r["enum"][n];if(e(t,o))return null}return this.createError(d.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(t):t})},s.prototype.validateNumeric=function(e,t,r){return this.validateMultipleOf(e,t,r)||this.validateMinMax(e,t,r)||null},s.prototype.validateMultipleOf=function(e,t){var r=t.multipleOf||t.divisibleBy;return void 0===r?null:"number"==typeof e&&e%r!==0?this.createError(d.NUMBER_MULTIPLE_OF,{value:e,multipleOf:r}):null},s.prototype.validateMinMax=function(e,t){if("number"!=typeof e)return null;if(void 0!==t.minimum){if(e<t.minimum)return this.createError(d.NUMBER_MINIMUM,{value:e,minimum:t.minimum}).prefixWith(null,"minimum");if(t.exclusiveMinimum&&e===t.minimum)return this.createError(d.NUMBER_MINIMUM_EXCLUSIVE,{value:e,minimum:t.minimum}).prefixWith(null,"exclusiveMinimum")}if(void 0!==t.maximum){if(e>t.maximum)return this.createError(d.NUMBER_MAXIMUM,{value:e,maximum:t.maximum}).prefixWith(null,"maximum");if(t.exclusiveMaximum&&e===t.maximum)return this.createError(d.NUMBER_MAXIMUM_EXCLUSIVE,{value:e,maximum:t.maximum}).prefixWith(null,"exclusiveMaximum")}return null},s.prototype.validateString=function(e,t,r){return this.validateStringLength(e,t,r)||this.validateStringPattern(e,t,r)||null},s.prototype.validateStringLength=function(e,t){return"string"!=typeof e?null:void 0!==t.minLength&&e.length<t.minLength?this.createError(d.STRING_LENGTH_SHORT,{length:e.length,minimum:t.minLength}).prefixWith(null,"minLength"):void 0!==t.maxLength&&e.length>t.maxLength?this.createError(d.STRING_LENGTH_LONG,{length:e.length,maximum:t.maxLength}).prefixWith(null,"maxLength"):null},s.prototype.validateStringPattern=function(e,t){if("string"!=typeof e||void 0===t.pattern)return null;var r=new RegExp(t.pattern);return r.test(e)?null:this.createError(d.STRING_PATTERN,{pattern:t.pattern}).prefixWith(null,"pattern")},s.prototype.validateArray=function(e,t,r){return Array.isArray(e)?this.validateArrayLength(e,t,r)||this.validateArrayUniqueItems(e,t,r)||this.validateArrayItems(e,t,r)||null:null},s.prototype.validateArrayLength=function(e,t){var r;return void 0!==t.minItems&&e.length<t.minItems&&(r=this.createError(d.ARRAY_LENGTH_SHORT,{length:e.length,minimum:t.minItems}).prefixWith(null,"minItems"),this.handleError(r))?r:void 0!==t.maxItems&&e.length>t.maxItems&&(r=this.createError(d.ARRAY_LENGTH_LONG,{length:e.length,maximum:t.maxItems}).prefixWith(null,"maxItems"),this.handleError(r))?r:null},s.prototype.validateArrayUniqueItems=function(t,r){if(r.uniqueItems)for(var n=0;n<t.length;n++)for(var o=n+1;o<t.length;o++)if(e(t[n],t[o])){var i=this.createError(d.ARRAY_UNIQUE,{match1:n,match2:o}).prefixWith(null,"uniqueItems");if(this.handleError(i))return i}return null},s.prototype.validateArrayItems=function(e,t,r){if(void 0===t.items)return null;var n,o;if(Array.isArray(t.items)){for(o=0;o<e.length;o++)if(o<t.items.length){if(n=this.validateAll(e[o],t.items[o],[o],["items",o],r+"/"+o))return n}else if(void 0!==t.additionalItems)if("boolean"==typeof t.additionalItems){if(!t.additionalItems&&(n=this.createError(d.ARRAY_ADDITIONAL_ITEMS,{}).prefixWith(""+o,"additionalItems"),this.handleError(n)))return n}else if(n=this.validateAll(e[o],t.additionalItems,[o],["additionalItems"],r+"/"+o))return n}else for(o=0;o<e.length;o++)if(n=this.validateAll(e[o],t.items,[o],["items"],r+"/"+o))return n;return null},s.prototype.validateObject=function(e,t,r){return"object"!=typeof e||null===e||Array.isArray(e)?null:this.validateObjectMinMaxProperties(e,t,r)||this.validateObjectRequiredProperties(e,t,r)||this.validateObjectProperties(e,t,r)||this.validateObjectDependencies(e,t,r)||null},s.prototype.validateObjectMinMaxProperties=function(e,t){var r,n=Object.keys(e);return void 0!==t.minProperties&&n.length<t.minProperties&&(r=this.createError(d.OBJECT_PROPERTIES_MINIMUM,{propertyCount:n.length,minimum:t.minProperties}).prefixWith(null,"minProperties"),this.handleError(r))?r:void 0!==t.maxProperties&&n.length>t.maxProperties&&(r=this.createError(d.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:n.length,maximum:t.maxProperties}).prefixWith(null,"maxProperties"),this.handleError(r))?r:null},s.prototype.validateObjectRequiredProperties=function(e,t){if(void 0!==t.required)for(var r=0;r<t.required.length;r++){var n=t.required[r];if(void 0===e[n]){var o=this.createError(d.OBJECT_REQUIRED,{key:n}).prefixWith(null,""+r).prefixWith(null,"required");if(this.handleError(o))return o}}return null},s.prototype.validateObjectProperties=function(e,t,r){var n;for(var o in e){var i=r+"/"+o.replace(/~/g,"~0").replace(/\//g,"~1"),a=!1;if(void 0!==t.properties&&void 0!==t.properties[o]&&(a=!0,n=this.validateAll(e[o],t.properties[o],[o],["properties",o],i)))return n;if(void 0!==t.patternProperties)for(var l in t.patternProperties){var s=new RegExp(l);if(s.test(o)&&(a=!0,n=this.validateAll(e[o],t.patternProperties[l],[o],["patternProperties",l],i)))return n}if(a)this.trackUnknownProperties&&(this.knownPropertyPaths[i]=!0,delete this.unknownPropertyPaths[i]);else if(void 0!==t.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[i]=!0,delete this.unknownPropertyPaths[i]),"boolean"==typeof t.additionalProperties){if(!t.additionalProperties&&(n=this.createError(d.OBJECT_ADDITIONAL_PROPERTIES,{}).prefixWith(o,"additionalProperties"),this.handleError(n)))return n}else if(n=this.validateAll(e[o],t.additionalProperties,[o],["additionalProperties"],i))return n}else this.trackUnknownProperties&&!this.knownPropertyPaths[i]&&(this.unknownPropertyPaths[i]=!0)}return null},s.prototype.validateObjectDependencies=function(e,t,r){var n;if(void 0!==t.dependencies)for(var o in t.dependencies)if(void 0!==e[o]){var i=t.dependencies[o];if("string"==typeof i){if(void 0===e[i]&&(n=this.createError(d.OBJECT_DEPENDENCY_KEY,{key:o,missing:i}).prefixWith(null,o).prefixWith(null,"dependencies"),this.handleError(n)))return n}else if(Array.isArray(i))for(var a=0;a<i.length;a++){var l=i[a];if(void 0===e[l]&&(n=this.createError(d.OBJECT_DEPENDENCY_KEY,{key:o,missing:l}).prefixWith(null,""+a).prefixWith(null,o).prefixWith(null,"dependencies"),this.handleError(n)))return n}else if(n=this.validateAll(e,i,[],["dependencies",o],r))return n}return null},s.prototype.validateCombinations=function(e,t,r){return this.validateAllOf(e,t,r)||this.validateAnyOf(e,t,r)||this.validateOneOf(e,t,r)||this.validateNot(e,t,r)||null},s.prototype.validateAllOf=function(e,t,r){if(void 0===t.allOf)return null;for(var n,o=0;o<t.allOf.length;o++){var i=t.allOf[o];if(n=this.validateAll(e,i,[],["allOf",o],r))return n}return null},s.prototype.validateAnyOf=function(e,t,r){if(void 0===t.anyOf)return null;var n,o,i=[],a=this.errors.length;this.trackUnknownProperties&&(n=this.unknownPropertyPaths,o=this.knownPropertyPaths);for(var l=!0,s=0;s<t.anyOf.length;s++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var c=t.anyOf[s],u=this.errors.length,m=this.validateAll(e,c,[],["anyOf",s],r);if(null===m&&u===this.errors.length){if(this.errors=this.errors.slice(0,a),this.trackUnknownProperties){for(var f in this.knownPropertyPaths)o[f]=!0,delete n[f];for(var p in this.unknownPropertyPaths)o[p]||(n[p]=!0);l=!1;continue}return null}m&&i.push(m.prefixWith(null,""+s).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=n,this.knownPropertyPaths=o),l?(i=i.concat(this.errors.slice(a)),this.errors=this.errors.slice(0,a),this.createError(d.ANY_OF_MISSING,{},"","/anyOf",i)):void 0},s.prototype.validateOneOf=function(e,t,r){if(void 0===t.oneOf)return null;var n,o,i=null,a=[],l=this.errors.length;this.trackUnknownProperties&&(n=this.unknownPropertyPaths,o=this.knownPropertyPaths);for(var s=0;s<t.oneOf.length;s++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var c=t.oneOf[s],u=this.errors.length,m=this.validateAll(e,c,[],["oneOf",s],r);if(null===m&&u===this.errors.length){if(null!==i)return this.errors=this.errors.slice(0,l),this.createError(d.ONE_OF_MULTIPLE,{index1:i,index2:s},"","/oneOf");if(i=s,this.trackUnknownProperties){for(var f in this.knownPropertyPaths)o[f]=!0,delete n[f];for(var p in this.unknownPropertyPaths)o[p]||(n[p]=!0)}}else m&&a.push(m.prefixWith(null,""+s).prefixWith(null,"oneOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=n,this.knownPropertyPaths=o),null===i?(a=a.concat(this.errors.slice(l)),this.errors=this.errors.slice(0,l),this.createError(d.ONE_OF_MISSING,{},"","/oneOf",a)):(this.errors=this.errors.slice(0,l),null)},s.prototype.validateNot=function(e,t,r){if(void 0===t.not)return null;var n,o,i=this.errors.length;this.trackUnknownProperties&&(n=this.unknownPropertyPaths,o=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var a=this.validateAll(e,t.not,null,null,r),l=this.errors.slice(i);return this.errors=this.errors.slice(0,i),this.trackUnknownProperties&&(this.unknownPropertyPaths=n,this.knownPropertyPaths=o),null===a&&0===l.length?this.createError(d.NOT_PASSED,{},"","/not"):null};var d={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},c={};for(var u in d)c[d[u]]=u;var m={INVALID_TYPE:"invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.prototype.name="ValidationError",i.prototype.prefixWith=function(e,t){if(null!==e&&(e=e.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+e+this.dataPath),null!==t&&(t=t.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+t+this.schemaPath),null!==this.subErrors)for(var r=0;r<this.subErrors.length;r++)this.subErrors[r].prefixWith(e,t);return this};var f={},p=l();return p.addLanguage("en-gb",m),p.tv4=p,p}),function(e,t){"function"==typeof define&&define.amd?define("SeedModules.AngularUI/js/seed/schema-form",["angular","objectpath","tv4"],t):"object"==typeof exports?module.exports=t(require("angular"),require("objectpath"),require("tv4")):e.schemaForm=t(e.angular,e.objectpath,e.tv4)}(this,function(e,t,r){var n=[];try{e.module("ngSanitize"),n.push("ngSanitize")}catch(o){}try{e.module("ui.sortable"),n.push("ui.sortable")}catch(o){}try{e.module("angularSpectrumColorpicker"),n.push("angularSpectrumColorpicker")}catch(o){}var i=e.module("schemaForm",n);return e.module("schemaForm").provider("sfPath",[function(){var r=window.ObjectPath||t,n={parse:r.parse};1===e.version.major&&e.version.minor<3?n.stringify=function(e){return Array.isArray(e)?e.join("."):e.toString()}:n.stringify=r.stringify,n.normalize=function(e,t){return n.stringify(Array.isArray(e)?e:n.parse(e),t)},this.parse=n.parse,this.stringify=n.stringify,this.normalize=n.normalize,this.$get=function(){return n}}]),e.module("schemaForm").provider("sfBuilder",["sfPathProvider",function(t){var r=/[A-Z]/g,n=function(e,t){return t=t||"_",e.replace(r,function(e,r){return(r?t:"")+e.toLowerCase()})},o=0,i={sfField:function(e){e.fieldFrag.firstChild.setAttribute("sf-field",o),e.lookup["f"+o]=e.form,o++},ngModel:function(e){if(e.form.key){var r=e.form.key;e.state.keyRedaction&&(r=r.slice(e.state.keyRedaction));var n;if(e.state.modelValue)n=e.state.modelValue;else{var o=t.stringify(r).replace(/"/g,"&quot;");n=e.state.modelName||"model",o&&(n+=("["!==o[0]?".":"")+o)}for(var i=e.fieldFrag.querySelectorAll("[sf-field-model]"),a=0;a<i.length;a++){var l=i[a],s=l.getAttribute("sf-field-model");if(s&&""!==s)if("replaceAll"===s)for(var d=l.attributes,c=0;c<d.length;c++)d[c].value&&d[c].value.indexOf("$$value")!==-1&&(d[c].value=d[c].value.replace(/\$\$value\$\$/g,n));else{var u=l.getAttribute(s);u&&u.indexOf("$$value$$")?l.setAttribute(s,u.replace(/\$\$value\$\$/g,n)):l.setAttribute(s,n)}else l.setAttribute("ng-model",n)}}},simpleTransclusion:function(e){var t=e.build(e.form.items,e.path+".items",e.state);e.fieldFrag.firstChild.appendChild(t)},ngModelOptions:function(e){e.form.ngModelOptions&&Object.keys(e.form.ngModelOptions).length>0&&e.fieldFrag.firstChild.setAttribute("ng-model-options",JSON.stringify(e.form.ngModelOptions))},transclusion:function(e){var t=e.fieldFrag.querySelectorAll("[sf-field-transclude]");if(t.length)for(var r=0;r<t.length;r++){var n=t[r],o=n.getAttribute("sf-field-transclude")||"items",i=e.form[o];if(i){var a=e.build(i,e.path+"."+o,e.state);n.appendChild(a)}}},condition:function(e){if(e.form.condition){var r="evalExpr("+e.path+'.condition, { model: model, "arrayIndex": $index})';if(e.form.key){var n=t.stringify(e.form.key);r="evalExpr("+e.path+'.condition,{ model: model, "arrayIndex": $index, "modelValue": model'+("["===n[0]?"":".")+n+"})"}for(var o=e.fieldFrag.children||e.fieldFrag.childNodes,i=0;i<o.length;i++){var a=o[i],l=a.getAttribute("ng-if");a.setAttribute("ng-if",l?"("+l+") || ("+r+")":r)}}},array:function(r){var n=r.fieldFrag.querySelector("[schema-form-array-items]");if(n){if(state=e.copy(r.state),state.keyRedaction=state.keyRedaction||0,state.keyRedaction+=r.form.key.length+1,r.form.schema&&r.form.schema.items&&r.form.schema.items.type&&r.form.schema.items.type.indexOf("object")===-1&&r.form.schema.items.type.indexOf("array")===-1){t.stringify(r.form.key).replace(/"/g,"&quot;")+"[$index]";state.modelValue="modelArray[$index]"}else state.modelName="item";state.arrayCompatFlag=!0;var o=r.build(r.form.items,r.path+".items",state);n.appendChild(o)}}};this.builders=i;var a=[i.sfField,i.ngModel,i.ngModelOptions,i.condition];this.stdBuilders=a,this.$get=["$templateCache","schemaFormDecorators","sfPath",function(e,t,r){var o=function(e,t){if(e.key){var n=t[r.stringify(e.key)];if(n){for(;n.firstChild;)n.removeChild(n.firstChild);return n}}},l=function(e,t,r,i,a,s,d){s=s||{},d=d||Object.create(null),a=a||"schemaForm.form";var c=document.createDocumentFragment();return e.reduce(function(e,c,u){if(!c.type)return e;var m=t[c.type]||t["default"];if(m.replace){var f;s.arrayCompatFlag=!1;var p=document.createElement("div"),h=r(c,m)||r(c,t["default"]);for(p.innerHTML=h,f=document.createDocumentFragment();p.childNodes.length>0;)f.appendChild(p.childNodes[0]);var g={fieldFrag:f,form:c,lookup:d,state:s,path:a+"["+u+"]",build:function(e,n,o){return l(e,t,r,i,n,o,d)}},v=c.builder||m.builder;"function"==typeof v?v(g):v.forEach(function(e){e(g)}),(o(c,i)||e).appendChild(f)}else{var y=document.createElement(n(t.__name,"-"));s.arrayCompatFlag?y.setAttribute("form","copyWithIndex($index)"):y.setAttribute("form",a+"["+u+"]"),(o(c,i)||e).appendChild(y)}return e},c),c};return{build:function(t,r,n,o){return l(t,r,function(t,r){return"template"===t.type?t.template:e.get(r.template)},n,void 0,void 0,o)},builder:i,stdBuilders:a,internalBuild:l}}]}]),e.module("schemaForm").provider("schemaFormDecorators",["$compileProvider","sfPathProvider",function(t,r){var n="",o={},i=function(e,t){"sfDecorator"===e&&(e=n);var r=o[e];return r[t.type]?r[t.type].template:r["default"].template},a=function(n){t.directive(n,["$parse","$compile","$http","$templateCache","$interpolate","$q","sfErrorMessage","sfPath","sfSelect",function(t,o,a,l,s,d,c,u,m){return{restrict:"AE",replace:!1,transclude:!1,scope:!0,require:"?^sfSchema",link:function(t,f,p,h){t.$on("schemaFormPropagateNgModelController",function(e,r){e.stopPropagation(),e.preventDefault(),t.ngModel=r}),t.showTitle=function(){return t.form&&t.form.notitle!==!0&&t.form.title},t.listToCheckboxValues=function(t){
var r={};return e.forEach(t,function(e){r[e]=!0}),r},t.checkboxValuesToList=function(t){var r=[];return e.forEach(t,function(e,t){e&&r.push(t)}),r},t.buttonClick=function(r,n){e.isFunction(n.onClick)?n.onClick(r,n):e.isString(n.onClick)&&(h?h.evalInParentScope(n.onClick,{$event:r,form:n}):t.$eval(n.onClick,{$event:r,form:n}))},t.evalExpr=function(e,r){return h?h.evalInParentScope(e,r):t.$eval(e,r)},t.evalInScope=function(e,r){if(e)return t.$eval(e,r)},t.interp=function(e,t){return e&&s(e)(t)},t.hasSuccess=function(){return!!t.ngModel&&(t.ngModel.$valid&&(!t.ngModel.$pristine||!t.ngModel.$isEmpty(t.ngModel.$modelValue)))},t.hasError=function(){return!!t.ngModel&&(t.ngModel.$invalid&&!t.ngModel.$pristine)},t.errorMessage=function(e){return c.interpolate(e&&e.code+""||"default",t.ngModel&&t.ngModel.$modelValue||"",t.ngModel&&t.ngModel.$viewValue||"",t.form,t.options&&t.options.validationMessage)};var g=t.$watch(p.form,function(s){if(s){s.ngModelOptions=s.ngModelOptions||{},t.form=s;var c;if("template"===s.type&&s.template)c=d.when(s.template);else{var p="template"===s.type?s.templateUrl:i(n,s);c=a.get(p,{cache:l}).then(function(e){return e.data})}c.then(function(n){if(s.key){var i=s.key?r.stringify(s.key).replace(/"/g,"&quot;"):"";n=n.replace(/\$\$value\$\$/g,"model"+("["!==i[0]?".":"")+i)}if(f.html(n),s.condition){var a='evalExpr(form.condition,{ model: model, "arrayIndex": arrayIndex})';s.key&&(a='evalExpr(form.condition,{ model: model, "arrayIndex": arrayIndex, "modelValue": model'+u.stringify(s.key)+"})"),e.forEach(f.children(),function(e){var t=e.getAttribute("ng-if");e.setAttribute("ng-if",t?"("+t+") || ("+a+")":a)})}o(f.contents())(t)}),s.key&&(t.$on("schemaForm.error."+s.key.join("."),function(e,r,n,o){n!==!0&&n!==!1||(o=n,n=void 0),t.ngModel&&r&&(t.ngModel.$setDirty?t.ngModel.$setDirty():(t.ngModel.$dirty=!0,t.ngModel.$pristine=!1),n&&(s.validationMessage||(s.validationMessage={}),s.validationMessage[r]=n),t.ngModel.$setValidity(r,o===!0),o===!0&&(t.ngModel.$validate(),t.$broadcast("schemaFormValidate")))}),t.$on("$destroy",function(){if(!t.externalDestructionInProgress){var e=s.destroyStrategy||t.options&&t.options.destroyStrategy||"remove";if(s.key&&"retain"!==e){var r=t.model;if(s.key.length>1&&(r=m(s.key.slice(0,s.key.length-1),r)),void 0===r)return;var n=s.schema&&s.schema.type||"";"empty"===e&&n.indexOf("string")!==-1?r[s.key.slice(-1)]="":"empty"===e&&n.indexOf("object")!==-1?r[s.key.slice(-1)]={}:"empty"===e&&n.indexOf("array")!==-1?r[s.key.slice(-1)]=[]:"null"===e?r[s.key.slice(-1)]=null:delete r[s.key.slice(-1)]}}})),g()}})}}}])},l=function(r,n,o){o=!!e.isDefined(o)&&o,t.directive("sf"+e.uppercase(r[0])+r.substr(1),function(){return{restrict:"EAC",scope:!0,replace:!0,transclude:o,template:'<sf-decorator form="form"></sf-decorator>',link:function(t,n,o){var i={items:"c",titleMap:"c",schema:"c"},a={type:r},l=!0;e.forEach(o,function(r,n){if("$"!==n[0]&&0!==n.indexOf("ng")&&"sfField"!==n){var s=function(r){e.isDefined(r)&&r!==a[n]&&(a[n]=r,l&&a.type&&(a.key||e.isUndefined(o.key))&&(t.form=a,l=!1))};"model"===n?t.$watch(r,function(e){e&&t.model!==e&&(t.model=e)}):"c"===i[n]?t.$watchCollection(r,s):o.$observe(n,s)}})}}})};this.createDecorator=function(t,r){o[t]={__name:t},e.forEach(r,function(e,r){o[t][r]={template:e,replace:!1,builder:[]}}),o[n]||(n=t),a(t)},this.defineDecorator=function(t,r){o[t]={__name:t},e.forEach(r,function(r,n){r.builder=r.builder||[],r.replace=!e.isDefined(r.replace)||r.replace,o[t][n]=r}),o[n]||(n=t),a(t)},this.createDirective=l,this.createDirectives=function(t){e.forEach(t,function(e,t){l(t,e)})},this.decorator=function(e){return e=e||n,o[e]},this.addMapping=function(e,t,r,n,i){o[e]&&(o[e][t]={template:r,builder:n,replace:!!i})},this.defineAddOn=function(e,t,r,n){o[e]&&(o[e][t]={template:r,builder:n,replace:!0})},this.$get=function(){return{decorator:function(e){return o[e]||o[n]},defaultDecorator:n}},a("sfDecorator")}]),e.module("schemaForm").provider("sfErrorMessage",function(){var t={"default":"Field does not validate",0:"Invalid type, expected {{schema.type}}",1:"No enum match for: {{viewValue}}",10:'Data does not match any schemas from "anyOf"',11:'Data does not match any schemas from "oneOf"',12:'Data is valid against more than one schema from "oneOf"',13:'Data matches schema from "not"',100:"Value is not a multiple of {{schema.multipleOf}}",101:"{{viewValue}} is less than the allowed minimum of {{schema.minimum}}",102:"{{viewValue}} is equal to the exclusive minimum {{schema.minimum}}",103:"{{viewValue}} is greater than the allowed maximum of {{schema.maximum}}",104:"{{viewValue}} is equal to the exclusive maximum {{schema.maximum}}",105:"Value is not a valid number",200:"String is too short ({{viewValue.length}} chars), minimum {{schema.minLength}}",201:"String is too long ({{viewValue.length}} chars), maximum {{schema.maxLength}}",202:"String does not match pattern: {{schema.pattern}}",300:"Too few properties defined, minimum {{schema.minProperties}}",301:"Too many properties defined, maximum {{schema.maxProperties}}",302:"Required",303:"Additional properties not allowed",304:"Dependency failed - key must exist",400:"Array is too short ({{value.length}}), minimum {{schema.minItems}}",401:"Array is too long ({{value.length}}), maximum {{schema.maxItems}}",402:"Array items are not unique",403:"Additional items not allowed",500:"Format validation failed",501:'Keyword failed: "{{title}}"',600:"Circular $refs",1e3:"Unknown property (not in schema)"};t.number=t[105],t.required=t[302],t.min=t[101],t.max=t[103],t.maxlength=t[201],t.minlength=t[200],t.pattern=t[202],this.setDefaultMessages=function(e){t=e},this.getDefaultMessages=function(){return t},this.setDefaultMessage=function(e,r){t[e]=r},this.$get=["$interpolate",function(r){var n={};return n.defaultMessages=t,n.interpolate=function(n,o,i,a,l){l=l||{};var s=a.validationMessage||{};0===n.indexOf("tv4-")&&(n=n.substring(4));var d=s["default"]||l["default"]||"";[s,l,t].some(function(t){return e.isString(t)||e.isFunction(t)?(d=t,!0):t&&t[n]?(d=t[n],!0):void 0});var c={error:n,value:o,viewValue:i,form:a,schema:a.schema,title:a.title||a.schema&&a.schema.title};return e.isFunction(d)?d(c):r(d)(c)},n}]}),e.module("schemaForm").provider("schemaForm",["sfPathProvider",function(t){var r=function(e){if(Array.isArray(e)&&2==e.length){if("null"===e[0])return e[1];if("null"===e[1])return e[0]}return e},n=function(e){var t=[];return e.forEach(function(e){t.push({name:e,value:e})}),t},o=function(t,r){if(!e.isArray(t)){var n=[];return r?e.forEach(r,function(e,r){n.push({name:t[e],value:e})}):e.forEach(t,function(e,t){n.push({name:e,value:t})}),n}return t},i=function(t,n,o){var i=h[r(n.type)];if(i)for(var a,l=0;l<i.length;l++)if(a=i[l](t,n,o))return a.schema["x-schema-form"]&&e.isObject(a.schema["x-schema-form"])&&(a=e.extend(a,a.schema["x-schema-form"])),a},a=function(t,r,n){n=n||{};var i=n.global&&n.global.formDefaults?e.copy(n.global.formDefaults):{};return n.global&&n.global.supressPropertyTitles===!0?i.title=r.title:i.title=r.title||t,r.description&&(i.description=r.description),n.required!==!0&&r.required!==!0||(i.required=!0),r.maxLength&&(i.maxlength=r.maxLength),r.minLength&&(i.minlength=r.minLength),(r.readOnly||r.readonly)&&(i.readonly=!0),r.minimum&&(i.minimum=r.minimum+(r.exclusiveMinimum?1:0)),r.maximum&&(i.maximum=r.maximum-(r.exclusiveMaximum?1:0)),r.validationMessage&&(i.validationMessage=r.validationMessage),r.enumNames&&(i.titleMap=o(r.enumNames,r["enum"])),i.schema=r,i.ngModelOptions=i.ngModelOptions||{},i},l=function(e,n,o){if("string"===r(n.type)&&!n["enum"]){var i=a(e,n,o);return i.key=o.path,i.type="text",o.lookup[t.stringify(o.path)]=i,i}},s=function(e,n,o){if("number"===r(n.type)){var i=a(e,n,o);return i.key=o.path,i.type="number",o.lookup[t.stringify(o.path)]=i,i}},d=function(e,n,o){if("integer"===r(n.type)){var i=a(e,n,o);return i.key=o.path,i.type="number",o.lookup[t.stringify(o.path)]=i,i}},c=function(e,n,o){if("boolean"===r(n.type)){var i=a(e,n,o);return i.key=o.path,i.type="checkbox",o.lookup[t.stringify(o.path)]=i,i}},u=function(e,o,i){if("string"===r(o.type)&&o["enum"]){var l=a(e,o,i);return l.key=i.path,l.type="select",l.titleMap||(l.titleMap=n(o["enum"])),i.lookup[t.stringify(i.path)]=l,l}},m=function(e,o,i){if("array"===r(o.type)&&o.items&&o.items["enum"]){var l=a(e,o,i);return l.key=i.path,l.type="checkboxes",l.titleMap||(l.titleMap=n(o.items["enum"])),i.lookup[t.stringify(i.path)]=l,l}},f=function(n,o,l){if("object"===r(o.type)){var s=a(n,o,l);return s.type="fieldset",s.items=[],l.lookup[t.stringify(l.path)]=s,e.forEach(o.properties,function(e,r){var n=l.path.slice();if(n.push(r),l.ignore[t.stringify(n)]!==!0){var a=o.required&&o.required.indexOf(r)!==-1,d=i(r,e,{path:n,required:a||!1,lookup:l.lookup,ignore:l.ignore,global:l.global});d&&s.items.push(d)}}),s}},p=function(e,n,o){if("array"===r(n.type)){var l=a(e,n,o);l.type="array",l.key=o.path,o.lookup[t.stringify(o.path)]=l;var s=n.required&&n.required.indexOf(o.path[o.path.length-1])!==-1,d=o.path.slice();return d.push(""),l.items=[i(e,n.items,{path:d,required:s||!1,lookup:o.lookup,ignore:o.ignore,global:o.global})],l}},h={string:[u,l],object:[f],number:[s],integer:[d],"boolean":[c],array:[m,p]},g=function(e){return e};this.defaults=h,this.stdFormObj=a,this.defaultFormDefinition=i,this.postProcess=function(e){g=e},this.appendRule=function(e,t){h[e]||(h[e]=[]),h[e].push(t)},this.prependRule=function(e,t){h[e]||(h[e]=[]),h[e].unshift(t)},this.createStandardForm=a,this.$get=function(){var n={};return n.merge=function(r,i,a,l,s,d){i=i||["*"],l=l||{},s=s||r.readonly||r.readOnly;var c=n.defaults(r,a,l),u=i.indexOf("*");u!==-1&&(i=i.slice(0,u).concat(c.form).concat(i.slice(u+1)));var m=c.lookup;return g(i.map(function(i){if("string"==typeof i&&(i={key:i}),i.key&&"string"==typeof i.key&&(i.key=t.parse(i.key)),i.titleMap&&(i.titleMap=o(i.titleMap)),i.itemForm){i.items=[];var c=t.stringify(i.key),u=m[c];e.forEach(u.items,function(t){var r=e.copy(i.itemForm);r.key=t.key,i.items.push(r)})}if(i.key){var f=t.stringify(i.key);if(m[f]){var p=m[f];e.forEach(p,function(e,t){void 0===i[t]&&(i[t]=p[t])})}}return s===!0&&(i.readonly=!0),i.items&&(i.items=n.merge(r,i.items,a,l,i.readonly,d)),i.tabs&&e.forEach(i.tabs,function(e){e.items=n.merge(r,e.items,a,l,i.readonly,d)}),"checkbox"===i.type&&e.isUndefined(i.schema["default"])&&(i.schema["default"]=!1),d&&"template"===i.type&&!i.template&&i.templateUrl&&d.push(i),i}))},n.defaults=function(t,n,o){var a=[],l={};if(n=n||{},o=o||{},"object"!==r(t.type))throw new Error('Not implemented. Only type "object" allowed at root level of schema.');return e.forEach(t.properties,function(e,r){if(n[r]!==!0){var s=t.required&&t.required.indexOf(r)!==-1,d=i(r,e,{path:[r],lookup:l,ignore:n,required:s,global:o});d&&a.push(d)}}),{form:a,lookup:l}},n.traverseSchema=function(t,r,n,o){o=!e.isDefined(o)||o,n=n||[];var i=function(t,r,n){if(r(t,n),e.forEach(t.properties,function(e,t){var o=n.slice();o.push(t),i(e,r,o)}),!o&&t.items){var a=n.slice();a.push(""),i(t.items,r,a)}};i(t,r,n||[])},n.traverseForm=function(t,r){r(t),e.forEach(t.items,function(e){n.traverseForm(e,r)}),t.tabs&&e.forEach(t.tabs,function(t){e.forEach(t.items,function(e){n.traverseForm(e,r)})})},n}}]),e.module("schemaForm").factory("sfSelect",["sfPath",function(e){var t=/^\d+$/;return function(r,n,o){n||(n=this);var i="string"==typeof r?e.parse(r):r;if("undefined"!=typeof o&&1===i.length)return n[i[0]]=o,n;"undefined"!=typeof o&&"undefined"==typeof n[i[0]]&&(n[i[0]]=i.length>2&&t.test(i[1])?[]:{});for(var a=n[i[0]],l=1;l<i.length;l++){if(""===i[l])return;if("undefined"!=typeof o){if(l===i.length-1)return a[i[l]]=o,o;var s=a[i[l]];"undefined"!=typeof s&&null!==s||(s=t.test(i[l+1])?[]:{},a[i[l]]=s),a=s}else a&&(a=a[i[l]])}return a}}]),e.module("schemaForm").factory("sfValidator",[function(){var t={};return t.validate=function(t,n){if(!t)return{valid:!0};var o=t.schema;if(!o)return{valid:!0};""===n&&(n=void 0),"number"===t.type&&null===n&&(n=void 0);var i={type:"object",properties:{}},a=t.key[t.key.length-1];i.properties[a]=o,t.required&&(i.required=[a]);var l={};return e.isDefined(n)&&(l[a]=n),r.validateResult(l,i)},t}]),e.module("schemaForm").directive("sfArray",["sfSelect","schemaForm","sfValidator","sfPath",function(t,r,n,o){var i=function(e){return function(t){t.key&&(t.key[t.key.indexOf("")]=e)}};return{restrict:"A",scope:!0,require:"?ngModel",link:function(a,l,s,d){var c={};a.validateArray=e.noop,d&&a.$emit("schemaFormPropagateNgModelController",d);var u=a.$watch(s.sfArray,function(l){if(l){var s=t(l.key,a.model),m=o.normalize(l.key);if(a.$watch("model"+("["!==m[0]?".":"")+m,function(e){s=a.modelArray=e}),e.isUndefined(s)&&(s=[],t(l.key,a.model,s)),a.modelArray=s,l.items){var f=l.items[0];l.items.length>1&&(f={type:"section",items:l.items.map(function(t){return t.ngModelOptions=l.ngModelOptions,e.isUndefined(t.readonly)&&(t.readonly=l.readonly),t})})}if(a.copyWithIndex=function(t){if(!c[t]&&f){var n=e.copy(f);n.arrayIndex=t,r.traverseForm(n,i(t)),c[t]=n}return c[t]},a.appendToArray=function(){var n=s.length,o=a.copyWithIndex(n);if(r.traverseForm(o,function(r){if(r.key){var n;e.isDefined(r["default"])&&(n=r["default"]),e.isDefined(r.schema)&&e.isDefined(r.schema["default"])&&(n=r.schema["default"]),e.isDefined(n)&&t(r.key,a.model,n)}}),n===s.length){var i,d=t("schema.items.type",l);"object"===d?i={}:"array"===d&&(i=[]),s.push(i)}return a.validateArray(),s},a.deleteFromArray=function(e){return s.splice(e,1),a.validateArray(),d&&d.$setDirty&&d.$setDirty(),s},l.titleMap||l.startEmpty===!0||0!==s.length||a.appendToArray(),l.titleMap&&l.titleMap.length>0){a.titleMapValues=[];var p=function(e){a.titleMapValues=[],e=e||[],l.titleMap.forEach(function(t){a.titleMapValues.push(e.indexOf(t.value)!==-1)})};p(a.modelArray),a.$watchCollection("modelArray",p),a.$watchCollection("titleMapValues",function(e,t){if(e&&e!==t){for(var r=a.modelArray;r.length>0;)r.pop();l.titleMap.forEach(function(t,n){e[n]&&r.push(t.value)}),a.validateArray()}})}if(d){var h;a.validateArray=function(){var e=n.validate(l,a.modelArray.length>0?a.modelArray:void 0);Object.keys(d.$error).filter(function(e){return 0===e.indexOf("tv4-")}).forEach(function(e){d.$setValidity(e,!0)}),e.valid!==!1||!e.error||""!==e.error.dataPath&&e.error.dataPath!=="/"+l.key[l.key.length-1]||(d.$setViewValue(a.modelArray),h=e.error,d.$setValidity("tv4-"+e.error.code,!1))},a.$on("schemaFormValidate",a.validateArray),a.hasSuccess=function(){return a.options&&a.options.pristine&&a.options.pristine.success===!1?d.$valid&&!d.$pristine&&!d.$isEmpty(d.$modelValue):d.$valid&&(!d.$pristine||!d.$isEmpty(d.$modelValue))},a.hasError=function(){return a.options&&a.options.pristine&&a.options.pristine.errors===!1?d.$invalid&&!d.$pristine:d.$invalid},a.schemaError=function(){return h}}u()}})}}}]),e.module("schemaForm").directive("sfChanged",function(){return{require:"ngModel",restrict:"AC",scope:!1,link:function(t,r,n,o){var i=t.$eval(n.sfChanged);i&&i.onChange&&o.$viewChangeListeners.push(function(){e.isFunction(i.onChange)?i.onChange(o.$modelValue,i):t.evalExpr(i.onChange,{modelValue:o.$modelValue,form:i})})}}}),e.module("schemaForm").directive("sfField",["$parse","$compile","$http","$templateCache","$interpolate","$q","sfErrorMessage","sfPath","sfSelect",function(t,r,n,o,i,a,l,s,d){return{restrict:"AE",replace:!1,transclude:!1,scope:!0,require:"^sfSchema",link:{pre:function(e,t,r,n){e.$on("schemaFormPropagateNgModelController",function(t,r){t.stopPropagation(),t.preventDefault(),e.ngModel=r}),e.form=n.lookup["f"+r.sfField]},post:function(t,r,n,o){t.showTitle=function(){return t.form&&t.form.notitle!==!0&&t.form.title},t.listToCheckboxValues=function(t){var r={};return e.forEach(t,function(e){r[e]=!0}),r},t.checkboxValuesToList=function(t){var r=[];return e.forEach(t,function(e,t){e&&r.push(t)}),r},t.buttonClick=function(r,n){e.isFunction(n.onClick)?n.onClick(r,n):e.isString(n.onClick)&&(o?o.evalInParentScope(n.onClick,{$event:r,form:n}):t.$eval(n.onClick,{$event:r,form:n}))},t.evalExpr=function(e,r){return o?o.evalInParentScope(e,r):t.$eval(e,r)},t.evalInScope=function(e,r){if(e)return t.$eval(e,r)},t.interp=function(e,t){return e&&i(e)(t)},t.hasSuccess=function(){return!!t.ngModel&&(t.options&&t.options.pristine&&t.options.pristine.success===!1?t.ngModel.$valid&&!t.ngModel.$pristine&&!t.ngModel.$isEmpty(t.ngModel.$modelValue):t.ngModel.$valid&&(!t.ngModel.$pristine||!t.ngModel.$isEmpty(t.ngModel.$modelValue)))},t.hasError=function(){return!!t.ngModel&&(t.options&&t.options.pristine&&t.options.pristine.errors===!1?t.ngModel.$invalid&&!t.ngModel.$pristine:t.ngModel.$invalid)},t.errorMessage=function(e){return l.interpolate(e&&e.code+""||"default",t.ngModel&&t.ngModel.$modelValue||"",t.ngModel&&t.ngModel.$viewValue||"",t.form,t.options&&t.options.validationMessage)};var a=t.form;a.key&&(t.$on("schemaForm.error."+a.key.join("."),function(e,r,n,o){n!==!0&&n!==!1||(o=n,n=void 0),t.ngModel&&r&&(t.ngModel.$setDirty?t.ngModel.$setDirty():(t.ngModel.$dirty=!0,t.ngModel.$pristine=!1),n&&(a.validationMessage||(a.validationMessage={}),a.validationMessage[r]=n),t.ngModel.$setValidity(r,o===!0),o===!0&&(t.ngModel.$validate(),t.$broadcast("schemaFormValidate")))}),t.$on("$destroy",function(){if(!t.externalDestructionInProgress){var e=a.destroyStrategy||t.options&&t.options.destroyStrategy||"remove";if(a.key&&"retain"!==e){var r=t.model;if(a.key.length>1&&(r=d(a.key.slice(0,a.key.length-1),r)),void 0===r)return;var n=a.schema&&a.schema.type||"";"empty"===e&&n.indexOf("string")!==-1?r[a.key.slice(-1)]="":"empty"===e&&n.indexOf("object")!==-1?r[a.key.slice(-1)]={}:"empty"===e&&n.indexOf("array")!==-1?r[a.key.slice(-1)]=[]:"null"===e?r[a.key.slice(-1)]=null:delete r[a.key.slice(-1)]}}}))}}}}]),e.module("schemaForm").directive("sfMessage",["$injector","sfErrorMessage",function(t,r){var n=t.has("$sanitize")?t.get("$sanitize"):function(e){return e};return{scope:!1,restrict:"EA",link:function(t,o,i){var a="";i.sfMessage&&t.$watch(i.sfMessage,function(e){e&&(a=n(e),d(!!t.ngModel))});var l,s=function(e){e!==l&&(o.html(e),l=e)},d=function(n){if(n)if(t.hasError()){var o=[];e.forEach(t.ngModel&&t.ngModel.$error,function(e,t){e&&o.push(t)}),o=o.filter(function(e){return"schemaForm"!==e});var i=o[0];s(i?r.interpolate(i,t.ngModel.$modelValue,t.ngModel.$viewValue,t.form,t.options&&t.options.validationMessage):a)}else s(a);else s(a)};d();var c=t.$watch("ngModel",function(e){e&&(e.$parsers.push(function(e){return d(!0),e}),e.$formatters.push(function(e){return d(!0),e}),c())});t.$watchCollection("ngModel.$error",function(){d(!!t.ngModel)})}}}]),e.module("schemaForm").directive("sfNewArray",["sfSelect","sfPath","schemaForm",function(t,r,n){return{scope:!1,link:function(o,i,a){o.min=0,o.modelArray=o.$eval(a.sfNewArray);var l=function(){o.modelArray=o.$eval(a.sfNewArray),o.ngModel&&o.ngModel.$pristine&&o.firstDigest&&(!o.options||o.options.validateOnRender!==!0)||o.validateField&&o.validateField()},s=function(){o.form&&o.form.onChange&&(e.isFunction(o.form.onChange)?o.form.onChange(o.modelArray,o.form):o.evalExpr(o.form.onChange,{modelValue:o.modelArray,form:o.form}))},d=function(){var e=o.modelArray;if(!e){var n=r.parse(a.sfNewArray);e=[],t(n,o,e),o.modelArray=e}return e},c=o.$watch("form",function(e){if(e){if(e.titleMap||e.startEmpty===!0||o.modelArray&&0!==o.modelArray.length||o.appendToArray(),o.form&&o.form.schema&&o.form.schema.uniqueItems===!0?(o.$watch(a.sfNewArray,l,!0),o.$watch([a.sfNewArray,a.sfNewArray+".length"],s)):o.$watchGroup?o.$watchGroup([a.sfNewArray,a.sfNewArray+".length"],function(){l(),s()}):(o.$watch(a.sfNewArray,function(){l(),s()}),o.$watch(a.sfNewArray+".length",function(){l(),s()})),e.titleMap&&e.titleMap.length>0){o.titleMapValues=[];var t=function(t){o.titleMapValues=[],t=t||[],e.titleMap.forEach(function(e){o.titleMapValues.push(t.indexOf(e.value)!==-1)})};t(o.modelArray),o.$watchCollection("modelArray",t),o.$watchCollection("titleMapValues",function(t,r){if(t&&t!==r){for(var n=d();n.length>0;)n.pop();e.titleMap.forEach(function(e,r){t[r]&&n.push(e.value)}),o.validateField&&o.validateField()}})}c()}});o.appendToArray=function(){var r,i=d();if(o.form&&o.form.schema&&o.form.schema.items){var a=o.form.schema.items;a.type&&a.type.indexOf("object")!==-1?(r={},o.options&&o.options.setSchemaDefaults===!1||(r=e.isDefined(a["default"])?a["default"]:r,r&&n.traverseSchema(a,function(n,o){e.isDefined(n["default"])&&t(o,r,n["default"])}))):a.type&&a.type.indexOf("array")!==-1?(r=[],o.options&&o.options.setSchemaDefaults===!1||(r=a["default"]||r)):o.options&&o.options.setSchemaDefaults===!1||(r=a["default"]||r)}return i.push(r),i},o.deleteFromArray=function(e){var t=o.modelArray;return t&&t.splice(e,1),t};var u=function(e){return function(t){t.key&&(t.key[t.key.indexOf("")]=e)}},m={};o.copyWithIndex=function(t){var r=o.form;if(!m[t]){var i=r.items[0];if(r.items.length>1&&(i={type:"section",items:r.items.map(function(t){return t.ngModelOptions=r.ngModelOptions,e.isUndefined(t.readonly)&&(t.readonly=r.readonly),t})}),i){var a=e.copy(i);a.arrayIndex=t,n.traverseForm(a,u(t)),m[t]=a}}return m[t]}}}}]),e.module("schemaForm").directive("sfSchema",["$compile","$http","$templateCache","$q","schemaForm","schemaFormDecorators","sfSelect","sfPath","sfBuilder",function(t,r,n,o,i,a,l,s,d){return{scope:{schema:"=sfSchema",initialForm:"=sfForm",model:"=sfModel",options:"=sfOptions"},controller:["$scope",function(e){this.evalInParentScope=function(t,r){return e.$parent.$eval(t,r)};var t=this;e.lookup=function(e){return e&&(t.lookup=e),t.lookup}}],replace:!1,restrict:"A",transclude:!0,require:"?form",link:function(s,c,u,m,f){s.formCtrl=m;var p={};f(s,function(e){if(e.addClass("schema-form-ignore"),c.prepend(e),c[0].querySelectorAll){var t=c[0].querySelectorAll("[ng-model]");if(t)for(var r=0;r<t.length;r++){var n=t[r].getAttribute("ng-model");p[n.substring(n.indexOf(".")+1)]=!0}}});var h,g={},v=function(e,t){var a=[],l=i.merge(e,t,p,s.options,void 0,a);a.length>0?o.all(a.map(function(e){return r.get(e.templateUrl,{cache:n}).then(function(t){e.template=t.data})})).then(function(){y(e,t,l)}):y(e,t,l)},y=function(r,n,o){h&&(s.externalDestructionInProgress=!0,h.$destroy(),s.externalDestructionInProgress=!1),h=s.$new(),h.schemaForm={form:o,schema:r},c.children(":not(.schema-form-ignore)").remove();for(var m={},f=c[0].querySelectorAll("*[sf-insert-field]"),p=0;p<f.length;p++)m[f[p].getAttribute("sf-insert-field")]=f[p];var g=a.decorator(u.sfUseDecorator),v=Object.create(null);s.lookup(v),c[0].appendChild(d.build(o,g,m,v)),h.firstDigest=!0,setTimeout(function(){h.firstDigest=!1},0),t(c.children())(h),s.options&&s.options.setSchemaDefaults===!1||i.traverseSchema(r,function(t,r){if(e.isDefined(t["default"])){var n=l(r,s.model);e.isUndefined(n)&&l(r,s.model,t["default"])}}),s.$emit("sf-render-finished",c)},b=["*"];s.$watch(function(){var e=s.schema,t=s.initialForm||b;t&&e&&e.type&&(g.form!==t||g.schema!==e)&&Object.keys(e.properties).length>0&&(g.schema=e,g.form=t,v(e,t))}),s.$on("schemaFormRedraw",function(){var t=s.schema,r=s.initialForm?e.copy(s.initialForm):["*"];t&&v(t,r)}),s.$on("$destroy",function(){s.externalDestructionInProgress=!0}),s.evalExpr=function(e,t){return s.$parent.$eval(e,t)}}}}]),e.module("schemaForm").directive("schemaValidate",["sfValidator","$parse","sfSelect",function(t,r,n){return{restrict:"A",scope:!1,priority:500,require:"ngModel",link:function(r,o,i,a){r.$emit("schemaFormPropagateNgModelController",a);var l=null,s=r.$eval(i.schemaValidate);s.copyValueTo&&a.$viewChangeListeners.push(function(){var t=s.copyValueTo;e.forEach(t,function(e){n(e,r.model,a.$modelValue)})});var d=function(e){if(!s)return e;if(r.options&&r.options.tv4Validation===!1)return e;var n=t.validate(s,e);Object.keys(a.$error).filter(function(e){return 0===e.indexOf("tv4-")}).forEach(function(e){a.$setValidity(e,!0)});{if(n.valid)return e;if(a.$setValidity("tv4-"+n.error.code,!1),l=n.error,a.$validators)return e}};"function"==typeof s.ngModel&&s.ngModel(a),["$parsers","$viewChangeListeners","$formatters"].forEach(function(e){s[e]&&a[e]&&s[e].forEach(function(t){a[e].push(t)})}),["$validators","$asyncValidators"].forEach(function(t){s[t]&&a[t]&&e.forEach(s[t],function(e,r){a[t][r]=e})}),a.$parsers.push(d),a.$validators&&(a.$validators.schemaForm=function(){return!Object.keys(a.$error).some(function(e){return"schemaForm"!==e})});var c=s.schema;r.validateField=function(e){void 0!=e&&a.$$parentForm.$name!==e||(c&&c.type.indexOf("array")!==-1&&d(a.$modelValue),a.$setDirty?(a.$setDirty(),a.$setViewValue(a.$viewValue),a.$commitViewValue(),s.required&&a.$isEmpty(a.$modelValue)&&a.$setValidity("tv4-302",!1)):a.$setViewValue(a.$viewValue))},a.$formatters.push(function(e){return!a.$pristine||!r.firstDigest||r.options&&r.options.validateOnRender===!0?(d(a.$modelValue),e):e}),r.$on("schemaFormValidate",function(e,t){r.validateField(t)}),r.schemaError=function(){return l}}}}]),i}),define("SeedModules.AngularUI/js/seed/bootstrap-decorator",["SeedModules.AngularUI/js/seed/schema-form"],function(){angular.module("schemaForm").run(["$templateCache",function(e){e.put("decorators/bootstrap/actions-trcl.html",'<div class="btn-group schema-form-actions {{form.htmlClass}}" ng-transclude=""></div>'),e.put("decorators/bootstrap/actions.html",'<div class="btn-group schema-form-actions {{form.htmlClass}}"><input ng-repeat-start="item in form.items" type="submit" class="btn {{ item.style || \'btn-default\' }} {{form.fieldHtmlClass}}" value="{{item.title}}" ng-if="item.type === \'submit\'"> <button ng-repeat-end="" class="btn {{ item.style || \'btn-default\' }} {{form.fieldHtmlClass}}" type="button" ng-disabled="form.readonly" ng-if="item.type !== \'submit\'" ng-click="buttonClick($event,item)"><span ng-if="item.icon" class="{{item.icon}}"></span>{{item.title}}</button></div>'),e.put("decorators/bootstrap/array.html",'<div class="schema-form-array {{form.htmlClass}}" sf-field-model="sf-new-array" sf-new-array=""><label class="control-label" ng-show="showTitle()">{{ form.title }}</label><ol class="list-group" sf-field-model="" ui-sortable="form.sortOptions"><li class="list-group-item {{form.fieldHtmlClass}}" schema-form-array-items="" sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index"><button ng-hide="form.readonly || form.remove === null" ng-click="deleteFromArray($index)" ng-disabled="form.schema.minItems >= modelArray.length" style="position: relative; z-index: 20;" type="button" class="close pull-right"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button></li></ol><div class="clearfix" style="padding: 15px;" ng-model="modelArray" schema-validate="form"><div class="help-block" ng-show="(hasError() && errorMessage(schemaError())) || form.description" ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div><button ng-hide="form.readonly || form.add === null" ng-click="appendToArray()" ng-disabled="form.schema.maxItems <= modelArray.length" type="button" class="btn {{ form.style.add || \'btn-default\' }} pull-right"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</button></div></div>'),e.put("decorators/bootstrap/checkbox.html",'<div class="checkbox schema-form-checkbox {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="{{form.labelHtmlClass}}"><input type="checkbox" sf-changed="form" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" class="{{form.fieldHtmlClass}}" name="{{form.key.slice(-1)[0]}}"> <span ng-bind-html="form.title"></span></label><div class="help-block" sf-message="form.description"></div></div>'),e.put("decorators/bootstrap/checkboxes.html",'<div sf-field-model="sf-new-array" sf-new-array="" class="form-group schema-form-checkboxes {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" sf-field-model="" schema-validate="form" ng-show="showTitle()">{{form.title}}</label><div class="checkbox" ng-repeat="val in titleMapValues track by $index"><label><input type="checkbox" ng-disabled="form.readonly" sf-changed="form" class="{{form.fieldHtmlClass}}" ng-model="titleMapValues[$index]" name="{{form.key.slice(-1)[0]}}"> <span ng-bind-html="form.titleMap[$index].name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),e.put("decorators/bootstrap/default.html",'<div class="form-group schema-form-{{form.type}} {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false }"><label class="control-label {{form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label> <input ng-if="!form.fieldAddonLeft && !form.fieldAddonRight" ng-show="form.key" type="{{form.type}}" step="any" sf-changed="form" placeholder="{{form.placeholder}}" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-field-model="" ng-disabled="form.readonly" schema-validate="form" name="{{form.key.slice(-1)[0]}}" aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}"><div ng-if="form.fieldAddonLeft || form.fieldAddonRight" ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><span ng-if="form.fieldAddonLeft" class="input-group-addon" ng-bind-html="form.fieldAddonLeft"></span> <input ng-show="form.key" type="{{form.type}}" step="any" sf-changed="form" placeholder="{{form.placeholder}}" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-field-model="" ng-disabled="form.readonly" schema-validate="form" name="{{form.key.slice(-1)[0]}}" aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}"> <span ng-if="form.fieldAddonRight" class="input-group-addon" ng-bind-html="form.fieldAddonRight"></span></div><span ng-if="form.feedback !== false" class="form-control-feedback" ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }" aria-hidden="true"></span> <span ng-if="hasError() || hasSuccess()" id="{{form.key.slice(-1)[0] + \'Status\'}}" class="sr-only">{{ hasSuccess() ? \'(success)\' : \'(error)\' }}</span><div class="help-block" sf-message="form.description"></div></div>'),e.put("decorators/bootstrap/fieldset.html",'<fieldset ng-disabled="form.readonly" class="schema-form-fieldset {{form.htmlClass}}"><legend ng-class="{\'sr-only\': !showTitle() }">{{ form.title }}</legend><div class="help-block" ng-show="form.description" ng-bind-html="form.description"></div></fieldset>'),e.put("decorators/bootstrap/help.html",'<div class="helpvalue schema-form-helpvalue {{form.htmlClass}}" ng-bind-html="form.helpvalue"></div>'),e.put("decorators/bootstrap/radio-buttons.html",'<div class="form-group schema-form-radiobuttons {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><div><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label></div><div class="btn-group"><label sf-field-model="replaceAll" class="btn {{ (item.value === $$value$$) ? form.style.selected || \'btn-default\' : form.style.unselected || \'btn-default\'; }}" ng-class="{ active: item.value === $$value$$ }" ng-repeat="item in form.titleMap"><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" style="display: none;" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),
e.put("decorators/bootstrap/radios-inline.html",'<div class="form-group schema-form-radios-inline {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()" sf-field-model="" schema-validate="form">{{form.title}}</label><div><label class="radio-inline" ng-repeat="item in form.titleMap"><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" ng-disabled="form.readonly" sf-field-model="" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),e.put("decorators/bootstrap/radios.html",'<div class="form-group schema-form-radios {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" sf-field-model="" schema-validate="form" ng-show="showTitle()">{{form.title}}</label><div class="radio" ng-repeat="item in form.titleMap"><label><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" ng-disabled="form.readonly" sf-field-model="" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),e.put("decorators/bootstrap/section.html",'<div class="schema-form-section {{form.htmlClass}}"></div>'),e.put("decorators/bootstrap/select.html",'<div class="form-group {{form.htmlClass}} schema-form-select" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false}"><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label><select sf-field-model="" ng-disabled="form.readonly" sf-changed="form" class="form-control {{form.fieldHtmlClass}}" schema-validate="form" ng-options="item.value as item.name group by item.group for item in form.titleMap" name="{{form.key.slice(-1)[0]}}"></select><div class="help-block" sf-message="form.description"></div></div>'),e.put("decorators/bootstrap/submit.html",'<div class="form-group schema-form-submit {{form.htmlClass}}"><input type="submit" class="btn {{ form.style || \'btn-primary\' }} {{form.fieldHtmlClass}}" value="{{form.title}}" ng-disabled="form.readonly" ng-if="form.type === \'submit\'"> <button class="btn {{ form.style || \'btn-default\' }}" type="button" ng-click="buttonClick($event,form)" ng-disabled="form.readonly" ng-if="form.type !== \'submit\'"><span ng-if="form.icon" class="{{form.icon}}"></span> {{form.title}}</button></div>'),e.put("decorators/bootstrap/tabarray.html",'<div ng-init="selected = { tab: 0 }" ng-model="modelArray" schema-validate="form" sf-field-model="sf-new-array" sf-new-array="" class="clearfix schema-form-tabarray schema-form-tabarray-{{form.tabType || \'left\'}} {{form.htmlClass}}"><div ng-if="!form.tabType || form.tabType !== \'right\'" ng-class="{\'col-xs-3\': !form.tabType || form.tabType === \'left\'}"><ul class="nav nav-tabs" ng-class="{ \'tabs-left\': !form.tabType || form.tabType === \'left\'}"><li sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a></li><li ng-hide="form.readonly" ng-disabled="form.schema.maxItems <= modelArray.length" ng-click="$event.preventDefault() || (selected.tab = appendToArray().length - 1)"><a href="#"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</a></li></ul></div><div ng-class="{\'col-xs-9\': !form.tabType || form.tabType === \'left\' || form.tabType === \'right\'}"><div class="tab-content {{form.fieldHtmlClass}}"><div class="tab-pane clearfix tab{{selected.tab}} index{{$index}}" sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index" ng-show="selected.tab === $index" ng-class="{active: selected.tab === $index}"><div schema-form-array-items=""></div><button ng-hide="form.readonly" ng-click="selected.tab = deleteFromArray($index).length - 1" ng-disabled="form.schema.minItems >= modelArray.length" type="button" class="btn {{ form.style.remove || \'btn-default\' }} pull-right"><i class="glyphicon glyphicon-trash"></i> {{ form.remove || \'Remove\'}}</button></div><div class="help-block" ng-show="(hasError() && errorMessage(schemaError())) || form.description" ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div></div></div></div><div ng-if="form.tabType === \'right\'" class="col-xs-3"><ul class="nav nav-tabs tabs-right"><li sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a></li><li ng-hide="form.readonly" ng-disabled="form.schema.maxItems <= modelArray.length" ng-click="$event.preventDefault() || (selected.tab = appendToArray().length - 1)"><a href="#"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</a></li></ul></div>'),e.put("decorators/bootstrap/tabs.html",'<div ng-init="selected = { tab: 0 }" class="schema-form-tabs {{form.htmlClass}}"><ul class="nav nav-tabs"><li ng-repeat="tab in form.tabs" ng-disabled="form.readonly" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{ tab.title }}</a></li></ul><div class="tab-content {{form.fieldHtmlClass}}"></div></div>'),e.put("decorators/bootstrap/textarea.html",'<div class="form-group has-feedback {{form.htmlClass}} schema-form-textarea" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label> <textarea ng-if="!form.fieldAddonLeft && !form.fieldAddonRight" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-changed="form" placeholder="{{form.placeholder}}" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" name="{{form.key.slice(-1)[0]}}"></textarea><div ng-if="form.fieldAddonLeft || form.fieldAddonRight" ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><span ng-if="form.fieldAddonLeft" class="input-group-addon" ng-bind-html="form.fieldAddonLeft"></span> <textarea class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-changed="form" placeholder="{{form.placeholder}}" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" name="{{form.key.slice(-1)[0]}}"></textarea> <span ng-if="form.fieldAddonRight" class="input-group-addon" ng-bind-html="form.fieldAddonRight"></span></div><span class="help-block" sf-message="form.description"></span></div>')}]),angular.module("schemaForm").config(["schemaFormDecoratorsProvider","sfBuilderProvider","sfPathProvider",function(e,t,r){var n="decorators/bootstrap/",o=t.builders.simpleTransclusion,i=t.builders.ngModelOptions,a=t.builders.ngModel,l=t.builders.sfField,s=t.builders.condition,d=t.builders.array,c=function(e){if(e.form.tabs&&e.form.tabs.length>0){var t=e.fieldFrag.querySelector(".tab-content");e.form.tabs.forEach(function(r,n){var o=document.createElement("div");o.className="tab-pane",o.setAttribute("ng-disabled","form.readonly"),o.setAttribute("ng-show","selected.tab === "+n),o.setAttribute("ng-class","{active: selected.tab === "+n+"}");var i=e.build(r.items,e.path+".tabs["+n+"].items",e.state);o.appendChild(i),t.appendChild(o)})}},u=[l,a,i,s];e.defineDecorator("bootstrapDecorator",{textarea:{template:n+"textarea.html",builder:u},fieldset:{template:n+"fieldset.html",builder:[l,o,s]},array:{template:n+"array.html",builder:[l,i,a,d,s]},tabarray:{template:n+"tabarray.html",builder:[l,i,a,d,s]},tabs:{template:n+"tabs.html",builder:[l,i,c,s]},section:{template:n+"section.html",builder:[l,o,s]},conditional:{template:n+"section.html",builder:[l,o,s]},actions:{template:n+"actions.html",builder:u},select:{template:n+"select.html",builder:u},checkbox:{template:n+"checkbox.html",builder:u},checkboxes:{template:n+"checkboxes.html",builder:[l,i,a,d,s]},number:{template:n+"default.html",builder:u},password:{template:n+"default.html",builder:u},submit:{template:n+"submit.html",builder:u},button:{template:n+"submit.html",builder:u},radios:{template:n+"radios.html",builder:u},"radios-inline":{template:n+"radios-inline.html",builder:u},radiobuttons:{template:n+"radio-buttons.html",builder:u},help:{template:n+"help.html",builder:u},"default":{template:n+"default.html",builder:u}},[])}])}),function(){angular.module("ui.tree",[]).constant("treeConfig",{treeClass:"angular-ui-tree",emptyTreeClass:"angular-ui-tree-empty",dropzoneClass:"angular-ui-tree-dropzone",hiddenClass:"angular-ui-tree-hidden",nodesClass:"angular-ui-tree-nodes",nodeClass:"angular-ui-tree-node",handleClass:"angular-ui-tree-handle",placeholderClass:"angular-ui-tree-placeholder",dragClass:"angular-ui-tree-drag",dragThreshold:3,defaultCollapsed:!1,appendChildOnHover:!0})}(),function(){angular.module("ui.tree").controller("TreeHandleController",["$scope","$element",function(e,t){this.scope=e,e.$element=t,e.$nodeScope=null,e.$type="uiTreeHandle"}])}(),function(){angular.module("ui.tree").controller("TreeNodeController",["$scope","$element",function(e,t){function r(e){if(!e)return 0;var t,n,o,i=0,a=e.childNodes();if(!a||0===a.length)return 0;for(o=a.length-1;o>=0;o--)t=a[o],n=1+r(t),i=Math.max(i,n);return i}this.scope=e,e.$element=t,e.$modelValue=null,e.$parentNodeScope=null,e.$childNodesScope=null,e.$parentNodesScope=null,e.$treeScope=null,e.$handleScope=null,e.$type="uiTreeNode",e.$$allowNodeDrop=!1,e.collapsed=!1,e.expandOnHover=!1,e.init=function(r){var n=r[0];e.$treeScope=r[1]?r[1].scope:null,e.$parentNodeScope=n.scope.$nodeScope,e.$modelValue=n.scope.$modelValue[e.$index],e.$parentNodesScope=n.scope,n.scope.initSubNode(e),t.on("$destroy",function(){n.scope.destroySubNode(e)})},e.index=function(){return e.$parentNodesScope.$modelValue.indexOf(e.$modelValue)},e.dragEnabled=function(){return!(e.$treeScope&&!e.$treeScope.dragEnabled)},e.isSibling=function(t){return e.$parentNodesScope==t.$parentNodesScope},e.isChild=function(t){var r=e.childNodes();return r&&r.indexOf(t)>-1},e.prev=function(){var t=e.index();return t>0?e.siblings()[t-1]:null},e.siblings=function(){return e.$parentNodesScope.childNodes()},e.childNodesCount=function(){return e.childNodes()?e.childNodes().length:0},e.hasChild=function(){return e.childNodesCount()>0},e.childNodes=function(){return e.$childNodesScope&&e.$childNodesScope.$modelValue?e.$childNodesScope.childNodes():null},e.accept=function(t,r){return e.$childNodesScope&&e.$childNodesScope.$modelValue&&e.$childNodesScope.accept(t,r)},e.remove=function(){return e.$parentNodesScope.removeNode(e)},e.toggle=function(){e.collapsed=!e.collapsed,e.$treeScope.$callbacks.toggle(e.collapsed,e)},e.collapse=function(){e.collapsed=!0},e.expand=function(){e.collapsed=!1},e.depth=function(){var t=e.$parentNodeScope;return t?t.depth()+1:1},e.maxSubDepth=function(){return e.$childNodesScope?r(e.$childNodesScope):0}}])}(),function(){angular.module("ui.tree").controller("TreeNodesController",["$scope","$element","$timeout",function(e,t,r){this.scope=e,e.$element=t,e.$modelValue=null,e.$nodeScope=null,e.$treeScope=null,e.$type="uiTreeNodes",e.$nodesMap={},e.nodropEnabled=!1,e.maxDepth=0,e.cloneEnabled=!1,e.initSubNode=function(t){return t.$modelValue?void(e.$nodesMap[t.$modelValue.$$hashKey]=t):null},e.destroySubNode=function(t){return t.$modelValue?void(e.$nodesMap[t.$modelValue.$$hashKey]=null):null},e.accept=function(t,r){return e.$treeScope.$callbacks.accept(t,e,r)},e.beforeDrag=function(t){return e.$treeScope.$callbacks.beforeDrag(t)},e.isParent=function(t){return t.$parentNodesScope==e},e.hasChild=function(){return e.$modelValue.length>0},e.removeNode=function(t){var n=e.$modelValue.indexOf(t.$modelValue);return n>-1?(r(function(){e.$modelValue.splice(n,1)[0]}),e.$treeScope.$callbacks.removed(t)):null},e.insertNode=function(t,n){r(function(){e.$modelValue.splice(t,0,n)})},e.childNodes=function(){var t,r=[];if(e.$modelValue)for(t=0;t<e.$modelValue.length;t++)r.push(e.$nodesMap[e.$modelValue[t].$$hashKey]);return r},e.depth=function(){return e.$nodeScope?e.$nodeScope.depth():0},e.outOfDepth=function(t){var r=e.maxDepth||e.$treeScope.maxDepth;return r>0&&e.depth()+t.maxSubDepth()+1>r}}])}(),function(){angular.module("ui.tree").controller("TreeController",["$scope","$element",function(e,t){this.scope=e,e.$element=t,e.$nodesScope=null,e.$type="uiTree",e.$emptyElm=null,e.$dropzoneElm=null,e.$callbacks=null,e.dragEnabled=!0,e.emptyPlaceholderEnabled=!0,e.maxDepth=0,e.dragDelay=0,e.cloneEnabled=!1,e.nodropEnabled=!1,e.dropzoneEnabled=!1,e.isEmpty=function(){return e.$nodesScope&&e.$nodesScope.$modelValue&&0===e.$nodesScope.$modelValue.length},e.place=function(t){e.$nodesScope.$element.append(t),e.$emptyElm.remove()},this.resetEmptyElement=function(){e.$nodesScope.$modelValue&&0!==e.$nodesScope.$modelValue.length||!e.emptyPlaceholderEnabled?e.$emptyElm.remove():t.append(e.$emptyElm)},this.resetDropzoneElement=function(){e.$nodesScope.$modelValue&&0===e.$nodesScope.$modelValue.length||!e.dropzoneEnabled?e.$dropzoneElm.remove():t.append(e.$dropzoneElm)},e.resetEmptyElement=this.resetEmptyElement,e.resetDropzoneElement=this.resetDropzoneElement}])}(),function(){angular.module("ui.tree").directive("uiTree",["treeConfig","$window",function(e,t){return{restrict:"A",scope:!0,controller:"TreeController",link:function(r,n,o,i){var a,l,s,d={accept:null,beforeDrag:null},c={};angular.extend(c,e),c.treeClass&&n.addClass(c.treeClass),"table"===n.prop("tagName").toLowerCase()?(r.$emptyElm=angular.element(t.document.createElement("tr")),l=n.find("tr"),s=l.length>0?angular.element(l).children().length:1e6,a=angular.element(t.document.createElement("td")).attr("colspan",s),r.$emptyElm.append(a)):(r.$emptyElm=angular.element(t.document.createElement("div")),r.$dropzoneElm=angular.element(t.document.createElement("div"))),c.emptyTreeClass&&r.$emptyElm.addClass(c.emptyTreeClass),c.dropzoneClass&&r.$dropzoneElm.addClass(c.dropzoneClass),r.$watch("$nodesScope.$modelValue.length",function(e){angular.isNumber(e)&&(i.resetEmptyElement(),i.resetDropzoneElement())},!0),r.$watch(o.dragEnabled,function(e){"boolean"==typeof e&&(r.dragEnabled=e)}),r.$watch(o.emptyPlaceholderEnabled,function(e){"boolean"==typeof e&&(r.emptyPlaceholderEnabled=e,i.resetEmptyElement())}),r.$watch(o.nodropEnabled,function(e){"boolean"==typeof e&&(r.nodropEnabled=e)}),r.$watch(o.dropzoneEnabled,function(e){"boolean"==typeof e&&(r.dropzoneEnabled=e,i.resetDropzoneElement())}),r.$watch(o.cloneEnabled,function(e){"boolean"==typeof e&&(r.cloneEnabled=e)}),r.$watch(o.maxDepth,function(e){"number"==typeof e&&(r.maxDepth=e)}),r.$watch(o.dragDelay,function(e){"number"==typeof e&&(r.dragDelay=e)}),d.accept=function(e,t,r){return!(t.nodropEnabled||t.$treeScope.nodropEnabled||t.outOfDepth(e))},d.beforeDrag=function(e){return!0},d.expandTimeoutStart=function(){},d.expandTimeoutCancel=function(){},d.expandTimeoutEnd=function(){},d.removed=function(e){},d.dropped=function(e){},d.dragStart=function(e){},d.dragMove=function(e){},d.dragStop=function(e){},d.beforeDrop=function(e){},d.toggle=function(e,t){},r.$watch(o.uiTree,function(e,t){angular.forEach(e,function(e,t){d[t]&&"function"==typeof e&&(d[t]=e)}),r.$callbacks=d},!0)}}}])}(),function(){angular.module("ui.tree").directive("uiTreeHandle",["treeConfig",function(e){return{require:"^uiTreeNode",restrict:"A",scope:!0,controller:"TreeHandleController",link:function(t,r,n,o){var i={};angular.extend(i,e),i.handleClass&&r.addClass(i.handleClass),t!=o.scope&&(t.$nodeScope=o.scope,o.scope.$handleScope=t)}}}])}(),function(){angular.module("ui.tree").directive("uiTreeNode",["treeConfig","UiTreeHelper","$window","$document","$timeout","$q",function(e,t,r,n,o,i){return{require:["^uiTreeNodes","^uiTree"],restrict:"A",controller:"TreeNodeController",link:function(a,l,s,d){var c,u,m,f,p,h,g,v,y,b,$,E,x,S,M,A,k,w,O,C,N,T,I,P,F,D,U,_={},R="ontouchstart"in window,V=null,j=document.body,H=document.documentElement;angular.extend(_,e),_.nodeClass&&l.addClass(_.nodeClass),a.init(d),a.collapsed=!!t.getNodeAttribute(a,"collapsed")||e.defaultCollapsed,a.expandOnHover=!!t.getNodeAttribute(a,"expandOnHover"),a.scrollContainer=t.getNodeAttribute(a,"scrollContainer")||s.scrollContainer||null,a.sourceOnly=a.nodropEnabled||a.$treeScope.nodropEnabled,a.$watch(s.collapsed,function(e){"boolean"==typeof e&&(a.collapsed=e)}),a.$watch("collapsed",function(e){t.setNodeAttribute(a,"collapsed",e),s.$set("collapsed",e)}),a.$watch(s.expandOnHover,function(e){"boolean"!=typeof e&&"number"!=typeof e||(a.expandOnHover=e)}),a.$watch("expandOnHover",function(e){t.setNodeAttribute(a,"expandOnHover",e),s.$set("expandOnHover",e)}),s.$observe("scrollContainer",function(e){"string"==typeof e&&(a.scrollContainer=e)}),a.$watch("scrollContainer",function(e){t.setNodeAttribute(a,"scrollContainer",e),s.$set("scrollContainer",e),g=document.querySelector(e)}),a.$on("angular-ui-tree:collapse-all",function(){a.collapsed=!0}),a.$on("angular-ui-tree:expand-all",function(){a.collapsed=!1}),E=function(e){if((R||2!==e.button&&3!==e.which)&&!(e.uiTreeDragging||e.originalEvent&&e.originalEvent.uiTreeDragging)){var o,i,s,d,g,v,E,x,S,M=angular.element(e.target);if(o=t.treeNodeHandlerContainerOfElement(M),o&&(M=angular.element(o)),i=l.clone(),x=t.elementIsTreeNode(M),S=t.elementIsTreeNodeHandle(M),(x||S)&&!(x&&t.elementContainsTreeNodeHandler(M)||(s=M.prop("tagName").toLowerCase(),"input"==s||"textarea"==s||"button"==s||"select"==s))){for(F=angular.element(e.target),D=F[0].attributes["ui-tree"];F&&F[0]&&F[0]!==l&&!D;){if(F[0].attributes&&(D=F[0].attributes["ui-tree"]),t.nodrag(F))return;F=F.parent()}a.beforeDrag(a)&&(e.uiTreeDragging=!0,e.originalEvent&&(e.originalEvent.uiTreeDragging=!0),e.preventDefault(),g=t.eventObj(e),c=!0,u=t.dragInfo(a),U=u.source.$treeScope.$id,d=l.prop("tagName"),"tr"===d.toLowerCase()?(f=angular.element(r.document.createElement(d)),v=angular.element(r.document.createElement("td")).addClass(_.placeholderClass).attr("colspan",l[0].children.length),f.append(v)):f=angular.element(r.document.createElement(d)).addClass(_.placeholderClass),p=angular.element(r.document.createElement(d)),_.hiddenClass&&p.addClass(_.hiddenClass),m=t.positionStarted(g,l),f.css("height",l.prop("offsetHeight")+"px"),h=angular.element(r.document.createElement(a.$parentNodesScope.$element.prop("tagName"))).addClass(a.$parentNodesScope.$element.attr("class")).addClass(_.dragClass),h.css("width",t.width(l)+"px"),h.css("z-index",9999),E=(l[0].querySelector(".angular-ui-tree-handle")||l[0]).currentStyle,E&&(document.body.setAttribute("ui-tree-cursor",n.find("body").css("cursor")||""),n.find("body").css({cursor:E.cursor+"!important"})),a.sourceOnly&&f.css("display","none"),l.after(f),l.after(p),u.isClone()&&a.sourceOnly?h.append(i):h.append(l),n.find("body").append(h),h.css({left:g.pageX-m.offsetX+"px",top:g.pageY-m.offsetY+"px"}),y={placeholder:f,dragging:h},N(),a.$apply(function(){a.$treeScope.$callbacks.dragStart(u.eventArgs(y,m))}),b=Math.max(j.scrollHeight,j.offsetHeight,H.clientHeight,H.scrollHeight,H.offsetHeight),$=Math.max(j.scrollWidth,j.offsetWidth,H.clientWidth,H.scrollWidth,H.offsetWidth))}}},x=function(e){var n,i,l,s,d,p,E,x,S,M,A,k,w,O,C,N,T,I,F,D,R,j,H,L,q=t.eventObj(e);if(h){if(e.preventDefault(),r.getSelection?r.getSelection().removeAllRanges():r.document.selection&&r.document.selection.empty(),l=q.pageX-m.offsetX,s=q.pageY-m.offsetY,l<0&&(l=0),s<0&&(s=0),s+10>b&&(s=b-10),l+10>$&&(l=$-10),h.css({left:l+"px",top:s+"px"}),g?(E=g.getBoundingClientRect(),d=g.scrollTop,p=d+g.clientHeight,E.bottom<q.clientY&&p<g.scrollHeight&&(C=Math.min(g.scrollHeight-p,10),g.scrollTop+=C),E.top>q.clientY&&d>0&&(N=Math.min(d,10),g.scrollTop-=N)):(d=window.pageYOffset||r.document.documentElement.scrollTop,p=d+(window.innerHeight||r.document.clientHeight||r.document.clientHeight),p<q.pageY&&p<b&&(C=Math.min(b-p,10),window.scrollBy(0,C)),d>q.pageY&&(N=Math.min(d,10),window.scrollBy(0,-N))),t.positionMoved(e,m,c),c)return void(c=!1);if(S=q.pageX-(r.pageXOffset||r.document.body.scrollLeft||r.document.documentElement.scrollLeft)-(r.document.documentElement.clientLeft||0),M=q.pageY-(r.pageYOffset||r.document.body.scrollTop||r.document.documentElement.scrollTop)-(r.document.documentElement.clientTop||0),angular.isFunction(h.hide)?h.hide():(A=h[0].style.display,h[0].style.display="none"),r.document.elementFromPoint(S,M),w=angular.element(r.document.elementFromPoint(S,M)),P=t.treeNodeHandlerContainerOfElement(w),P&&(w=angular.element(P)),angular.isFunction(h.show)?h.show():h[0].style.display=A,t.elementIsTree(w)?k=w.controller("uiTree").scope:t.elementIsTreeNodeHandle(w)?k=w.controller("uiTreeHandle").scope:t.elementIsTreeNode(w)?k=w.controller("uiTreeNode").scope:t.elementIsTreeNodes(w)?k=w.controller("uiTreeNodes").scope:t.elementIsPlaceholder(w)?k=w.controller("uiTreeNodes").scope:t.elementIsDropzone(w)?(k=w.controller("uiTree").scope,L=!0):w.controller("uiTreeNode")&&(k=w.controller("uiTreeNode").scope),F=k&&k.$treeScope&&k.$treeScope.$id&&k.$treeScope.$id===U,F&&m.dirAx)m.distX>0&&(n=u.prev(),n&&!n.collapsed&&n.accept(a,n.childNodesCount())&&(n.$childNodesScope.$element.append(f),u.moveTo(n.$childNodesScope,n.childNodes(),n.childNodesCount()))),m.distX<0&&(i=u.next(),i||(x=u.parentNode(),x&&x.$parentNodesScope.accept(a,x.index()+1)&&(x.$element.after(f),u.moveTo(x.$parentNodesScope,x.siblings(),x.index()+1))));else{if(O=!1,!k)return;if(!k.$treeScope||k.$parent.nodropEnabled||k.$treeScope.nodropEnabled||f.css("display",""),"uiTree"===k.$type&&k.dragEnabled&&(O=k.isEmpty()),"uiTreeHandle"===k.$type&&(k=k.$nodeScope),"uiTreeNode"!==k.$type&&!O&&!L)return void(_.appendChildOnHover&&(i=u.next(),!i&&v&&(x=u.parentNode(),x.$element.after(f),u.moveTo(x.$parentNodesScope,x.siblings(),x.index()+1),v=!1)));V&&f.parent()[0]!=V.$element[0]&&(V.resetEmptyElement(),V.resetDropzoneElement(),V=null),O?(V=k,k.$nodesScope.accept(a,0)&&u.moveTo(k.$nodesScope,k.$nodesScope.childNodes(),0)):L?(V=k,k.$nodesScope.accept(a,k.$nodesScope.childNodes().length)&&u.moveTo(k.$nodesScope,k.$nodesScope.childNodes(),k.$nodesScope.childNodes().length)):k.dragEnabled()&&(angular.isDefined(a.expandTimeoutOn)&&a.expandTimeoutOn!==k.id&&(o.cancel(a.expandTimeout),delete a.expandTimeout,delete a.expandTimeoutOn,a.$callbacks.expandTimeoutCancel()),k.collapsed&&(a.expandOnHover===!0||angular.isNumber(a.expandOnHover)&&0===a.expandOnHover?(k.collapsed=!1,k.$treeScope.$callbacks.toggle(!1,k)):a.expandOnHover!==!1&&angular.isNumber(a.expandOnHover)&&a.expandOnHover>0&&angular.isUndefined(a.expandTimeoutOn)&&(a.expandTimeoutOn=k.$id,a.$callbacks.expandTimeoutStart(),a.expandTimeout=o(function(){a.$callbacks.expandTimeoutEnd(),k.collapsed=!1,k.$treeScope.$callbacks.toggle(!1,k)},a.expandOnHover))),w=k.$element,T=t.offset(w),R=t.height(w),j=k.$childNodesScope?k.$childNodesScope.$element:null,H=j?t.height(j):0,R-=H,D=_.appendChildOnHover?.25*R:t.height(w)/2,I=q.pageY<T.top+D,k.$parentNodesScope.accept(a,k.index())?I?(w[0].parentNode.insertBefore(f[0],w[0]),u.moveTo(k.$parentNodesScope,k.siblings(),k.index())):_.appendChildOnHover&&k.accept(a,k.childNodesCount())?(k.$childNodesScope.$element.prepend(f),u.moveTo(k.$childNodesScope,k.childNodes(),0),v=!0):(w.after(f),u.moveTo(k.$parentNodesScope,k.siblings(),k.index()+1)):!I&&k.accept(a,k.childNodesCount())&&(k.$childNodesScope.$element.append(f),u.moveTo(k.$childNodesScope,k.childNodes(),k.childNodesCount())))}a.$apply(function(){a.$treeScope.$callbacks.dragMove(u.eventArgs(y,m))})}},S=function(e){var t=u.eventArgs(y,m);e.preventDefault(),T(),o.cancel(a.expandTimeout),a.$treeScope.$apply(function(){i.when(a.$treeScope.$callbacks.beforeDrop(t)).then(function(e){e!==!1&&a.$$allowNodeDrop?(u.apply(),a.$treeScope.$callbacks.dropped(t)):C()})["catch"](function(){C()})["finally"](function(){p.replaceWith(a.$element),f.remove(),h&&(h.remove(),h=null),a.$treeScope.$callbacks.dragStop(t),a.$$allowNodeDrop=!1,u=null;var e=document.body.getAttribute("ui-tree-cursor");null!==e&&(n.find("body").css({cursor:e}),document.body.removeAttribute("ui-tree-cursor"))})})},M=function(e){a.dragEnabled()&&E(e)},A=function(e){x(e)},k=function(e){a.$$allowNodeDrop=!0,S(e)},w=function(e){S(e)},O=function(){var e;return{exec:function(t,r){r||(r=0),this.cancel(),e=o(t,r)},cancel:function(){o.cancel(e)}}}(),I=function(e){27===e.keyCode&&k(e)},C=function(){l.bind("touchstart mousedown",function(e){a.dragDelay>0?O.exec(function(){M(e)},a.dragDelay):M(e)}),l.bind("touchend touchcancel mouseup",function(){a.dragDelay>0&&O.cancel()})},C(),N=function(){angular.element(n).bind("touchend",k),angular.element(n).bind("touchcancel",k),angular.element(n).bind("touchmove",A),angular.element(n).bind("mouseup",k),angular.element(n).bind("mousemove",A),angular.element(n).bind("mouseleave",w),angular.element(n).bind("keydown",I)},T=function(){angular.element(n).unbind("touchend",k),angular.element(n).unbind("touchcancel",k),angular.element(n).unbind("touchmove",A),angular.element(n).unbind("mouseup",k),angular.element(n).unbind("mousemove",A),angular.element(n).unbind("mouseleave",w),angular.element(n).unbind("keydown",I)}}}}])}(),function(){angular.module("ui.tree").directive("uiTreeNodes",["treeConfig","$window",function(e){return{require:["ngModel","?^uiTreeNode","^uiTree"],restrict:"A",scope:!0,controller:"TreeNodesController",link:function(t,r,n,o){var i={},a=o[0],l=o[1],s=o[2];angular.extend(i,e),i.nodesClass&&r.addClass(i.nodesClass),l?(l.scope.$childNodesScope=t,t.$nodeScope=l.scope):s.scope.$nodesScope=t,t.$treeScope=s.scope,a&&(a.$render=function(){t.$modelValue=a.$modelValue}),t.$watch(function(){return n.maxDepth},function(e){"number"==typeof e&&(t.maxDepth=e)}),t.$watch(function(){return n.nodropEnabled},function(e){"undefined"!=typeof e&&(t.nodropEnabled=!0)},!0)}}}])}(),function(){function e(e,t){if(void 0===t)return null;for(var r=t.parentNode,n=1,o="function"==typeof r.setAttribute&&r.hasAttribute(e)?r:null;r&&"function"==typeof r.setAttribute&&!r.hasAttribute(e);){if(r=r.parentNode,o=r,r===document.documentElement){o=null;break}n++}return o}angular.module("ui.tree").factory("UiTreeHelper",["$document","$window","treeConfig",function(t,r,n){return{nodesData:{},setNodeAttribute:function(e,t,r){if(!e.$modelValue)return null;var n=this.nodesData[e.$modelValue.$$hashKey];n||(n={},this.nodesData[e.$modelValue.$$hashKey]=n),n[t]=r},getNodeAttribute:function(e,t){if(!e.$modelValue)return null;var r=this.nodesData[e.$modelValue.$$hashKey];return r?r[t]:null},nodrag:function(e){return"undefined"!=typeof e.attr("data-nodrag")&&"false"!==e.attr("data-nodrag")},eventObj:function(e){var t=e;return void 0!==e.targetTouches?t=e.targetTouches.item(0):void 0!==e.originalEvent&&void 0!==e.originalEvent.targetTouches&&(t=e.originalEvent.targetTouches.item(0)),t},dragInfo:function(e){return{source:e,sourceInfo:{cloneModel:e.$treeScope.cloneEnabled===!0?angular.copy(e.$modelValue):void 0,nodeScope:e,index:e.index(),nodesScope:e.$parentNodesScope},index:e.index(),siblings:e.siblings().slice(0),parent:e.$parentNodesScope,resetParent:function(){this.parent=e.$parentNodesScope},moveTo:function(e,t,r){this.parent=e,this.siblings=t.slice(0);var n=this.siblings.indexOf(this.source);n>-1&&(this.siblings.splice(n,1),this.source.index()<r&&r--),this.siblings.splice(r,0,this.source),this.index=r},parentNode:function(){return this.parent.$nodeScope},prev:function(){return this.index>0?this.siblings[this.index-1]:null},next:function(){return this.index<this.siblings.length-1?this.siblings[this.index+1]:null},isClone:function(){return this.source.$treeScope.cloneEnabled===!0},clonedNode:function(e){return angular.copy(e)},isDirty:function(){return this.source.$parentNodesScope!=this.parent||this.source.index()!=this.index},isForeign:function(){return this.source.$treeScope!==this.parent.$treeScope},eventArgs:function(e,t){return{source:this.sourceInfo,dest:{index:this.index,nodesScope:this.parent},elements:e,pos:t}},apply:function(){var e=this.source.$modelValue;this.parent.nodropEnabled||this.parent.$treeScope.nodropEnabled||this.isDirty()&&(this.isClone()&&this.isForeign()?this.parent.insertNode(this.index,this.sourceInfo.cloneModel):(this.source.remove(),this.parent.insertNode(this.index,e)))}}},height:function(e){return e.prop("scrollHeight")},width:function(e){return e.prop("scrollWidth")},offset:function(e){var n=e[0].getBoundingClientRect();return{width:e.prop("offsetWidth"),height:e.prop("offsetHeight"),top:n.top+(r.pageYOffset||t[0].body.scrollTop||t[0].documentElement.scrollTop),left:n.left+(r.pageXOffset||t[0].body.scrollLeft||t[0].documentElement.scrollLeft)}},positionStarted:function(e,t){var r={},n=e.pageX,o=e.pageY;return e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(n=e.originalEvent.touches[0].pageX,o=e.originalEvent.touches[0].pageY),r.offsetX=n-this.offset(t).left,r.offsetY=o-this.offset(t).top,r.startX=r.lastX=n,r.startY=r.lastY=o,r.nowX=r.nowY=r.distX=r.distY=r.dirAx=0,r.dirX=r.dirY=r.lastDirX=r.lastDirY=r.distAxX=r.distAxY=0,r},positionMoved:function(e,t,r){var n,o=e.pageX,i=e.pageY;return e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(o=e.originalEvent.touches[0].pageX,i=e.originalEvent.touches[0].pageY),t.lastX=t.nowX,t.lastY=t.nowY,t.nowX=o,t.nowY=i,t.distX=t.nowX-t.lastX,t.distY=t.nowY-t.lastY,t.lastDirX=t.dirX,t.lastDirY=t.dirY,t.dirX=0===t.distX?0:t.distX>0?1:-1,t.dirY=0===t.distY?0:t.distY>0?1:-1,n=Math.abs(t.distX)>Math.abs(t.distY)?1:0,r?(t.dirAx=n,void(t.moving=!0)):(t.dirAx!==n?(t.distAxX=0,t.distAxY=0):(t.distAxX+=Math.abs(t.distX),0!==t.dirX&&t.dirX!==t.lastDirX&&(t.distAxX=0),t.distAxY+=Math.abs(t.distY),0!==t.dirY&&t.dirY!==t.lastDirY&&(t.distAxY=0)),void(t.dirAx=n))},elementIsTreeNode:function(e){return"undefined"!=typeof e.attr("ui-tree-node")},elementIsTreeNodeHandle:function(e){return"undefined"!=typeof e.attr("ui-tree-handle")},elementIsTree:function(e){return"undefined"!=typeof e.attr("ui-tree")},elementIsTreeNodes:function(e){return"undefined"!=typeof e.attr("ui-tree-nodes")},elementIsPlaceholder:function(e){return e.hasClass(n.placeholderClass)},elementIsDropzone:function(e){return e.hasClass(n.dropzoneClass)},elementContainsTreeNodeHandler:function(e){return e[0].querySelectorAll("[ui-tree-handle]").length>=1},treeNodeHandlerContainerOfElement:function(t){return e("ui-tree-handle",t[0])}}}])}(),define("SeedModules.AngularUI/js/seed/angular-ui-tree",[],function(){}),define("SeedModules.AngularUI/modules/boot",["require","exports","angular","app/application","angular-ui-router","SeedModules.AngularUI/js/seed/bootstrap-decorator","SeedModules.AngularUI/js/seed/angular-ui-tree"],function(e,t,r){return r.module("modules.angularui.boot",["ui.bootstrap","ui.tree","schemaForm"])}),define("SeedModules.AngularUI/modules/configs/httpConfig",["SeedModules.AngularUI/modules/boot"],function(e){e.config(["$provide","$httpProvider",function(e,t){e.decorator("app/factories/httpDataHandler",["$delegate","$rootScope","$modal","$appEnvironment","app/services/popupService",function(e,t,r,n,o){return e.doResponse=function(t,r){t.config.dataOnly?r.resolve(t.data,t):t.data.success?r.resolve(t.data.data,t):e.doError($.extend(t,{statusText:t.data.message}),r)},e.doError=function(e,t){o.error(e.statusText),t.reject(e);
},e}])}])}),define("SeedModules.AngularUI/modules/configs/location",["SeedModules.AngularUI/modules/boot"],function(e){e.config(["$provide",function(e){e.decorator("$location",["$delegate",function(e){return e.search=function(e){var t,r,n=(e||window.location.search).substring(1).split(/[&?]/),o={};for(t=0;t<n.length;t++)r=n[t].split("="),r[1]&&(o[decodeURIComponent(r[0])]=decodeURIComponent(r[1]));return o},e}])}])}),define("SeedModules.AngularUI/modules/configs/ngTableDefaults",["require","exports","SeedModules.AngularUI/modules/boot"],function(e,t,r){t.__esModule=!0;var n=JSON.parse(document.getElementById("seed-ui").getAttribute("data-site")),o={options:{},schema:{},params:{count:n.pageSize},settings:{counts:n.pageCounts.split(/[,?]/)}};r.value("SeedModules.AngularUI/modules/configs/ngTableDefaults",o)}),define("SeedModules.AngularUI/modules/configs/ngTableTemplates",["require","exports","SeedModules.AngularUI/modules/boot"],function(e,t,r){t.__esModule=!0;var n=function(){function e(e){e.put("ng-table/header.html","<ng-table-sorter-row></ng-table-sorter-row>"),e.put("ng-table/pager.html",'<div class="ng-cloak ng-table-pager clearfix" ng-if="params.data.length"> <div ng-if="params.settings().counts.length" class="ng-table-counts btn-group pull-right"> <button ng-repeat="count in params.settings().counts" type="button" ng-class="{\'active\':params.count()==count}" ng-click="params.count(count)" class="btn btn-default"> <span ng-bind="count"></span> </button> </div> <ul class="pagination ng-table-pagination"> <li ng-class="{\'disabled\': !page.active && !page.current, \'active\': page.current}" ng-repeat="page in pages" ng-switch="page.type"> <a ng-switch-when="prev" ng-click="params.page(page.number)" href="">&laquo;</a> <a ng-switch-when="first" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="page" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="more" ng-click="params.page(page.number)" href="">&#8230;</a> <a ng-switch-when="last" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="next" ng-click="params.page(page.number)" href="">&raquo;</a> </li> </ul> </div> '),e.put("ng-pager/pager.html",'<div class="ng-cloak ng-table-pager clearfix"> <div ng-if="params.settings().counts.length" class="ng-table-counts btn-group pull-right"> <button ng-repeat="count in params.settings().counts" type="button" ng-class="{\'active\':params.count()==count}" ng-click="params.count(count)" class="btn btn-default"> <span ng-bind="count"></span> </button> </div> <ul class="pagination ng-table-pagination"> <li ng-class="{\'disabled\': !page.active && !page.current, \'active\': page.current}" ng-repeat="page in pages" ng-switch="page.type"> <a ng-switch-when="prev" ng-click="params.page(page.number)" href="">&laquo;</a> <a ng-switch-when="first" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="page" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="more" ng-click="params.page(page.number)" href="">&#8230;</a> <a ng-switch-when="last" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="next" ng-click="params.page(page.number)" href="">&raquo;</a> </li> </ul> </div> '),e.put("ng-table/sorterRow.html",'<tr> <th title="{{$column.headerTitle(this)}}" ng-repeat="$column in $columns" ng-class="{ \'sortable\': $column.sortable(this), \'sort-asc\': params.sorting()[$column.sortable(this)]==\'asc\', \'sort-desc\': params.sorting()[$column.sortable(this)]==\'desc\' }" ng-click="sortBy($column, $event)" ng-if="$column.show(this)" ng-init="template=$column.headerTemplateURL(this)" class="header {{$column.class(this)}}"> <div ng-if="!template" class="ng-table-header" ng-class="{\'sort-indicator\': params.settings().sortingIndicator==\'div\'}"> <span ng-bind="$column.title(this)" ng-class="{\'sort-indicator\': params.settings().sortingIndicator==\'span\'}"></span> </div> <div ng-if="template" ng-include="template"></div> </th> </tr> ')}return e.$inject=["$templateCache"],e}();r.run(n)}),define("SeedModules.AngularUI/modules/configs/schemaForm",["require","exports","SeedModules.AngularUI/modules/boot","angular"],function(e,t,r,n){t.__esModule=!0;var o=function(){function e(e,t,r,o){var i=e.decorator("bootstrapDecorator"),a=function(e){if(e.form.compare){var t=e.fieldFrag.querySelector("[ng-model]");t&&t.setAttribute("sf-compare","")}};n.forEach(i,function(e,t){n.isArray(e.builder)&&e.builder.push(a)})}return e}(),i=function(){function e(e){}return e}();o.$inject=["schemaFormDecoratorsProvider","schemaFormProvider","sfBuilderProvider","sfPathProvider"],i.$inject=["$templateCache"],r.config(o).run(i)}),define("SeedModules.AngularUI/modules/configs/form/simplecolor",["SeedModules.AngularUI/modules/boot","SeedModules.AngularUI/js/seed/bootstrap-decorator"],function(e){angular.module("schemaForm").config(["schemaFormDecoratorsProvider","schemaFormProvider","sfBuilderProvider","sfPathProvider",function(e,t,r,n){var o="/SeedModules.AngularUI/modules/templates/",i=function(e,r,o){if("string"===r.type&&"html"==r.format){var i=t.stdFormObj(e,r,o);return i.key=o.path,i.type="simplecolor",o.lookup[n.stringify(o.path)]=i,i}};t.defaults.string.unshift(i),e.addMapping("bootstrapDecorator","simplecolor",o+"simplecolor.html"),e.createDirective("simplecolor",o+"simplecolor.html")}])}),define("SeedModules.AngularUI/modules/configs/enums/extendFormFields",["require","exports"],function(e,t){t.__esModule=!0;var r;!function(e){e.row="row",e.column="column",e.panel="panel",e.container="container",e.table="table",e["switch"]="switch",e.navbar="navbar"}(r=t.ExtendFormFields||(t.ExtendFormFields={}))}),define("SeedModules.AngularUI/modules/configs/form/switchField",["require","exports","SeedModules.AngularUI/modules/boot","SeedModules.AngularUI/modules/configs/enums/extendFormFields"],function(e,t,r,n){t.__esModule=!0;var o=function(){function e(e,t,r){var o="/SeedModules.AngularUI/modules/templates/form/",i=function(e,o,i){if("boolean"===o.type&&"html"==o.format){var a=t.stdFormObj(e,o,i);return a.key=i.path,a.type=n.ExtendFormFields["switch"],i.lookup[r.stringify(i.path)]=a,a}};t.defaults["boolean"].push(i),e.addMapping("bootstrapDecorator",n.ExtendFormFields["switch"],o+"switchField.html"),e.createDirective(n.ExtendFormFields["switch"],o+"switchField.html")}return e.$inject=["schemaFormDecoratorsProvider","schemaFormProvider","sfPathProvider"],e}();r.config(o)}),define("SeedModules.AngularUI/modules/configs/form/layout",["require","exports","SeedModules.AngularUI/modules/boot","SeedModules.AngularUI/modules/configs/enums/extendFormFields"],function(e,t,r,n){t.__esModule=!0;var o="/SeedModules.AngularUI/modules/templates/form/",i=function(){function e(e,t,r,i){var a=[i.builders.sfField,i.builders.ngModelOptions,i.builders.condition,i.builders.transclusion];e.defineAddOn("bootstrapDecorator",n.ExtendFormFields.row,o+"row.html",a),e.defineAddOn("bootstrapDecorator",n.ExtendFormFields.column,o+"column.html",a),e.defineAddOn("bootstrapDecorator",n.ExtendFormFields.navbar,o+"navbar.html",a)}return e.$inject=["schemaFormDecoratorsProvider","schemaFormProvider","sfPathProvider","sfBuilderProvider"],e}();r.config(i).run(["$templateCache",function(e){e.put(o+"row.html",'<div class="row" sf-field-transclude="items"></div>'),e.put(o+"column.html",'<div class="col-md-{{form.flex}} col-lg-{{form.flex}} col-sm-{{form.flex}} col-xs-{{flex}}" sf-field-transclude="items"></div>'),e.put(o+"navbar.html",'<div class="navbar navbar-{{form.theme}} {{form.htmlClass}}" style="margin: 0" sf-field-transclude="items"></div>'),e.put("decorators/bootstrap/tabs.html",'<div ng-init="selected = { tab: 0 }" class="schema-form-tabs {{form.htmlClass}}"><ul class="nav nav-tabs"><li ng-repeat="tab in form.tabs" ng-disabled="form.readonly" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#"> <i ng-if="tab.titleIcon && tab.titleIcon.length>0" class="{{tab.titleIcon}}"></i> {{ tab.title }}</a></li></ul><div class="tab-content {{form.fieldHtmlClass}}"></div></div>')}])}),define("SeedModules.AngularUI/modules/configs/form/panel",["require","exports","SeedModules.AngularUI/modules/boot","SeedModules.AngularUI/modules/configs/enums/extendFormFields"],function(e,t,r,n){t.__esModule=!0;var o="/SeedModules.AngularUI/modules/templates/form/",i=function(){function e(e,t){var r=[t.builders.sfField,t.builders.ngModelOptions,t.builders.condition,t.builders.transclusion];e.defineAddOn("bootstrapDecorator",n.ExtendFormFields.panel,o+"panel.html",r),e.defineAddOn("bootstrapDecorator",n.ExtendFormFields.container,o+"container.html",r)}return e.$inject=["schemaFormDecoratorsProvider","sfBuilderProvider"],e}();r.config(i).run(["$templateCache",function(e){e.put(o+"panel.html",'<div class="schema-form-panel panel panel-{{form.theme}} {{form.htmlClass}}"><div ng-if="!form.notitle" class="panel-heading"> <i ng-if="form.titleIcon && form.titleIcon.length>0" class="{{form.titleIcon}}"></i> <span ng-bind="form.title"></span></div><div sf-field-transclude="items"></div></div>'),e.put(o+"container.html",'<div class="panel-body {{form.htmlClass}}" sf-field-transclude="items"></div>')}])}),define("SeedModules.AngularUI/modules/configs/form/table",["require","exports","SeedModules.AngularUI/modules/boot","SeedModules.AngularUI/modules/configs/enums/extendFormFields"],function(e,t,r,n){t.__esModule=!0;var o="/SeedModules.AngularUI/modules/templates/form/",i=function(){function e(e,t){var r=[t.builders.sfField,t.builders.ngModelOptions,t.builders.condition,t.builders.transclusion];e.defineAddOn("bootstrapDecorator",n.ExtendFormFields.table,o+"table.html",r)}return e.$inject=["schemaFormDecoratorsProvider","sfBuilderProvider"],e}();r.config(i).run(["$templateCache",function(e){e.put(o+"table.html",'<table class="table" ng-table-dynamic="form.tableParams with form.tableColumns"><tr ng-repeat="row in $data"><td ng-repeat="col in $columns">{{row[col.field]}}</td></tr></table>')}])}),define("SeedModules.AngularUI/modules/providers/ngTableDefaultGetData",["require","exports","SeedModules.AngularUI/modules/boot"],function(e,t,r){t.__esModule=!0;var n=function(){function e(){this.filterFilterName="filter",this.sortingFilterName="orderBy",this.$get.$inject=["$filter"]}return e.prototype.$get=function(e){function t(t,r){if(null==t)return[];var n=r.hasFilter()?e(this.filterFilterName)(t,r.filter(!0)):t,o=r.orderBy(),i=o.length?e(this.sortingFilterName)(n,o):n,a=i.slice((r.page()-1)*r.count(),r.page()*r.count());return r.total(i.length),a}return t},e}();r.provider("SeedModules.AngularUI/modules/providers/ngTableDefaultGetData",n)}),define("SeedModules.AngularUI/modules/configs/schemaFormDefaults",["require","exports","SeedModules.AngularUI/modules/boot"],function(e,t,r){t.__esModule=!0;var n={schema:{},options:{validateOnRender:!0,validationMessage:{0:"错误的类型: {{schema.type}} (应为 {{form.type}})",302:"{{title}} 不可为空",101:"值 {{viewValue}} 小于最小值 {{schema.minimum}}",103:"值 {{viewValue}} 大于最大值 {{schema.maximum}}",200:"字符串太短 (当前 {{viewValue.length}} 个字), 最小 {{schema.minLength}}",201:"字符串太长 (当前 {{viewValue.length}} 个字), 最大 {{schema.maxLength}}",202:"输入的格式不正确"}}};r.value("SeedModules.AngularUI/modules/configs/schemaFormDefaults",n)}),define("SeedModules.AngularUI/modules/module",["require","exports","angular","SeedModules.AngularUI/modules/configs/httpConfig","SeedModules.AngularUI/modules/configs/location","SeedModules.AngularUI/modules/configs/ngTableDefaults","SeedModules.AngularUI/modules/configs/ngTableTemplates","SeedModules.AngularUI/modules/configs/schemaForm","SeedModules.AngularUI/modules/configs/form/simplecolor","SeedModules.AngularUI/modules/configs/form/switchField","SeedModules.AngularUI/modules/configs/form/layout","SeedModules.AngularUI/modules/configs/form/panel","SeedModules.AngularUI/modules/configs/form/table","SeedModules.AngularUI/modules/providers/ngTableDefaultGetData","SeedModules.AngularUI/modules/configs/schemaFormDefaults"],function(e,t,r){var n=function(){function e(e,t){var r=JSON.parse(document.getElementById("seed-ui").getAttribute("data-site"));r.prefix=r.prefix?"/"+r.prefix:"",t.siteSettings=r}return e.$inject=["$provide","$appConfig"],e}();return r.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog modal-{{size}}"><div class="modal-content" modal-transclude></div></div>\n</div>')}]),r.module("modules.angularui",["modules.angularui.boot"]).config(n)});