define("modules/ngtable/configs",["app/application"],function(e){"use strict";return angular.module("modules.ngtable.configs",[])}),define("modules/ngtable/configs/ngTableDefaults",["modules/ngtable/configs"],function(e){"use strict";e.value("modules.ngtable.configs.ngTableDefaults",{params:{},settings:{}})}),define("modules/ngtable/providers",["app/application"],function(e){"use strict";return angular.module("modules.ngtable.providers",[])}),define("modules/ngtable/providers/ngTableDefaultGetData",["modules/ngtable/providers"],function(e){"use strict";e.provider("modules.ngtable.providers.ngTableDefaultGetData",[function(){function e(e){function n(n,a){if(null==n)return[];var r=a.hasFilter()?e(t.filterFilterName)(n,a.filter(!0)):n,l=a.orderBy(),i=l.length?e(t.sortingFilterName)(r,l):r,o=i.slice((a.page()-1)*a.count(),a.page()*a.count());return a.total(i.length),o}return n}var t=this;t.$get=e,t.filterFilterName="filter",t.sortingFilterName="orderBy",e.$inject=["$filter"]}])}),define("modules/ngtable/providers/ngTableFilterConfig",["modules/ngtable/providers"],function(e){"use strict";e.provider("modules.ngtable.providers.ngTableFilterConfig",[function(){function e(){t()}function t(){r=l}function n(e){var t=angular.extend({},r,e);t.aliasUrls=angular.extend({},r.aliasUrls,e.aliasUrls),r=t}function a(){function e(e,t){return e.indexOf("/")!==-1?e:a.getUrlForAlias(e,t)}function t(e){return r.aliasUrls[e]||r.defaultBaseUrl+e+r.defaultExt}var n,a={config:n,getTemplateUrl:e,getUrlForAlias:t};return Object.defineProperty(a,"config",{get:function(){return n=n||angular.copy(r)},enumerable:!0}),a}var r,l={defaultBaseUrl:"ng-table/filters/",defaultExt:".html",aliasUrls:{}};this.$get=a,this.resetConfigs=t,this.setConfig=n,e(),a.$inject=[]}])}),define("modules/ngtable/factories",["app/application"],function(e){"use strict";return angular.module("modules.ngtable.factories",[])}),define("modules/ngtable/factories/ngTableColumn",["modules/ngtable/factories"],function(e){"use strict";e.factory("modules.ngtable.factories.ngTableColumn",[function(){function e(e,n){var a=Object.create(e);for(var r in t)void 0===a[r]&&(a[r]=t[r]),angular.isFunction(a[r])||!function(t){a[t]=function(){return e[t]}}(r),function(t){var r=a[t];a[t]=function(){return 0===arguments.length?r.call(e,n):r.apply(e,arguments)}}(r);return a}var t={"class":function(){return""},filter:function(){return!1},filterData:angular.noop,headerTemplateURL:function(){return!1},headerTitle:function(){return""},sortable:function(){return!1},show:function(){return!0},title:function(){return""},titleAlt:function(){return""}};return{buildColumn:e}}])}),define("modules/ngtable/factories/ngTableEventsChannel",["modules/ngtable/factories"],function(e){"use strict";e.factory("modules.ngtable.factories.ngTableEventsChannel",["$rootScope",function(e){function t(e,t){var r=e.charAt(0).toUpperCase()+e.substring(1),l={};return l["on"+r]=n(e),l["publish"+r]=a(e),angular.extend(t,l)}function n(t){return function(n){var a=angular.identity,l=e;if(2===arguments.length?angular.isFunction(arguments[1].$new)?l=arguments[1]:a=arguments[1]:arguments.length>2&&(l=arguments[1],a=arguments[2]),angular.isObject(a)){var i=a;a=function(e){return e===i}}return l.$on("ngTable:"+t,function(e,t){if(!t.isNullInstance){var l=r(arguments,2),i=[t].concat(l);a.apply(this,i)&&n.apply(this,i)}})}}function a(t){return function(){var n=["ngTable:"+t].concat(Array.prototype.slice.call(arguments));e.$broadcast.apply(e,n)}}function r(e,t){return Array.prototype.slice.call(e,null==t?1:t)}var l={};return l=t("afterCreated",l),l=t("afterReloadData",l),l=t("datasetChanged",l),l=t("pagesChanged",l)}])}),define("modules/ngtable/factories/ngTableGetDataBcShim",["modules/ngtable/factories"],function(e){"use strict";e.factory("modules.ngtable.factories.ngTableGetDataBcShim",["$q",function(e){function t(t){return function(){var n=e.defer(),a=t.apply(this,[n].concat(Array.prototype.slice.call(arguments)));return a||(a=n.promise),a}}return t}])}),define("modules/ngtable/factories/NgTableParams",["modules/ngtable/factories"],function(e){"use strict";e.factory("modules.ngtable.factories.NgTableParams",["$q","$log","modules.ngtable.configs.ngTableDefaults","modules.ngtable.factories.ngTableGetDataBcShim","modules.ngtable.providers.ngTableDefaultGetData","modules.ngtable.factories.ngTableEventsChannel",function(e,t,n,a,r,l){var i=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},o=function(o,s){function u(){var t=h.getDataFnAdaptor(h.getData);return e.when(t.call(h,f))}function c(){var t=h.getGroupsFnAdaptor(h.getGroups);return e.when(t.call(h,h.groupBy,f))}function g(t){var n=h.interceptors||[];return n.reduce(function(t,n){var a=n.response&&n.response.bind(n)||e.when,r=n.responseError&&n.responseError.bind(n)||e.reject;return t.then(function(e){return a(e,f)},function(e){return r(e,f)})},t())}"boolean"==typeof o&&(this.isNullInstance=!0);var d,f=this,p=!1,m=function(){h.debugMode&&t.debug&&t.debug.apply(this,arguments)};this.data=[],this.parameters=function(e,t){if(t=t||!1,angular.isDefined(e)){for(var n in e){var a=e[n];if(t&&n.indexOf("[")>=0){for(var r=n.split(/\[(.*)\]/).reverse(),l="",o=0,s=r.length;o<s;o++){var u=r[o];if(""!==u){var c=a;a={},a[l=u]=i(c)?parseFloat(c):c}}"sorting"===l&&(b[l]={}),b[l]=angular.extend(b[l]||{},a[l])}else b[n]=i(e[n])?parseFloat(e[n]):e[n]}return m("ngTable: set parameters",b),this}return b},this.settings=function(e){if(angular.isDefined(e)){angular.isArray(e.data)&&(e.total=e.data.length),e.getData&&e.getData.length>1&&(e.getDataFnAdaptor=a),e.getGroups&&e.getGroups.length>2&&(e.getGroupsFnAdaptor=a);var t=h.data;h=angular.extend(h,e);var n=e.hasOwnProperty("data")&&e.data!=t;return n&&(p&&this.page(1),p=!1,l.publishDatasetChanged(this,e.data,t)),m("ngTable: set settings",h),this}return h},this.page=function(e){return angular.isDefined(e)?this.parameters({page:e}):b.page},this.total=function(e){return angular.isDefined(e)?this.settings({total:e}):h.total},this.count=function(e){return angular.isDefined(e)?this.parameters({count:e,page:1}):b.count},this.filter=function(e){if(angular.isDefined(e)&&angular.isObject(e))return this.parameters({filter:e,page:1});if(e===!0){for(var t=Object.keys(b.filter),n={},a=0;a<t.length;a++){var r=b.filter[t[a]];null!=r&&""!==r&&(n[t[a]]=r)}return n}return b.filter},this.sorting=function(e){if(2==arguments.length){var t={};return t[e]=arguments[1],this.parameters({sorting:t}),this}return angular.isDefined(e)?this.parameters({sorting:e}):b.sorting},this.isSortBy=function(e,t){return void 0!==t?angular.isDefined(b.sorting[e])&&b.sorting[e]==t:angular.isDefined(b.sorting[e])},this.orderBy=function(){var e=[];for(var t in b.sorting)e.push(("asc"===b.sorting[t]?"+":"-")+t);return e},this.getData=function(e){return r(this.data,e)},this.getGroups=function(e){return u().then(function(t){var n={};angular.forEach(t,function(t){var a=angular.isFunction(e)?e(t):t[e];n[a]=n[a]||{data:[]},n[a].value=a,n[a].data.push(t)});var a=[];for(var r in n)a.push(n[r]);return m("ngTable: refresh groups",a),a})},this.generatePagesArray=function(e,t,n,a){arguments.length||(e=this.page(),t=this.total(),n=this.count());var r,l,i,o,s;if(a=a&&a<6?6:a,s=[],o=Math.ceil(t/n),o>1){s.push({type:"prev",number:Math.max(1,e-1),active:e>1}),s.push({type:"first",number:1,active:e>1,current:1===e}),l=Math.round((h.paginationMaxBlocks-h.paginationMinBlocks)/2),i=Math.max(2,e-l),r=Math.min(o-1,e+2*l-(e-i)),i=Math.max(2,i-(2*l-(r-i)));for(var u=i;u<=r;)u===i&&2!==u||u===r&&u!==o-1?s.push({type:"more",active:!1}):s.push({type:"page",number:u,active:e!==u,current:e===u}),u++;s.push({type:"last",number:o,active:e!==o,current:e===o}),s.push({type:"next",number:Math.min(o,e+1),active:e<o})}return s},this.isDataReloadRequired=function(){return!p||!angular.equals(b,d)},this.hasFilter=function(){return Object.keys(this.filter(!0)).length>0},this.hasFilterChanges=function(){return!angular.equals(b&&b.filter,d&&d.filter)},this.url=function(e){e=e||!1;var t=e?[]:{};for(var n in b)if(b.hasOwnProperty(n)){var a=b[n],r=encodeURIComponent(n);if("object"==typeof a){for(var l in a)if(!angular.isUndefined(a[l])&&""!==a[l]){var i=r+"["+encodeURIComponent(l)+"]";e?t.push(i+"="+a[l]):t[i]=a[l]}}else angular.isFunction(a)||angular.isUndefined(a)||""===a||(e?t.push(r+"="+encodeURIComponent(a)):t[r]=encodeURIComponent(a))}return t},this.reload=function(){var t=this,n=null;h.$loading=!0,d=angular.copy(b),p=!0,n=g(h.groupBy?c:u),m("ngTable: reload data");var a=t.data;return n.then(function(e){return h.$loading=!1,t.data=e,l.publishAfterReloadData(t,e,a),t.reloadPages(),h.$scope&&h.$scope.$emit("ngTableAfterReloadData"),e})["catch"](function(t){return d=null,p=!1,e.reject(t)})},this.reloadPages=function(){var e;return function(){var t=e,n=f.generatePagesArray(f.page(),f.total(),f.count());angular.equals(t,n)||(e=n,l.publishPagesChanged(this,n,t))}}();var b={page:1,count:1,filter:{},sorting:{},group:{},groupBy:null};angular.extend(b,n.params);var h={$scope:null,$loading:!1,data:null,total:0,defaultSort:"desc",filterDelay:750,counts:[10,25,50,100],interceptors:[],paginationMaxBlocks:11,paginationMinBlocks:5,sortingIndicator:"span",getDataFnAdaptor:angular.identity,getGroupsFnAdaptor:angular.identity,getGroups:this.getGroups,getData:this.getData};return this.settings(n.settings),this.settings(s),this.parameters(o,!0),l.publishAfterCreated(this),this};return o}])}),define("modules/ngtable/directives",["app/application"],function(e){"use strict";return angular.module("modules.ngtable.directives",[])}),define("modules/ngtable/directives/ngTable",["modules/ngtable/directives"],function(e){"use strict";e.directive("ngTable",["$q","$parse",function(e,t){return{restrict:"A",priority:1001,scope:!0,controller:"modules.ngtable.controllers.ngTableController",compile:function(e){var n=[],a=0,r=null;if(angular.forEach(angular.element(e.find("tr")),function(e){e=angular.element(e),e.hasClass("ng-table-group")||r||(r=e)}),r)return angular.forEach(r.find("td"),function(e){var r=angular.element(e);if(!r.attr("ignore-cell")||"true"!==r.attr("ignore-cell")){var l=function(e){return r.attr("x-data-"+e)||r.attr("data-"+e)||r.attr(e)},i=function(e){var a=l(e);if(a)return function(e,r){return t(a)(e,angular.extend(r||{},{$columns:n}))}},o=l("title-alt")||l("title");o&&r.attr("data-title-text","{{"+o+"}}"),n.push({id:a++,title:i("title"),titleAlt:i("title-alt"),headerTitle:i("header-title"),sortable:i("sortable"),"class":i("header-class"),filter:i("filter"),headerTemplateURL:i("header"),filterData:i("filter-data"),show:r.attr("ng-if")?function(e){return t(r.attr("ng-if"))(e)}:void 0})}}),function(e,t,a,r){e.$columns=n=r.buildColumns(n),r.setupBindingsToInternalScope(a.ngTable),r.loadFilterData(n),r.compileDirectiveTemplates()}}}}])}),define("modules/ngtable/directives/ngTableDynamic",["modules/ngtable/directives"],function(e){"use strict";e.directive("ngTableDynamic",["$parse",function(e){return{restrict:"A",priority:1001,scope:!0,controller:"modules.ngtable.controllers.ngTableController",compile:function(e){var t;if(angular.forEach(angular.element(e.find("tr")),function(e){e=angular.element(e),e.hasClass("ng-table-group")||t||(t=e)}),t)return angular.forEach(t.find("td"),function(e){var t=angular.element(e),n=function(e){return t.attr("x-data-"+e)||t.attr("data-"+e)||t.attr(e)},a=n("title");a||t.attr("data-title-text","{{$columns[$index].titleAlt(this) || $columns[$index].title(this)}}");var r=t.attr("ng-if");r||t.attr("ng-if","$columns[$index].show(this)")}),function(e,t,n,a){var r=a.parseNgTableDynamicExpr(n.ngTableDynamic);a.setupBindingsToInternalScope(r.tableParams),a.compileDirectiveTemplates(),e.$watchCollection(r.columns,function(t){e.$columns=a.buildColumns(t),a.loadFilterData(e.$columns)})}}}}])}),define("modules/ngtable/directives/ngTableFilterRow",["modules/ngtable/directives"],function(e){"use strict";e.directive("ngTableFilterRow",[function(){var e={restrict:"E",replace:!0,templateUrl:"ng-table/filterRow.html",scope:!0,controller:"modules.ngtable.controllers.ngTableFilterRowController"};return e}])}),define("modules/ngtable/directives/ngTablePagination",["modules/ngtable/directives"],function(e){"use strict";e.directive("ngTablePagination",["$compile","modules.ngtable.factories.ngTableEventsChannel",function(e,t){return{restrict:"A",scope:{params:"=ngTablePagination",templateUrl:"="},replace:!1,link:function(n,a){t.onAfterReloadData(function(e){n.pages=e.generatePagesArray()},n,function(e){return e===n.params}),n.$watch("templateUrl",function(t){if(!angular.isUndefined(t)){var r=angular.element(document.createElement("div"));r.attr({"ng-include":"templateUrl"}),a.append(r),e(r)(n)}})}}}])}),define("modules/ngtable/directives/ngTableSorterRow",["modules/ngtable/directives"],function(e){"use strict";e.directive("ngTableSorterRow",[function(){var e={restrict:"E",replace:!0,templateUrl:"ng-table/sorterRow.html",scope:!0,controller:"modules.ngtable.controllers.ngTableSorterRowController"};return e}])}),define("modules/ngtable/controllers",["app/application"],function(e){"use strict";return angular.module("modules.ngtable.controllers",[])}),define("modules/ngtable/controllers/ngTableController",["modules/ngtable/controllers"],function(e){"use strict";e.controller("modules.ngtable.controllers.ngTableController",["$scope","modules.ngtable.factories.NgTableParams","$timeout","$parse","$compile","$attrs","$element","modules.ngtable.factories.ngTableColumn","modules.ngtable.factories.ngTableEventsChannel",function(e,t,n,a,r,l,i,o,s){function u(t){if(t){e.params.settings().$scope=e;var n=e.params;if(n.hasFilterChanges()){var a=function(){n.page(1),n.reload()};n.settings().filterDelay?g(a,n.settings().filterDelay):a()}else n.reload()}}function c(){function t(t,n){t.settings().groupBy?e.$groups=n:e.$data=n}function n(t,n){e.pages=n}function a(t){return e.params===t}s.onAfterReloadData(t,e,a),s.onPagesChanged(n,e,a)}e.$filterRow={},e.$loading=!1,e.hasOwnProperty("params")||(e.params=new t((!0))),e.params.settings().$scope=e;var g=function(){var e=0;return function(t,a){n.cancel(e),e=n(t,a)}}();e.$watch("params",function(e,t){e!==t&&e&&e.reload()},!1),e.$watch("params.isDataReloadRequired()",u),this.compileDirectiveTemplates=function(){if(!i.hasClass("ng-table")){e.templates={header:l.templateHeader?l.templateHeader:"ng-table/header.html",pagination:l.templatePagination?l.templatePagination:"ng-table/pager.html"},i.addClass("ng-table");var t=null,n=!1;angular.forEach(i.children(),function(e){"THEAD"===e.tagName&&(n=!0)}),n||(t=angular.element(document.createElement("thead")).attr("ng-include","templates.header"),i.prepend(t));var a=angular.element(document.createElement("div")).attr({"ng-table-pagination":"params","template-url":"templates.pagination"});i.after(a),t&&r(t)(e),r(a)(e)}},this.loadFilterData=function(t){angular.forEach(t,function(t){var n;return n=t.filterData(e,{$column:t}),n?angular.isObject(n)&&angular.isObject(n.promise)?(delete t.filterData,n.promise.then(function(e){angular.isArray(e)||angular.isFunction(e)||angular.isObject(e)?angular.isArray(e)&&e.unshift({title:"",id:""}):e=[],t.data=e})):t.data=n:void delete t.filterData})},this.buildColumns=function(t){return t.map(function(t){return o.buildColumn(t,e)})},this.parseNgTableDynamicExpr=function(e){if(!e||e.indexOf(" with ")>-1){var t=e.split(/\s+with\s+/);return{tableParams:t[0],columns:t[1]}}throw new Error("Parse error (expected example: ng-table-dynamic='tableParams with cols')")},this.setupBindingsToInternalScope=function(t){var n=a(t);e.$watch(n,function(t){angular.isUndefined(t)||(e.paramsModel=n,e.params=t)},!1),l.showFilter&&e.$parent.$watch(l.showFilter,function(t){e.show_filter=t}),l.disableFilter&&e.$parent.$watch(l.disableFilter,function(t){e.$filterRow.disabled=t})},c()}])}),define("modules/ngtable/controllers/ngTableFilterRowController",["modules/ngtable/controllers"],function(e){"use strict";e.controller("modules.ngtable.controllers.ngTableFilterRowController",["$scope","modules.ngtable.providers.ngTableFilterConfig",function(e,t){e.config=t}])}),define("modules/ngtable/controllers/ngTableSorterRowController",["modules/ngtable/controllers"],function(e){"use strict";e.controller("modules.ngtable.controllers.ngTableSorterRowController",["$scope",function(e){function t(t,n){var a=t.sortable&&t.sortable();if(a){var r=e.params.settings().defaultSort,l="asc"===r?"desc":"asc",i=e.params.sorting()&&e.params.sorting()[a]&&e.params.sorting()[a]===r,o=n.ctrlKey||n.metaKey?e.params.sorting():{};o[a]=i?l:r,e.params.parameters({sorting:o})}}e.sortBy=t}])}),define("modules/ngtable/module",["app/application","modules/ngtable/configs/ngTableDefaults","modules/ngtable/providers/ngTableDefaultGetData","modules/ngtable/providers/ngTableFilterConfig","modules/ngtable/factories/ngTableColumn","modules/ngtable/factories/ngTableEventsChannel","modules/ngtable/factories/ngTableGetDataBcShim","modules/ngtable/factories/NgTableParams","modules/ngtable/directives/ngTable","modules/ngtable/directives/ngTableDynamic","modules/ngtable/directives/ngTableFilterRow","modules/ngtable/directives/ngTablePagination","modules/ngtable/directives/ngTableSorterRow","modules/ngtable/controllers/ngTableController","modules/ngtable/controllers/ngTableFilterRowController","modules/ngtable/controllers/ngTableSorterRowController"],function(e){"use strict";return e.requires.push("modules.ngtable"),angular.module("modules.ngtable",["modules.ngtable.configs","modules.ngtable.providers","modules.ngtable.factories","modules.ngtable.directives","modules.ngtable.controllers"]).run(["$templateCache",function(e){e.put("ng-table/filterRow.html",'<tr ng-show="show_filter" class="ng-table-filters"> <th data-title-text="{{$column.titleAlt(this) || $column.title(this)}}" ng-repeat="$column in $columns" ng-if="$column.show(this)" class="filter"> <div ng-repeat="(name, filter) in $column.filter(this)"> <div ng-include="config.getTemplateUrl(filter)"></div> </div> </th> </tr> '),e.put("ng-table/filters/number.html",'<input type="number" name="{{name}}" ng-disabled="$filterRow.disabled" ng-model="params.filter()[name]" class="input-filter form-control"/> '),e.put("ng-table/filters/select-multiple.html",'<select ng-options="data.id as data.title for data in $column.data" ng-disabled="$filterRow.disabled" multiple ng-multiple="true" ng-model="params.filter()[name]" class="filter filter-select-multiple form-control" name="{{name}}"> </select> '),e.put("ng-table/filters/select.html",'<select ng-options="data.id as data.title for data in $column.data" ng-disabled="$filterRow.disabled" ng-model="params.filter()[name]" class="filter filter-select form-control" name="{{name}}"> <option style="display:none" value=""></option> </select> '),e.put("ng-table/filters/text.html",'<input type="text" name="{{name}}" ng-disabled="$filterRow.disabled" ng-model="params.filter()[name]" class="input-filter form-control"/> '),e.put("ng-table/header.html","<ng-table-sorter-row></ng-table-sorter-row> <ng-table-filter-row></ng-table-filter-row> "),e.put("ng-table/pager.html",'<div class="ng-cloak ng-table-pager" ng-if="params.data.length"> <div ng-if="params.settings().counts.length" class="ng-table-counts btn-group pull-right"> <button ng-repeat="count in params.settings().counts" type="button" ng-class="{\'active\':params.count()==count}" ng-click="params.count(count)" class="btn btn-default"> <span ng-bind="count"></span> </button> </div> <ul class="pagination ng-table-pagination"> <li ng-class="{\'disabled\': !page.active && !page.current, \'active\': page.current}" ng-repeat="page in pages" ng-switch="page.type"> <a ng-switch-when="prev" ng-click="params.page(page.number)" href="">&laquo;</a> <a ng-switch-when="first" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="page" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="more" ng-click="params.page(page.number)" href="">&#8230;</a> <a ng-switch-when="last" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="next" ng-click="params.page(page.number)" href="">&raquo;</a> </li> </ul> </div> '),e.put("ng-table/sorterRow.html",'<tr> <th title="{{$column.headerTitle(this)}}" ng-repeat="$column in $columns" ng-class="{ \'sortable\': $column.sortable(this), \'sort-asc\': params.sorting()[$column.sortable(this)]==\'asc\', \'sort-desc\': params.sorting()[$column.sortable(this)]==\'desc\' }" ng-click="sortBy($column, $event)" ng-if="$column.show(this)" ng-init="template=$column.headerTemplateURL(this)" class="header {{$column.class(this)}}"> <div ng-if="!template" class="ng-table-header" ng-class="{\'sort-indicator\': params.settings().sortingIndicator==\'div\'}"> <span ng-bind="$column.title(this)" ng-class="{\'sort-indicator\': params.settings().sortingIndicator==\'span\'}"></span> </div> <div ng-if="template" ng-include="template"></div> </th> </tr> ')}])});