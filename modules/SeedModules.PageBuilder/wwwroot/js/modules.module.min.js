"use strict";!function(e){var t={parse:function(e){if("string"!=typeof e)throw new TypeError("ObjectPath.parse must be passed a string");for(var t,r,i,o,n=0,a=[];n<e.length;)if(t=e.indexOf(".",n),r=e.indexOf("[",n),t===-1&&r===-1)a.push(e.slice(n,e.length)),n=e.length;else if(r===-1||t!==-1&&t<r)a.push(e.slice(n,t)),n=t+1;else if(r>n&&(a.push(e.slice(n,r)),n=r),i=e.slice(r+1,r+2),'"'!==i&&"'"!==i)o=e.indexOf("]",r),o===-1&&(o=e.length),a.push(e.slice(n+1,o)),n="."===e.slice(o+1,o+2)?o+2:o+1;else{for(o=e.indexOf(i+"]",r),o===-1&&(o=e.length);"\\"===e.slice(o-1,o)&&r<e.length;)r++,o=e.indexOf(i+"]",r);a.push(e.slice(n+2,o).replace(new RegExp("\\"+i,"g"),i)),n="."===e.slice(o+2,o+3)?o+3:o+2}return a},stringify:function(e,t){return Array.isArray(e)||(e=[e.toString()]),t='"'===t?'"':"'",e.map(function(e){return"["+t+e.toString().replace(new RegExp(t,"g"),"\\"+t)+t+"]"}).join("")},normalize:function(e,r){return t.stringify(Array.isArray(e)?e:t.parse(e),r)},registerModule:function(e){e.module("ObjectPath",[]).provider("ObjectPath",function(){this.parse=t.parse,this.stringify=t.stringify,this.normalize=t.normalize,this.$get=function(){return t}})}};"function"==typeof define&&define.amd?define("objectpath",[],function(){return t}):"object"==typeof exports?exports.ObjectPath=t:window.ObjectPath=t}(),function(e,t){"function"==typeof define&&define.amd?define("tv4",[],t):"undefined"!=typeof module&&module.exports?module.exports=t():e.tv4=t()}(this,function(){function e(t,r){if(t===r)return!0;if("object"==typeof t&&"object"==typeof r){if(Array.isArray(t)!==Array.isArray(r))return!1;if(Array.isArray(t)){if(t.length!==r.length)return!1;for(var i=0;i<t.length;i++)if(!e(t[i],r[i]))return!1}else{var o;for(o in t)if(void 0===r[o]&&void 0!==t[o])return!1;for(o in r)if(void 0===t[o]&&void 0!==r[o])return!1;for(o in t)if(!e(t[o],r[o]))return!1}return!0}return!1}function t(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function r(e,r){function i(e){var t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}return r=t(r||""),e=t(e||""),r&&e?(r.protocol||e.protocol)+(r.protocol||r.authority?r.authority:e.authority)+i(r.protocol||r.authority||"/"===r.pathname.charAt(0)?r.pathname:r.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+r.pathname:e.pathname)+(r.protocol||r.authority||r.pathname?r.search:r.search||e.search)+r.hash:null}function i(e){return e.split("#")[0]}function o(e,t){if(e&&"object"==typeof e)if(void 0===t?t=e.id:"string"==typeof e.id&&(t=r(t,e.id),e.id=t),Array.isArray(e))for(var i=0;i<e.length;i++)o(e[i],t);else{"string"==typeof e.$ref&&(e.$ref=r(t,e.$ref));for(var n in e)"enum"!==n&&o(e[n],t)}}function n(e,t,r,i,o){if(Error.call(this),void 0===e)throw new Error("No code supplied for error: "+t);this.message=t,this.code=e,this.dataPath=r||"",this.schemaPath=i||"",this.subErrors=o||null;var n=new Error(this.message);if(this.stack=n.stack||n.stacktrace,!this.stack)try{throw n}catch(n){this.stack=n.stack||n.stacktrace}}function a(e,t){if(t.substring(0,e.length)===e){var r=t.substring(e.length);if(t.length>0&&"/"===t.charAt(e.length-1)||"#"===r.charAt(0)||"?"===r.charAt(0))return!0}return!1}function s(e){var t=new l,n=e||"en",a={addFormat:function(){t.addFormat.apply(t,arguments)},language:function(e){return e?(m[e]||(e=e.split("-")[0]),!!m[e]&&(n=e,e)):n},addLanguage:function(e,t){var r;for(r in d)t[r]&&!t[d[r]]&&(t[d[r]]=t[r]);var i=e.split("-")[0];if(m[i]){m[e]=Object.create(m[i]);for(r in t)"undefined"==typeof m[i][r]&&(m[i][r]=t[r]),m[e][r]=t[r]}else m[e]=t,m[i]=t;return this},freshApi:function(e){var t=s();return e&&t.language(e),t},validate:function(e,r,i,o){var a=new l(t,(!1),m[n],i,o);"string"==typeof r&&(r={$ref:r}),a.addSchema("",r);var s=a.validateAll(e,r,null,null,"");return!s&&o&&(s=a.banUnknownProperties()),this.error=s,this.missing=a.missing,this.valid=null===s,this.valid},validateResult:function(){var e={};return this.validate.apply(e,arguments),e},validateMultiple:function(e,r,i,o){var a=new l(t,(!0),m[n],i,o);"string"==typeof r&&(r={$ref:r}),a.addSchema("",r),a.validateAll(e,r,null,null,""),o&&a.banUnknownProperties();var s={};return s.errors=a.errors,s.missing=a.missing,s.valid=0===s.errors.length,s},addSchema:function(){return t.addSchema.apply(t,arguments)},getSchema:function(){return t.getSchema.apply(t,arguments)},getSchemaMap:function(){return t.getSchemaMap.apply(t,arguments)},getSchemaUris:function(){return t.getSchemaUris.apply(t,arguments)},getMissingUris:function(){return t.getMissingUris.apply(t,arguments)},dropSchemas:function(){t.dropSchemas.apply(t,arguments)},defineKeyword:function(){t.defineKeyword.apply(t,arguments)},defineError:function(e,t,r){if("string"!=typeof e||!/^[A-Z]+(_[A-Z]+)*$/.test(e))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if("number"!=typeof t||t%1!==0||t<1e4)throw new Error("Code number must be an integer > 10000");if("undefined"!=typeof d[e])throw new Error("Error already defined: "+e+" as "+d[e]);if("undefined"!=typeof u[t])throw new Error("Error code already used: "+u[t]+" as "+t);d[e]=t,u[t]=e,c[e]=c[t]=r;for(var i in m){var o=m[i];o[e]&&(o[t]=o[t]||o[e])}},reset:function(){t.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema:o,resolveUrl:r,getDocumentUri:i,errorCodes:d};return a}Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=r.length;return function(o){if("object"!=typeof o&&"function"!=typeof o||null===o)throw new TypeError("Object.keys called on non-object");var n=[];for(var a in o)e.call(o,a)&&n.push(a);if(t)for(var s=0;s<i;s++)e.call(o,r[s])&&n.push(r[s]);return n}}()),Object.create||(Object.create=function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}()),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),r=t.length>>>0;if(0===r)return-1;var i=0;if(arguments.length>1&&(i=Number(arguments[1]),i!==i?i=0:0!==i&&i!==1/0&&i!==-(1/0)&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=r)return-1;for(var o=i>=0?i:Math.max(r-Math.abs(i),0);o<r;o++)if(o in t&&t[o]===e)return o;return-1}),Object.isFrozen||(Object.isFrozen=function(e){for(var t="tv4_test_frozen_key";e.hasOwnProperty(t);)t+=Math.random();try{return e[t]=!0,delete e[t],!1}catch(r){return!0}});var l=function(e,t,r,i,o){if(this.missing=[],this.missingMap={},this.formatValidators=e?Object.create(e.formatValidators):{},this.schemas=e?Object.create(e.schemas):{},this.collectMultiple=t,this.errors=[],this.handleError=t?this.collectError:this.returnError,i&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),o&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorMessages=r,this.definedKeywords={},e)for(var n in e.definedKeywords)this.definedKeywords[n]=e.definedKeywords[n].slice(0)};l.prototype.defineKeyword=function(e,t){this.definedKeywords[e]=this.definedKeywords[e]||[],this.definedKeywords[e].push(t)},l.prototype.createError=function(e,t,r,i,o){var a=this.errorMessages[e]||c[e];if("string"!=typeof a)return new n(e,"Unknown error code "+e+": "+JSON.stringify(t),r,i,o);var s=a.replace(/\{([^{}]*)\}/g,function(e,r){var i=t[r];return"string"==typeof i||"number"==typeof i?i:e});return new n(e,s,r,i,o)},l.prototype.returnError=function(e){return e},l.prototype.collectError=function(e){return e&&this.errors.push(e),null},l.prototype.prefixErrors=function(e,t,r){for(var i=e;i<this.errors.length;i++)this.errors[i]=this.errors[i].prefixWith(t,r);return this},l.prototype.banUnknownProperties=function(){for(var e in this.unknownPropertyPaths){var t=this.createError(d.UNKNOWN_PROPERTY,{path:e},e,""),r=this.handleError(t);if(r)return r}return null},l.prototype.addFormat=function(e,t){if("object"==typeof e){for(var r in e)this.addFormat(r,e[r]);return this}this.formatValidators[e]=t},l.prototype.resolveRefs=function(e,t){if(void 0!==e.$ref){if(t=t||{},t[e.$ref])return this.createError(d.CIRCULAR_REFERENCE,{urls:Object.keys(t).join(", ")},"","");t[e.$ref]=!0,e=this.getSchema(e.$ref,t)}return e},l.prototype.getSchema=function(e,t){var r;if(void 0!==this.schemas[e])return r=this.schemas[e],this.resolveRefs(r,t);var i=e,o="";if(e.indexOf("#")!==-1&&(o=e.substring(e.indexOf("#")+1),i=e.substring(0,e.indexOf("#"))),"object"==typeof this.schemas[i]){r=this.schemas[i];var n=decodeURIComponent(o);if(""===n)return this.resolveRefs(r,t);if("/"!==n.charAt(0))return;for(var a=n.split("/").slice(1),s=0;s<a.length;s++){var l=a[s].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===r[l]){r=void 0;break}r=r[l]}if(void 0!==r)return this.resolveRefs(r,t)}void 0===this.missing[i]&&(this.missing.push(i),this.missing[i]=i,this.missingMap[i]=i)},l.prototype.searchSchemas=function(e,t){if(e&&"object"==typeof e){"string"==typeof e.id&&a(t,e.id)&&void 0===this.schemas[e.id]&&(this.schemas[e.id]=e);for(var r in e)if("enum"!==r)if("object"==typeof e[r])this.searchSchemas(e[r],t);else if("$ref"===r){var o=i(e[r]);o&&void 0===this.schemas[o]&&void 0===this.missingMap[o]&&(this.missingMap[o]=o)}}},l.prototype.addSchema=function(e,t){if("string"!=typeof e||"undefined"==typeof t){if("object"!=typeof e||"string"!=typeof e.id)return;t=e,e=t.id}(e=i(e)+"#")&&(e=i(e)),this.schemas[e]=t,delete this.missingMap[e],o(t,e),this.searchSchemas(t,e)},l.prototype.getSchemaMap=function(){var e={};for(var t in this.schemas)e[t]=this.schemas[t];return e},l.prototype.getSchemaUris=function(e){var t=[];for(var r in this.schemas)e&&!e.test(r)||t.push(r);return t},l.prototype.getMissingUris=function(e){var t=[];for(var r in this.missingMap)e&&!e.test(r)||t.push(r);return t},l.prototype.dropSchemas=function(){this.schemas={},this.reset()},l.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},l.prototype.validateAll=function(e,t,r,i,o){var a;if(t=this.resolveRefs(t),!t)return null;if(t instanceof n)return this.errors.push(t),t;var s,l=this.errors.length,d=null,u=null;if(this.checkRecursive&&e&&"object"==typeof e){if(a=!this.scanned.length,e[this.validatedSchemasKey]){var f=e[this.validatedSchemasKey].indexOf(t);if(f!==-1)return this.errors=this.errors.concat(e[this.validationErrorsKey][f]),null}if(Object.isFrozen(e)&&(s=this.scannedFrozen.indexOf(e),s!==-1)){var c=this.scannedFrozenSchemas[s].indexOf(t);if(c!==-1)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[s][c]),null}if(this.scanned.push(e),Object.isFrozen(e))s===-1&&(s=this.scannedFrozen.length,this.scannedFrozen.push(e),this.scannedFrozenSchemas.push([])),d=this.scannedFrozenSchemas[s].length,this.scannedFrozenSchemas[s][d]=t,this.scannedFrozenValidationErrors[s][d]=[];else{if(!e[this.validatedSchemasKey])try{Object.defineProperty(e,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(e,this.validationErrorsKey,{value:[],configurable:!0})}catch(m){e[this.validatedSchemasKey]=[],e[this.validationErrorsKey]=[]}u=e[this.validatedSchemasKey].length,e[this.validatedSchemasKey][u]=t,e[this.validationErrorsKey][u]=[]}}var h=this.errors.length,p=this.validateBasic(e,t,o)||this.validateNumeric(e,t,o)||this.validateString(e,t,o)||this.validateArray(e,t,o)||this.validateObject(e,t,o)||this.validateCombinations(e,t,o)||this.validateFormat(e,t,o)||this.validateDefinedKeywords(e,t,o)||null;if(a){for(;this.scanned.length;){var g=this.scanned.pop();delete g[this.validatedSchemasKey]}this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(p||h!==this.errors.length)for(;r&&r.length||i&&i.length;){var y=r&&r.length?""+r.pop():null,v=i&&i.length?""+i.pop():null;p&&(p=p.prefixWith(y,v)),this.prefixErrors(h,y,v)}return null!==d?this.scannedFrozenValidationErrors[s][d]=this.errors.slice(l):null!==u&&(e[this.validationErrorsKey][u]=this.errors.slice(l)),this.handleError(p)},l.prototype.validateFormat=function(e,t){if("string"!=typeof t.format||!this.formatValidators[t.format])return null;var r=this.formatValidators[t.format].call(null,e,t);return"string"==typeof r||"number"==typeof r?this.createError(d.FORMAT_CUSTOM,{message:r}).prefixWith(null,"format"):r&&"object"==typeof r?this.createError(d.FORMAT_CUSTOM,{message:r.message||"?"},r.dataPath||null,r.schemaPath||"/format"):null},l.prototype.validateDefinedKeywords=function(e,t){for(var r in this.definedKeywords)for(var i=this.definedKeywords[r],o=0;o<i.length;o++){var n=i[o],a=n(e,t[r],t);if("string"==typeof a||"number"==typeof a)return this.createError(d.KEYWORD_CUSTOM,{key:r,message:a}).prefixWith(null,"format");if(a&&"object"==typeof a){var s=a.code||d.KEYWORD_CUSTOM;if("string"==typeof s){if(!d[s])throw new Error("Undefined error code (use defineError): "+s);s=d[s]}var l="object"==typeof a.message?a.message:{key:r,message:a.message||"?"},u=a.schemaPath||"/"+r.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(s,l,a.dataPath||null,u)}}return null},l.prototype.validateBasic=function(e,t,r){var i;return(i=this.validateType(e,t,r))?i.prefixWith(null,"type"):(i=this.validateEnum(e,t,r))?i.prefixWith(null,"type"):null},l.prototype.validateType=function(e,t){if(void 0===t.type)return null;var r=typeof e;null===e?r="null":Array.isArray(e)&&(r="array");var i=t.type;"object"!=typeof i&&(i=[i]);for(var o=0;o<i.length;o++){var n=i[o];if(n===r||"integer"===n&&"number"===r&&e%1===0)return null}return this.createError(d.INVALID_TYPE,{type:r,expected:i.join("/")})},l.prototype.validateEnum=function(t,r){if(void 0===r["enum"])return null;for(var i=0;i<r["enum"].length;i++){var o=r["enum"][i];if(e(t,o))return null}return this.createError(d.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(t):t})},l.prototype.validateNumeric=function(e,t,r){return this.validateMultipleOf(e,t,r)||this.validateMinMax(e,t,r)||null},l.prototype.validateMultipleOf=function(e,t){var r=t.multipleOf||t.divisibleBy;return void 0===r?null:"number"==typeof e&&e%r!==0?this.createError(d.NUMBER_MULTIPLE_OF,{value:e,multipleOf:r}):null},l.prototype.validateMinMax=function(e,t){if("number"!=typeof e)return null;if(void 0!==t.minimum){if(e<t.minimum)return this.createError(d.NUMBER_MINIMUM,{value:e,minimum:t.minimum}).prefixWith(null,"minimum");if(t.exclusiveMinimum&&e===t.minimum)return this.createError(d.NUMBER_MINIMUM_EXCLUSIVE,{value:e,minimum:t.minimum}).prefixWith(null,"exclusiveMinimum")}if(void 0!==t.maximum){if(e>t.maximum)return this.createError(d.NUMBER_MAXIMUM,{value:e,maximum:t.maximum}).prefixWith(null,"maximum");if(t.exclusiveMaximum&&e===t.maximum)return this.createError(d.NUMBER_MAXIMUM_EXCLUSIVE,{value:e,maximum:t.maximum}).prefixWith(null,"exclusiveMaximum")}return null},l.prototype.validateString=function(e,t,r){return this.validateStringLength(e,t,r)||this.validateStringPattern(e,t,r)||null},l.prototype.validateStringLength=function(e,t){return"string"!=typeof e?null:void 0!==t.minLength&&e.length<t.minLength?this.createError(d.STRING_LENGTH_SHORT,{length:e.length,minimum:t.minLength}).prefixWith(null,"minLength"):void 0!==t.maxLength&&e.length>t.maxLength?this.createError(d.STRING_LENGTH_LONG,{length:e.length,maximum:t.maxLength}).prefixWith(null,"maxLength"):null},l.prototype.validateStringPattern=function(e,t){if("string"!=typeof e||void 0===t.pattern)return null;var r=new RegExp(t.pattern);return r.test(e)?null:this.createError(d.STRING_PATTERN,{pattern:t.pattern}).prefixWith(null,"pattern")},l.prototype.validateArray=function(e,t,r){return Array.isArray(e)?this.validateArrayLength(e,t,r)||this.validateArrayUniqueItems(e,t,r)||this.validateArrayItems(e,t,r)||null:null},l.prototype.validateArrayLength=function(e,t){var r;return void 0!==t.minItems&&e.length<t.minItems&&(r=this.createError(d.ARRAY_LENGTH_SHORT,{length:e.length,minimum:t.minItems}).prefixWith(null,"minItems"),this.handleError(r))?r:void 0!==t.maxItems&&e.length>t.maxItems&&(r=this.createError(d.ARRAY_LENGTH_LONG,{length:e.length,maximum:t.maxItems}).prefixWith(null,"maxItems"),this.handleError(r))?r:null},l.prototype.validateArrayUniqueItems=function(t,r){if(r.uniqueItems)for(var i=0;i<t.length;i++)for(var o=i+1;o<t.length;o++)if(e(t[i],t[o])){var n=this.createError(d.ARRAY_UNIQUE,{match1:i,match2:o}).prefixWith(null,"uniqueItems");if(this.handleError(n))return n}return null},l.prototype.validateArrayItems=function(e,t,r){if(void 0===t.items)return null;var i,o;if(Array.isArray(t.items)){for(o=0;o<e.length;o++)if(o<t.items.length){if(i=this.validateAll(e[o],t.items[o],[o],["items",o],r+"/"+o))return i}else if(void 0!==t.additionalItems)if("boolean"==typeof t.additionalItems){if(!t.additionalItems&&(i=this.createError(d.ARRAY_ADDITIONAL_ITEMS,{}).prefixWith(""+o,"additionalItems"),this.handleError(i)))return i}else if(i=this.validateAll(e[o],t.additionalItems,[o],["additionalItems"],r+"/"+o))return i}else for(o=0;o<e.length;o++)if(i=this.validateAll(e[o],t.items,[o],["items"],r+"/"+o))return i;return null},l.prototype.validateObject=function(e,t,r){return"object"!=typeof e||null===e||Array.isArray(e)?null:this.validateObjectMinMaxProperties(e,t,r)||this.validateObjectRequiredProperties(e,t,r)||this.validateObjectProperties(e,t,r)||this.validateObjectDependencies(e,t,r)||null},l.prototype.validateObjectMinMaxProperties=function(e,t){var r,i=Object.keys(e);return void 0!==t.minProperties&&i.length<t.minProperties&&(r=this.createError(d.OBJECT_PROPERTIES_MINIMUM,{propertyCount:i.length,minimum:t.minProperties}).prefixWith(null,"minProperties"),this.handleError(r))?r:void 0!==t.maxProperties&&i.length>t.maxProperties&&(r=this.createError(d.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:i.length,maximum:t.maxProperties}).prefixWith(null,"maxProperties"),this.handleError(r))?r:null},l.prototype.validateObjectRequiredProperties=function(e,t){if(void 0!==t.required)for(var r=0;r<t.required.length;r++){var i=t.required[r];if(void 0===e[i]){var o=this.createError(d.OBJECT_REQUIRED,{key:i}).prefixWith(null,""+r).prefixWith(null,"required");if(this.handleError(o))return o}}return null},l.prototype.validateObjectProperties=function(e,t,r){var i;for(var o in e){var n=r+"/"+o.replace(/~/g,"~0").replace(/\//g,"~1"),a=!1;if(void 0!==t.properties&&void 0!==t.properties[o]&&(a=!0,i=this.validateAll(e[o],t.properties[o],[o],["properties",o],n)))return i;if(void 0!==t.patternProperties)for(var s in t.patternProperties){var l=new RegExp(s);if(l.test(o)&&(a=!0,i=this.validateAll(e[o],t.patternProperties[s],[o],["patternProperties",s],n)))return i}if(a)this.trackUnknownProperties&&(this.knownPropertyPaths[n]=!0,delete this.unknownPropertyPaths[n]);else if(void 0!==t.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[n]=!0,delete this.unknownPropertyPaths[n]),"boolean"==typeof t.additionalProperties){if(!t.additionalProperties&&(i=this.createError(d.OBJECT_ADDITIONAL_PROPERTIES,{}).prefixWith(o,"additionalProperties"),this.handleError(i)))return i}else if(i=this.validateAll(e[o],t.additionalProperties,[o],["additionalProperties"],n))return i}else this.trackUnknownProperties&&!this.knownPropertyPaths[n]&&(this.unknownPropertyPaths[n]=!0)}return null},l.prototype.validateObjectDependencies=function(e,t,r){var i;if(void 0!==t.dependencies)for(var o in t.dependencies)if(void 0!==e[o]){var n=t.dependencies[o];if("string"==typeof n){if(void 0===e[n]&&(i=this.createError(d.OBJECT_DEPENDENCY_KEY,{key:o,missing:n}).prefixWith(null,o).prefixWith(null,"dependencies"),this.handleError(i)))return i}else if(Array.isArray(n))for(var a=0;a<n.length;a++){var s=n[a];if(void 0===e[s]&&(i=this.createError(d.OBJECT_DEPENDENCY_KEY,{key:o,missing:s}).prefixWith(null,""+a).prefixWith(null,o).prefixWith(null,"dependencies"),this.handleError(i)))return i}else if(i=this.validateAll(e,n,[],["dependencies",o],r))return i}return null},l.prototype.validateCombinations=function(e,t,r){return this.validateAllOf(e,t,r)||this.validateAnyOf(e,t,r)||this.validateOneOf(e,t,r)||this.validateNot(e,t,r)||null},l.prototype.validateAllOf=function(e,t,r){if(void 0===t.allOf)return null;for(var i,o=0;o<t.allOf.length;o++){var n=t.allOf[o];if(i=this.validateAll(e,n,[],["allOf",o],r))return i}return null},l.prototype.validateAnyOf=function(e,t,r){if(void 0===t.anyOf)return null;var i,o,n=[],a=this.errors.length;this.trackUnknownProperties&&(i=this.unknownPropertyPaths,o=this.knownPropertyPaths);for(var s=!0,l=0;l<t.anyOf.length;l++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var u=t.anyOf[l],f=this.errors.length,c=this.validateAll(e,u,[],["anyOf",l],r);if(null===c&&f===this.errors.length){if(this.errors=this.errors.slice(0,a),this.trackUnknownProperties){for(var m in this.knownPropertyPaths)o[m]=!0,delete i[m];for(var h in this.unknownPropertyPaths)o[h]||(i[h]=!0);s=!1;continue}return null}c&&n.push(c.prefixWith(null,""+l).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=i,this.knownPropertyPaths=o),s?(n=n.concat(this.errors.slice(a)),this.errors=this.errors.slice(0,a),this.createError(d.ANY_OF_MISSING,{},"","/anyOf",n)):void 0},l.prototype.validateOneOf=function(e,t,r){if(void 0===t.oneOf)return null;var i,o,n=null,a=[],s=this.errors.length;this.trackUnknownProperties&&(i=this.unknownPropertyPaths,o=this.knownPropertyPaths);for(var l=0;l<t.oneOf.length;l++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var u=t.oneOf[l],f=this.errors.length,c=this.validateAll(e,u,[],["oneOf",l],r);if(null===c&&f===this.errors.length){if(null!==n)return this.errors=this.errors.slice(0,s),this.createError(d.ONE_OF_MULTIPLE,{index1:n,index2:l},"","/oneOf");if(n=l,this.trackUnknownProperties){for(var m in this.knownPropertyPaths)o[m]=!0,delete i[m];for(var h in this.unknownPropertyPaths)o[h]||(i[h]=!0)}}else c&&a.push(c.prefixWith(null,""+l).prefixWith(null,"oneOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=i,this.knownPropertyPaths=o),null===n?(a=a.concat(this.errors.slice(s)),this.errors=this.errors.slice(0,s),this.createError(d.ONE_OF_MISSING,{},"","/oneOf",a)):(this.errors=this.errors.slice(0,s),null)},l.prototype.validateNot=function(e,t,r){if(void 0===t.not)return null;var i,o,n=this.errors.length;this.trackUnknownProperties&&(i=this.unknownPropertyPaths,o=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var a=this.validateAll(e,t.not,null,null,r),s=this.errors.slice(n);return this.errors=this.errors.slice(0,n),this.trackUnknownProperties&&(this.unknownPropertyPaths=i,this.knownPropertyPaths=o),null===a&&0===s.length?this.createError(d.NOT_PASSED,{},"","/not"):null};var d={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},u={};for(var f in d)u[d[f]]=f;var c={INVALID_TYPE:"invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n.prototype.name="ValidationError",n.prototype.prefixWith=function(e,t){if(null!==e&&(e=e.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+e+this.dataPath),null!==t&&(t=t.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+t+this.schemaPath),null!==this.subErrors)for(var r=0;r<this.subErrors.length;r++)this.subErrors[r].prefixWith(e,t);return this};var m={},h=s();return h.addLanguage("en-gb",c),h.tv4=h,h}),function(e,t){"function"==typeof define&&define.amd?define("SeedModules.AngularUI/js/seed/schema-form",["angular","objectpath","tv4"],t):"object"==typeof exports?module.exports=t(require("angular"),require("objectpath"),require("tv4")):e.schemaForm=t(e.angular,e.objectpath,e.tv4)}(this,function(e,t,r){var i=[];try{e.module("ngSanitize"),i.push("ngSanitize")}catch(o){}try{e.module("ui.sortable"),i.push("ui.sortable")}catch(o){}try{e.module("angularSpectrumColorpicker"),i.push("angularSpectrumColorpicker")}catch(o){}var n=e.module("schemaForm",i);return e.module("schemaForm").provider("sfPath",[function(){var r=window.ObjectPath||t,i={parse:r.parse};1===e.version.major&&e.version.minor<3?i.stringify=function(e){return Array.isArray(e)?e.join("."):e.toString()}:i.stringify=r.stringify,i.normalize=function(e,t){return i.stringify(Array.isArray(e)?e:i.parse(e),t)},this.parse=i.parse,this.stringify=i.stringify,this.normalize=i.normalize,this.$get=function(){return i}}]),e.module("schemaForm").provider("sfBuilder",["sfPathProvider",function(t){var r=/[A-Z]/g,i=function(e,t){return t=t||"_",e.replace(r,function(e,r){return(r?t:"")+e.toLowerCase()})},o=0,n={sfField:function(e){e.fieldFrag.firstChild.setAttribute("sf-field",o),e.lookup["f"+o]=e.form,o++},ngModel:function(e){if(e.form.key){var r=e.form.key;e.state.keyRedaction&&(r=r.slice(e.state.keyRedaction));var i;if(e.state.modelValue)i=e.state.modelValue;else{var o=t.stringify(r).replace(/"/g,"&quot;");i=e.state.modelName||"model",o&&(i+=("["!==o[0]?".":"")+o)}for(var n=e.fieldFrag.querySelectorAll("[sf-field-model]"),a=0;a<n.length;a++){var s=n[a],l=s.getAttribute("sf-field-model");if(l&&""!==l)if("replaceAll"===l)for(var d=s.attributes,u=0;u<d.length;u++)d[u].value&&d[u].value.indexOf("$$value")!==-1&&(d[u].value=d[u].value.replace(/\$\$value\$\$/g,i));else{var f=s.getAttribute(l);f&&f.indexOf("$$value$$")?s.setAttribute(l,f.replace(/\$\$value\$\$/g,i)):s.setAttribute(l,i)}else s.setAttribute("ng-model",i)}}},simpleTransclusion:function(e){var t=e.build(e.form.items,e.path+".items",e.state);e.fieldFrag.firstChild.appendChild(t)},ngModelOptions:function(e){e.form.ngModelOptions&&Object.keys(e.form.ngModelOptions).length>0&&e.fieldFrag.firstChild.setAttribute("ng-model-options",JSON.stringify(e.form.ngModelOptions))},transclusion:function(e){var t=e.fieldFrag.querySelectorAll("[sf-field-transclude]");if(t.length)for(var r=0;r<t.length;r++){var i=t[r],o=i.getAttribute("sf-field-transclude")||"items",n=e.form[o];if(n){var a=e.build(n,e.path+"."+o,e.state);i.appendChild(a)}}},condition:function(e){if(e.form.condition){var r="evalExpr("+e.path+'.condition, { model: model, "arrayIndex": $index})';if(e.form.key){var i=t.stringify(e.form.key);r="evalExpr("+e.path+'.condition,{ model: model, "arrayIndex": $index, "modelValue": model'+("["===i[0]?"":".")+i+"})"}for(var o=e.fieldFrag.children||e.fieldFrag.childNodes,n=0;n<o.length;n++){var a=o[n],s=a.getAttribute("ng-if");a.setAttribute("ng-if",s?"("+s+") || ("+r+")":r)}}},array:function(r){var i=r.fieldFrag.querySelector("[schema-form-array-items]");if(i){if(state=e.copy(r.state),state.keyRedaction=state.keyRedaction||0,state.keyRedaction+=r.form.key.length+1,r.form.schema&&r.form.schema.items&&r.form.schema.items.type&&r.form.schema.items.type.indexOf("object")===-1&&r.form.schema.items.type.indexOf("array")===-1){t.stringify(r.form.key).replace(/"/g,"&quot;")+"[$index]";state.modelValue="modelArray[$index]"}else state.modelName="item";state.arrayCompatFlag=!0;var o=r.build(r.form.items,r.path+".items",state);i.appendChild(o)}}};this.builders=n;var a=[n.sfField,n.ngModel,n.ngModelOptions,n.condition];this.stdBuilders=a,this.$get=["$templateCache","schemaFormDecorators","sfPath",function(e,t,r){var o=function(e,t){if(e.key){var i=t[r.stringify(e.key)];if(i){for(;i.firstChild;)i.removeChild(i.firstChild);return i}}},s=function(e,t,r,n,a,l,d){l=l||{},d=d||Object.create(null),a=a||"schemaForm.form";var u=document.createDocumentFragment();return e.reduce(function(e,u,f){if(!u.type)return e;var c=t[u.type]||t["default"];if(c.replace){var m;l.arrayCompatFlag=!1;var h=document.createElement("div"),p=r(u,c)||r(u,t["default"]);for(h.innerHTML=p,m=document.createDocumentFragment();h.childNodes.length>0;)m.appendChild(h.childNodes[0]);var g={fieldFrag:m,form:u,lookup:d,state:l,path:a+"["+f+"]",build:function(e,i,o){return s(e,t,r,n,i,o,d)}},y=u.builder||c.builder;"function"==typeof y?y(g):y.forEach(function(e){e(g)}),(o(u,n)||e).appendChild(m)}else{var v=document.createElement(i(t.__name,"-"));l.arrayCompatFlag?v.setAttribute("form","copyWithIndex($index)"):v.setAttribute("form",a+"["+f+"]"),(o(u,n)||e).appendChild(v)}return e},u),u};return{build:function(t,r,i,o){return s(t,r,function(t,r){return"template"===t.type?t.template:e.get(r.template)},i,void 0,void 0,o)},builder:n,stdBuilders:a,internalBuild:s}}]}]),e.module("schemaForm").provider("schemaFormDecorators",["$compileProvider","sfPathProvider",function(t,r){var i="",o={},n=function(e,t){"sfDecorator"===e&&(e=i);var r=o[e];return r[t.type]?r[t.type].template:r["default"].template},a=function(i){t.directive(i,["$parse","$compile","$http","$templateCache","$interpolate","$q","sfErrorMessage","sfPath","sfSelect",function(t,o,a,s,l,d,u,f,c){return{restrict:"AE",replace:!1,transclude:!1,scope:!0,require:"?^sfSchema",link:function(t,m,h,p){t.$on("schemaFormPropagateNgModelController",function(e,r){e.stopPropagation(),e.preventDefault(),t.ngModel=r}),t.showTitle=function(){return t.form&&t.form.notitle!==!0&&t.form.title},t.listToCheckboxValues=function(t){
var r={};return e.forEach(t,function(e){r[e]=!0}),r},t.checkboxValuesToList=function(t){var r=[];return e.forEach(t,function(e,t){e&&r.push(t)}),r},t.buttonClick=function(r,i){e.isFunction(i.onClick)?i.onClick(r,i):e.isString(i.onClick)&&(p?p.evalInParentScope(i.onClick,{$event:r,form:i}):t.$eval(i.onClick,{$event:r,form:i}))},t.evalExpr=function(e,r){return p?p.evalInParentScope(e,r):t.$eval(e,r)},t.evalInScope=function(e,r){if(e)return t.$eval(e,r)},t.interp=function(e,t){return e&&l(e)(t)},t.hasSuccess=function(){return!!t.ngModel&&(t.ngModel.$valid&&(!t.ngModel.$pristine||!t.ngModel.$isEmpty(t.ngModel.$modelValue)))},t.hasError=function(){return!!t.ngModel&&(t.ngModel.$invalid&&!t.ngModel.$pristine)},t.errorMessage=function(e){return u.interpolate(e&&e.code+""||"default",t.ngModel&&t.ngModel.$modelValue||"",t.ngModel&&t.ngModel.$viewValue||"",t.form,t.options&&t.options.validationMessage)};var g=t.$watch(h.form,function(l){if(l){l.ngModelOptions=l.ngModelOptions||{},t.form=l;var u;if("template"===l.type&&l.template)u=d.when(l.template);else{var h="template"===l.type?l.templateUrl:n(i,l);u=a.get(h,{cache:s}).then(function(e){return e.data})}u.then(function(i){if(l.key){var n=l.key?r.stringify(l.key).replace(/"/g,"&quot;"):"";i=i.replace(/\$\$value\$\$/g,"model"+("["!==n[0]?".":"")+n)}if(m.html(i),l.condition){var a='evalExpr(form.condition,{ model: model, "arrayIndex": arrayIndex})';l.key&&(a='evalExpr(form.condition,{ model: model, "arrayIndex": arrayIndex, "modelValue": model'+f.stringify(l.key)+"})"),e.forEach(m.children(),function(e){var t=e.getAttribute("ng-if");e.setAttribute("ng-if",t?"("+t+") || ("+a+")":a)})}o(m.contents())(t)}),l.key&&(t.$on("schemaForm.error."+l.key.join("."),function(e,r,i,o){i!==!0&&i!==!1||(o=i,i=void 0),t.ngModel&&r&&(t.ngModel.$setDirty?t.ngModel.$setDirty():(t.ngModel.$dirty=!0,t.ngModel.$pristine=!1),i&&(l.validationMessage||(l.validationMessage={}),l.validationMessage[r]=i),t.ngModel.$setValidity(r,o===!0),o===!0&&(t.ngModel.$validate(),t.$broadcast("schemaFormValidate")))}),t.$on("$destroy",function(){if(!t.externalDestructionInProgress){var e=l.destroyStrategy||t.options&&t.options.destroyStrategy||"remove";if(l.key&&"retain"!==e){var r=t.model;if(l.key.length>1&&(r=c(l.key.slice(0,l.key.length-1),r)),void 0===r)return;var i=l.schema&&l.schema.type||"";"empty"===e&&i.indexOf("string")!==-1?r[l.key.slice(-1)]="":"empty"===e&&i.indexOf("object")!==-1?r[l.key.slice(-1)]={}:"empty"===e&&i.indexOf("array")!==-1?r[l.key.slice(-1)]=[]:"null"===e?r[l.key.slice(-1)]=null:delete r[l.key.slice(-1)]}}})),g()}})}}}])},s=function(r,i,o){o=!!e.isDefined(o)&&o,t.directive("sf"+e.uppercase(r[0])+r.substr(1),function(){return{restrict:"EAC",scope:!0,replace:!0,transclude:o,template:'<sf-decorator form="form"></sf-decorator>',link:function(t,i,o){var n={items:"c",titleMap:"c",schema:"c"},a={type:r},s=!0;e.forEach(o,function(r,i){if("$"!==i[0]&&0!==i.indexOf("ng")&&"sfField"!==i){var l=function(r){e.isDefined(r)&&r!==a[i]&&(a[i]=r,s&&a.type&&(a.key||e.isUndefined(o.key))&&(t.form=a,s=!1))};"model"===i?t.$watch(r,function(e){e&&t.model!==e&&(t.model=e)}):"c"===n[i]?t.$watchCollection(r,l):o.$observe(i,l)}})}}})};this.createDecorator=function(t,r){o[t]={__name:t},e.forEach(r,function(e,r){o[t][r]={template:e,replace:!1,builder:[]}}),o[i]||(i=t),a(t)},this.defineDecorator=function(t,r){o[t]={__name:t},e.forEach(r,function(r,i){r.builder=r.builder||[],r.replace=!e.isDefined(r.replace)||r.replace,o[t][i]=r}),o[i]||(i=t),a(t)},this.createDirective=s,this.createDirectives=function(t){e.forEach(t,function(e,t){s(t,e)})},this.decorator=function(e){return e=e||i,o[e]},this.addMapping=function(e,t,r,i,n){o[e]&&(o[e][t]={template:r,builder:i,replace:!!n})},this.defineAddOn=function(e,t,r,i){o[e]&&(o[e][t]={template:r,builder:i,replace:!0})},this.$get=function(){return{decorator:function(e){return o[e]||o[i]},defaultDecorator:i}},a("sfDecorator")}]),e.module("schemaForm").provider("sfErrorMessage",function(){var t={"default":"Field does not validate",0:"Invalid type, expected {{schema.type}}",1:"No enum match for: {{viewValue}}",10:'Data does not match any schemas from "anyOf"',11:'Data does not match any schemas from "oneOf"',12:'Data is valid against more than one schema from "oneOf"',13:'Data matches schema from "not"',100:"Value is not a multiple of {{schema.multipleOf}}",101:"{{viewValue}} is less than the allowed minimum of {{schema.minimum}}",102:"{{viewValue}} is equal to the exclusive minimum {{schema.minimum}}",103:"{{viewValue}} is greater than the allowed maximum of {{schema.maximum}}",104:"{{viewValue}} is equal to the exclusive maximum {{schema.maximum}}",105:"Value is not a valid number",200:"String is too short ({{viewValue.length}} chars), minimum {{schema.minLength}}",201:"String is too long ({{viewValue.length}} chars), maximum {{schema.maxLength}}",202:"String does not match pattern: {{schema.pattern}}",300:"Too few properties defined, minimum {{schema.minProperties}}",301:"Too many properties defined, maximum {{schema.maxProperties}}",302:"Required",303:"Additional properties not allowed",304:"Dependency failed - key must exist",400:"Array is too short ({{value.length}}), minimum {{schema.minItems}}",401:"Array is too long ({{value.length}}), maximum {{schema.maxItems}}",402:"Array items are not unique",403:"Additional items not allowed",500:"Format validation failed",501:'Keyword failed: "{{title}}"',600:"Circular $refs",1e3:"Unknown property (not in schema)"};t.number=t[105],t.required=t[302],t.min=t[101],t.max=t[103],t.maxlength=t[201],t.minlength=t[200],t.pattern=t[202],this.setDefaultMessages=function(e){t=e},this.getDefaultMessages=function(){return t},this.setDefaultMessage=function(e,r){t[e]=r},this.$get=["$interpolate",function(r){var i={};return i.defaultMessages=t,i.interpolate=function(i,o,n,a,s){s=s||{};var l=a.validationMessage||{};0===i.indexOf("tv4-")&&(i=i.substring(4));var d=l["default"]||s["default"]||"";[l,s,t].some(function(t){return e.isString(t)||e.isFunction(t)?(d=t,!0):t&&t[i]?(d=t[i],!0):void 0});var u={error:i,value:o,viewValue:n,form:a,schema:a.schema,title:a.title||a.schema&&a.schema.title};return e.isFunction(d)?d(u):r(d)(u)},i}]}),e.module("schemaForm").provider("schemaForm",["sfPathProvider",function(t){var r=function(e){if(Array.isArray(e)&&2==e.length){if("null"===e[0])return e[1];if("null"===e[1])return e[0]}return e},i=function(e){var t=[];return e.forEach(function(e){t.push({name:e,value:e})}),t},o=function(t,r){if(!e.isArray(t)){var i=[];return r?e.forEach(r,function(e,r){i.push({name:t[e],value:e})}):e.forEach(t,function(e,t){i.push({name:e,value:t})}),i}return t},n=function(t,i,o){var n=p[r(i.type)];if(n)for(var a,s=0;s<n.length;s++)if(a=n[s](t,i,o))return a.schema["x-schema-form"]&&e.isObject(a.schema["x-schema-form"])&&(a=e.extend(a,a.schema["x-schema-form"])),a},a=function(t,r,i){i=i||{};var n=i.global&&i.global.formDefaults?e.copy(i.global.formDefaults):{};return i.global&&i.global.supressPropertyTitles===!0?n.title=r.title:n.title=r.title||t,r.description&&(n.description=r.description),i.required!==!0&&r.required!==!0||(n.required=!0),r.maxLength&&(n.maxlength=r.maxLength),r.minLength&&(n.minlength=r.minLength),(r.readOnly||r.readonly)&&(n.readonly=!0),r.minimum&&(n.minimum=r.minimum+(r.exclusiveMinimum?1:0)),r.maximum&&(n.maximum=r.maximum-(r.exclusiveMaximum?1:0)),r.validationMessage&&(n.validationMessage=r.validationMessage),r.enumNames&&(n.titleMap=o(r.enumNames,r["enum"])),n.schema=r,n.ngModelOptions=n.ngModelOptions||{},n},s=function(e,i,o){if("string"===r(i.type)&&!i["enum"]){var n=a(e,i,o);return n.key=o.path,n.type="text",o.lookup[t.stringify(o.path)]=n,n}},l=function(e,i,o){if("number"===r(i.type)){var n=a(e,i,o);return n.key=o.path,n.type="number",o.lookup[t.stringify(o.path)]=n,n}},d=function(e,i,o){if("integer"===r(i.type)){var n=a(e,i,o);return n.key=o.path,n.type="number",o.lookup[t.stringify(o.path)]=n,n}},u=function(e,i,o){if("boolean"===r(i.type)){var n=a(e,i,o);return n.key=o.path,n.type="checkbox",o.lookup[t.stringify(o.path)]=n,n}},f=function(e,o,n){if("string"===r(o.type)&&o["enum"]){var s=a(e,o,n);return s.key=n.path,s.type="select",s.titleMap||(s.titleMap=i(o["enum"])),n.lookup[t.stringify(n.path)]=s,s}},c=function(e,o,n){if("array"===r(o.type)&&o.items&&o.items["enum"]){var s=a(e,o,n);return s.key=n.path,s.type="checkboxes",s.titleMap||(s.titleMap=i(o.items["enum"])),n.lookup[t.stringify(n.path)]=s,s}},m=function(i,o,s){if("object"===r(o.type)){var l=a(i,o,s);return l.type="fieldset",l.items=[],s.lookup[t.stringify(s.path)]=l,e.forEach(o.properties,function(e,r){var i=s.path.slice();if(i.push(r),s.ignore[t.stringify(i)]!==!0){var a=o.required&&o.required.indexOf(r)!==-1,d=n(r,e,{path:i,required:a||!1,lookup:s.lookup,ignore:s.ignore,global:s.global});d&&l.items.push(d)}}),l}},h=function(e,i,o){if("array"===r(i.type)){var s=a(e,i,o);s.type="array",s.key=o.path,o.lookup[t.stringify(o.path)]=s;var l=i.required&&i.required.indexOf(o.path[o.path.length-1])!==-1,d=o.path.slice();return d.push(""),s.items=[n(e,i.items,{path:d,required:l||!1,lookup:o.lookup,ignore:o.ignore,global:o.global})],s}},p={string:[f,s],object:[m],number:[l],integer:[d],"boolean":[u],array:[c,h]},g=function(e){return e};this.defaults=p,this.stdFormObj=a,this.defaultFormDefinition=n,this.postProcess=function(e){g=e},this.appendRule=function(e,t){p[e]||(p[e]=[]),p[e].push(t)},this.prependRule=function(e,t){p[e]||(p[e]=[]),p[e].unshift(t)},this.createStandardForm=a,this.$get=function(){var i={};return i.merge=function(r,n,a,s,l,d){n=n||["*"],s=s||{},l=l||r.readonly||r.readOnly;var u=i.defaults(r,a,s),f=n.indexOf("*");f!==-1&&(n=n.slice(0,f).concat(u.form).concat(n.slice(f+1)));var c=u.lookup;return g(n.map(function(n){if("string"==typeof n&&(n={key:n}),n.key&&"string"==typeof n.key&&(n.key=t.parse(n.key)),n.titleMap&&(n.titleMap=o(n.titleMap)),n.itemForm){n.items=[];var u=t.stringify(n.key),f=c[u];e.forEach(f.items,function(t){var r=e.copy(n.itemForm);r.key=t.key,n.items.push(r)})}if(n.key){var m=t.stringify(n.key);if(c[m]){var h=c[m];e.forEach(h,function(e,t){void 0===n[t]&&(n[t]=h[t])})}}return l===!0&&(n.readonly=!0),n.items&&(n.items=i.merge(r,n.items,a,s,n.readonly,d)),n.tabs&&e.forEach(n.tabs,function(e){e.items=i.merge(r,e.items,a,s,n.readonly,d)}),"checkbox"===n.type&&e.isUndefined(n.schema["default"])&&(n.schema["default"]=!1),d&&"template"===n.type&&!n.template&&n.templateUrl&&d.push(n),n}))},i.defaults=function(t,i,o){var a=[],s={};if(i=i||{},o=o||{},"object"!==r(t.type))throw new Error('Not implemented. Only type "object" allowed at root level of schema.');return e.forEach(t.properties,function(e,r){if(i[r]!==!0){var l=t.required&&t.required.indexOf(r)!==-1,d=n(r,e,{path:[r],lookup:s,ignore:i,required:l,global:o});d&&a.push(d)}}),{form:a,lookup:s}},i.traverseSchema=function(t,r,i,o){o=!e.isDefined(o)||o,i=i||[];var n=function(t,r,i){if(r(t,i),e.forEach(t.properties,function(e,t){var o=i.slice();o.push(t),n(e,r,o)}),!o&&t.items){var a=i.slice();a.push(""),n(t.items,r,a)}};n(t,r,i||[])},i.traverseForm=function(t,r){r(t),e.forEach(t.items,function(e){i.traverseForm(e,r)}),t.tabs&&e.forEach(t.tabs,function(t){e.forEach(t.items,function(e){i.traverseForm(e,r)})})},i}}]),e.module("schemaForm").factory("sfSelect",["sfPath",function(e){var t=/^\d+$/;return function(r,i,o){i||(i=this);var n="string"==typeof r?e.parse(r):r;if("undefined"!=typeof o&&1===n.length)return i[n[0]]=o,i;"undefined"!=typeof o&&"undefined"==typeof i[n[0]]&&(i[n[0]]=n.length>2&&t.test(n[1])?[]:{});for(var a=i[n[0]],s=1;s<n.length;s++){if(""===n[s])return;if("undefined"!=typeof o){if(s===n.length-1)return a[n[s]]=o,o;var l=a[n[s]];"undefined"!=typeof l&&null!==l||(l=t.test(n[s+1])?[]:{},a[n[s]]=l),a=l}else a&&(a=a[n[s]])}return a}}]),e.module("schemaForm").factory("sfValidator",[function(){var t={};return t.validate=function(t,i){if(!t)return{valid:!0};var o=t.schema;if(!o)return{valid:!0};""===i&&(i=void 0),"number"===t.type&&null===i&&(i=void 0);var n={type:"object",properties:{}},a=t.key[t.key.length-1];n.properties[a]=o,t.required&&(n.required=[a]);var s={};return e.isDefined(i)&&(s[a]=i),r.validateResult(s,n)},t}]),e.module("schemaForm").directive("sfArray",["sfSelect","schemaForm","sfValidator","sfPath",function(t,r,i,o){var n=function(e){return function(t){t.key&&(t.key[t.key.indexOf("")]=e)}};return{restrict:"A",scope:!0,require:"?ngModel",link:function(a,s,l,d){var u={};a.validateArray=e.noop,d&&a.$emit("schemaFormPropagateNgModelController",d);var f=a.$watch(l.sfArray,function(s){if(s){var l=t(s.key,a.model),c=o.normalize(s.key);if(a.$watch("model"+("["!==c[0]?".":"")+c,function(e){l=a.modelArray=e}),e.isUndefined(l)&&(l=[],t(s.key,a.model,l)),a.modelArray=l,s.items){var m=s.items[0];s.items.length>1&&(m={type:"section",items:s.items.map(function(t){return t.ngModelOptions=s.ngModelOptions,e.isUndefined(t.readonly)&&(t.readonly=s.readonly),t})})}if(a.copyWithIndex=function(t){if(!u[t]&&m){var i=e.copy(m);i.arrayIndex=t,r.traverseForm(i,n(t)),u[t]=i}return u[t]},a.appendToArray=function(){var i=l.length,o=a.copyWithIndex(i);if(r.traverseForm(o,function(r){if(r.key){var i;e.isDefined(r["default"])&&(i=r["default"]),e.isDefined(r.schema)&&e.isDefined(r.schema["default"])&&(i=r.schema["default"]),e.isDefined(i)&&t(r.key,a.model,i)}}),i===l.length){var n,d=t("schema.items.type",s);"object"===d?n={}:"array"===d&&(n=[]),l.push(n)}return a.validateArray(),l},a.deleteFromArray=function(e){return l.splice(e,1),a.validateArray(),d&&d.$setDirty&&d.$setDirty(),l},s.titleMap||s.startEmpty===!0||0!==l.length||a.appendToArray(),s.titleMap&&s.titleMap.length>0){a.titleMapValues=[];var h=function(e){a.titleMapValues=[],e=e||[],s.titleMap.forEach(function(t){a.titleMapValues.push(e.indexOf(t.value)!==-1)})};h(a.modelArray),a.$watchCollection("modelArray",h),a.$watchCollection("titleMapValues",function(e,t){if(e&&e!==t){for(var r=a.modelArray;r.length>0;)r.pop();s.titleMap.forEach(function(t,i){e[i]&&r.push(t.value)}),a.validateArray()}})}if(d){var p;a.validateArray=function(){var e=i.validate(s,a.modelArray.length>0?a.modelArray:void 0);Object.keys(d.$error).filter(function(e){return 0===e.indexOf("tv4-")}).forEach(function(e){d.$setValidity(e,!0)}),e.valid!==!1||!e.error||""!==e.error.dataPath&&e.error.dataPath!=="/"+s.key[s.key.length-1]||(d.$setViewValue(a.modelArray),p=e.error,d.$setValidity("tv4-"+e.error.code,!1))},a.$on("schemaFormValidate",a.validateArray),a.hasSuccess=function(){return a.options&&a.options.pristine&&a.options.pristine.success===!1?d.$valid&&!d.$pristine&&!d.$isEmpty(d.$modelValue):d.$valid&&(!d.$pristine||!d.$isEmpty(d.$modelValue))},a.hasError=function(){return a.options&&a.options.pristine&&a.options.pristine.errors===!1?d.$invalid&&!d.$pristine:d.$invalid},a.schemaError=function(){return p}}f()}})}}}]),e.module("schemaForm").directive("sfChanged",function(){return{require:"ngModel",restrict:"AC",scope:!1,link:function(t,r,i,o){var n=t.$eval(i.sfChanged);n&&n.onChange&&o.$viewChangeListeners.push(function(){e.isFunction(n.onChange)?n.onChange(o.$modelValue,n):t.evalExpr(n.onChange,{modelValue:o.$modelValue,form:n})})}}}),e.module("schemaForm").directive("sfField",["$parse","$compile","$http","$templateCache","$interpolate","$q","sfErrorMessage","sfPath","sfSelect",function(t,r,i,o,n,a,s,l,d){return{restrict:"AE",replace:!1,transclude:!1,scope:!0,require:"^sfSchema",link:{pre:function(e,t,r,i){e.$on("schemaFormPropagateNgModelController",function(t,r){t.stopPropagation(),t.preventDefault(),e.ngModel=r}),e.form=i.lookup["f"+r.sfField]},post:function(t,r,i,o){t.showTitle=function(){return t.form&&t.form.notitle!==!0&&t.form.title},t.listToCheckboxValues=function(t){var r={};return e.forEach(t,function(e){r[e]=!0}),r},t.checkboxValuesToList=function(t){var r=[];return e.forEach(t,function(e,t){e&&r.push(t)}),r},t.buttonClick=function(r,i){e.isFunction(i.onClick)?i.onClick(r,i):e.isString(i.onClick)&&(o?o.evalInParentScope(i.onClick,{$event:r,form:i}):t.$eval(i.onClick,{$event:r,form:i}))},t.evalExpr=function(e,r){return o?o.evalInParentScope(e,r):t.$eval(e,r)},t.evalInScope=function(e,r){if(e)return t.$eval(e,r)},t.interp=function(e,t){return e&&n(e)(t)},t.hasSuccess=function(){return!!t.ngModel&&(t.options&&t.options.pristine&&t.options.pristine.success===!1?t.ngModel.$valid&&!t.ngModel.$pristine&&!t.ngModel.$isEmpty(t.ngModel.$modelValue):t.ngModel.$valid&&(!t.ngModel.$pristine||!t.ngModel.$isEmpty(t.ngModel.$modelValue)))},t.hasError=function(){return!!t.ngModel&&(t.options&&t.options.pristine&&t.options.pristine.errors===!1?t.ngModel.$invalid&&!t.ngModel.$pristine:t.ngModel.$invalid)},t.errorMessage=function(e){return s.interpolate(e&&e.code+""||"default",t.ngModel&&t.ngModel.$modelValue||"",t.ngModel&&t.ngModel.$viewValue||"",t.form,t.options&&t.options.validationMessage)};var a=t.form;a.key&&(t.$on("schemaForm.error."+a.key.join("."),function(e,r,i,o){i!==!0&&i!==!1||(o=i,i=void 0),t.ngModel&&r&&(t.ngModel.$setDirty?t.ngModel.$setDirty():(t.ngModel.$dirty=!0,t.ngModel.$pristine=!1),i&&(a.validationMessage||(a.validationMessage={}),a.validationMessage[r]=i),t.ngModel.$setValidity(r,o===!0),o===!0&&(t.ngModel.$validate(),t.$broadcast("schemaFormValidate")))}),t.$on("$destroy",function(){if(!t.externalDestructionInProgress){var e=a.destroyStrategy||t.options&&t.options.destroyStrategy||"remove";if(a.key&&"retain"!==e){var r=t.model;if(a.key.length>1&&(r=d(a.key.slice(0,a.key.length-1),r)),void 0===r)return;var i=a.schema&&a.schema.type||"";"empty"===e&&i.indexOf("string")!==-1?r[a.key.slice(-1)]="":"empty"===e&&i.indexOf("object")!==-1?r[a.key.slice(-1)]={}:"empty"===e&&i.indexOf("array")!==-1?r[a.key.slice(-1)]=[]:"null"===e?r[a.key.slice(-1)]=null:delete r[a.key.slice(-1)]}}}))}}}}]),e.module("schemaForm").directive("sfMessage",["$injector","sfErrorMessage",function(t,r){var i=t.has("$sanitize")?t.get("$sanitize"):function(e){return e};return{scope:!1,restrict:"EA",link:function(t,o,n){var a="";n.sfMessage&&t.$watch(n.sfMessage,function(e){e&&(a=i(e),d(!!t.ngModel))});var s,l=function(e){e!==s&&(o.html(e),s=e)},d=function(i){if(i)if(t.hasError()){var o=[];e.forEach(t.ngModel&&t.ngModel.$error,function(e,t){e&&o.push(t)}),o=o.filter(function(e){return"schemaForm"!==e});var n=o[0];l(n?r.interpolate(n,t.ngModel.$modelValue,t.ngModel.$viewValue,t.form,t.options&&t.options.validationMessage):a)}else l(a);else l(a)};d();var u=t.$watch("ngModel",function(e){e&&(e.$parsers.push(function(e){return d(!0),e}),e.$formatters.push(function(e){return d(!0),e}),u())});t.$watchCollection("ngModel.$error",function(){d(!!t.ngModel)})}}}]),e.module("schemaForm").directive("sfNewArray",["sfSelect","sfPath","schemaForm",function(t,r,i){return{scope:!1,link:function(o,n,a){o.min=0,o.modelArray=o.$eval(a.sfNewArray);var s=function(){o.modelArray=o.$eval(a.sfNewArray),o.ngModel&&o.ngModel.$pristine&&o.firstDigest&&(!o.options||o.options.validateOnRender!==!0)||o.validateField&&o.validateField()},l=function(){o.form&&o.form.onChange&&(e.isFunction(o.form.onChange)?o.form.onChange(o.modelArray,o.form):o.evalExpr(o.form.onChange,{modelValue:o.modelArray,form:o.form}))},d=function(){var e=o.modelArray;if(!e){var i=r.parse(a.sfNewArray);e=[],t(i,o,e),o.modelArray=e}return e},u=o.$watch("form",function(e){if(e){if(e.titleMap||e.startEmpty===!0||o.modelArray&&0!==o.modelArray.length||o.appendToArray(),o.form&&o.form.schema&&o.form.schema.uniqueItems===!0?(o.$watch(a.sfNewArray,s,!0),o.$watch([a.sfNewArray,a.sfNewArray+".length"],l)):o.$watchGroup?o.$watchGroup([a.sfNewArray,a.sfNewArray+".length"],function(){s(),l()}):(o.$watch(a.sfNewArray,function(){s(),l()}),o.$watch(a.sfNewArray+".length",function(){s(),l()})),e.titleMap&&e.titleMap.length>0){o.titleMapValues=[];var t=function(t){o.titleMapValues=[],t=t||[],e.titleMap.forEach(function(e){o.titleMapValues.push(t.indexOf(e.value)!==-1)})};t(o.modelArray),o.$watchCollection("modelArray",t),o.$watchCollection("titleMapValues",function(t,r){if(t&&t!==r){for(var i=d();i.length>0;)i.pop();e.titleMap.forEach(function(e,r){t[r]&&i.push(e.value)}),o.validateField&&o.validateField()}})}u()}});o.appendToArray=function(){var r,n=d();if(o.form&&o.form.schema&&o.form.schema.items){var a=o.form.schema.items;a.type&&a.type.indexOf("object")!==-1?(r={},o.options&&o.options.setSchemaDefaults===!1||(r=e.isDefined(a["default"])?a["default"]:r,r&&i.traverseSchema(a,function(i,o){e.isDefined(i["default"])&&t(o,r,i["default"])}))):a.type&&a.type.indexOf("array")!==-1?(r=[],o.options&&o.options.setSchemaDefaults===!1||(r=a["default"]||r)):o.options&&o.options.setSchemaDefaults===!1||(r=a["default"]||r)}return n.push(r),n},o.deleteFromArray=function(e){var t=o.modelArray;return t&&t.splice(e,1),t};var f=function(e){return function(t){t.key&&(t.key[t.key.indexOf("")]=e)}},c={};o.copyWithIndex=function(t){var r=o.form;if(!c[t]){var n=r.items[0];if(r.items.length>1&&(n={type:"section",items:r.items.map(function(t){return t.ngModelOptions=r.ngModelOptions,e.isUndefined(t.readonly)&&(t.readonly=r.readonly),t})}),n){var a=e.copy(n);a.arrayIndex=t,i.traverseForm(a,f(t)),c[t]=a}}return c[t]}}}}]),e.module("schemaForm").directive("sfSchema",["$compile","$http","$templateCache","$q","schemaForm","schemaFormDecorators","sfSelect","sfPath","sfBuilder",function(t,r,i,o,n,a,s,l,d){return{scope:{schema:"=sfSchema",initialForm:"=sfForm",model:"=sfModel",options:"=sfOptions"},controller:["$scope",function(e){this.evalInParentScope=function(t,r){return e.$parent.$eval(t,r)};var t=this;e.lookup=function(e){return e&&(t.lookup=e),t.lookup}}],replace:!1,restrict:"A",transclude:!0,require:"?form",link:function(l,u,f,c,m){l.formCtrl=c;var h={};m(l,function(e){if(e.addClass("schema-form-ignore"),u.prepend(e),u[0].querySelectorAll){var t=u[0].querySelectorAll("[ng-model]");if(t)for(var r=0;r<t.length;r++){var i=t[r].getAttribute("ng-model");h[i.substring(i.indexOf(".")+1)]=!0}}});var p,g={},y=function(e,t){var a=[],s=n.merge(e,t,h,l.options,void 0,a);a.length>0?o.all(a.map(function(e){return r.get(e.templateUrl,{cache:i}).then(function(t){e.template=t.data})})).then(function(){v(e,t,s)}):v(e,t,s)},v=function(r,i,o){p&&(l.externalDestructionInProgress=!0,p.$destroy(),l.externalDestructionInProgress=!1),p=l.$new(),p.schemaForm={form:o,schema:r},u.children(":not(.schema-form-ignore)").remove();for(var c={},m=u[0].querySelectorAll("*[sf-insert-field]"),h=0;h<m.length;h++)c[m[h].getAttribute("sf-insert-field")]=m[h];var g=a.decorator(f.sfUseDecorator),y=Object.create(null);l.lookup(y),u[0].appendChild(d.build(o,g,c,y)),p.firstDigest=!0,setTimeout(function(){p.firstDigest=!1},0),t(u.children())(p),l.options&&l.options.setSchemaDefaults===!1||n.traverseSchema(r,function(t,r){if(e.isDefined(t["default"])){var i=s(r,l.model);e.isUndefined(i)&&s(r,l.model,t["default"])}}),l.$emit("sf-render-finished",u)},b=["*"];l.$watch(function(){var e=l.schema,t=l.initialForm||b;t&&e&&e.type&&(g.form!==t||g.schema!==e)&&Object.keys(e.properties).length>0&&(g.schema=e,g.form=t,y(e,t))}),l.$on("schemaFormRedraw",function(){var t=l.schema,r=l.initialForm?e.copy(l.initialForm):["*"];t&&y(t,r)}),l.$on("$destroy",function(){l.externalDestructionInProgress=!0}),l.evalExpr=function(e,t){return l.$parent.$eval(e,t)}}}}]),e.module("schemaForm").directive("schemaValidate",["sfValidator","$parse","sfSelect",function(t,r,i){return{restrict:"A",scope:!1,priority:500,require:"ngModel",link:function(r,o,n,a){r.$emit("schemaFormPropagateNgModelController",a);var s=null,l=r.$eval(n.schemaValidate);l.copyValueTo&&a.$viewChangeListeners.push(function(){var t=l.copyValueTo;e.forEach(t,function(e){i(e,r.model,a.$modelValue)})});var d=function(e){if(!l)return e;if(r.options&&r.options.tv4Validation===!1)return e;var i=t.validate(l,e);Object.keys(a.$error).filter(function(e){return 0===e.indexOf("tv4-")}).forEach(function(e){a.$setValidity(e,!0)});{if(i.valid)return e;if(a.$setValidity("tv4-"+i.error.code,!1),s=i.error,a.$validators)return e}};"function"==typeof l.ngModel&&l.ngModel(a),["$parsers","$viewChangeListeners","$formatters"].forEach(function(e){l[e]&&a[e]&&l[e].forEach(function(t){a[e].push(t)})}),["$validators","$asyncValidators"].forEach(function(t){l[t]&&a[t]&&e.forEach(l[t],function(e,r){a[t][r]=e})}),a.$parsers.push(d),a.$validators&&(a.$validators.schemaForm=function(){return!Object.keys(a.$error).some(function(e){return"schemaForm"!==e})});var u=l.schema;r.validateField=function(e){void 0!=e&&a.$$parentForm.$name!==e||(u&&u.type.indexOf("array")!==-1&&d(a.$modelValue),a.$setDirty?(a.$setDirty(),a.$setViewValue(a.$viewValue),a.$commitViewValue(),l.required&&a.$isEmpty(a.$modelValue)&&a.$setValidity("tv4-302",!1)):a.$setViewValue(a.$viewValue))},a.$formatters.push(function(e){return!a.$pristine||!r.firstDigest||r.options&&r.options.validateOnRender===!0?(d(a.$modelValue),e):e}),r.$on("schemaFormValidate",function(e,t){r.validateField(t)}),r.schemaError=function(){return s}}}}]),n}),define("SeedModules.AngularUI/js/seed/bootstrap-decorator",["SeedModules.AngularUI/js/seed/schema-form"],function(){angular.module("schemaForm").run(["$templateCache",function(e){e.put("decorators/bootstrap/actions-trcl.html",'<div class="btn-group schema-form-actions {{form.htmlClass}}" ng-transclude=""></div>'),e.put("decorators/bootstrap/actions.html",'<div class="btn-group schema-form-actions {{form.htmlClass}}"><input ng-repeat-start="item in form.items" type="submit" class="btn {{ item.style || \'btn-default\' }} {{form.fieldHtmlClass}}" value="{{item.title}}" ng-if="item.type === \'submit\'"> <button ng-repeat-end="" class="btn {{ item.style || \'btn-default\' }} {{form.fieldHtmlClass}}" type="button" ng-disabled="form.readonly" ng-if="item.type !== \'submit\'" ng-click="buttonClick($event,item)"><span ng-if="item.icon" class="{{item.icon}}"></span>{{item.title}}</button></div>'),e.put("decorators/bootstrap/array.html",'<div class="schema-form-array {{form.htmlClass}}" sf-field-model="sf-new-array" sf-new-array=""><label class="control-label" ng-show="showTitle()">{{ form.title }}</label><ol class="list-group" sf-field-model="" ui-sortable="form.sortOptions"><li class="list-group-item {{form.fieldHtmlClass}}" schema-form-array-items="" sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index"><button ng-hide="form.readonly || form.remove === null" ng-click="deleteFromArray($index)" ng-disabled="form.schema.minItems >= modelArray.length" style="position: relative; z-index: 20;" type="button" class="close pull-right"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button></li></ol><div class="clearfix" style="padding: 15px;" ng-model="modelArray" schema-validate="form"><div class="help-block" ng-show="(hasError() && errorMessage(schemaError())) || form.description" ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div><button ng-hide="form.readonly || form.add === null" ng-click="appendToArray()" ng-disabled="form.schema.maxItems <= modelArray.length" type="button" class="btn {{ form.style.add || \'btn-default\' }} pull-right"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</button></div></div>'),e.put("decorators/bootstrap/checkbox.html",'<div class="checkbox schema-form-checkbox {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="{{form.labelHtmlClass}}"><input type="checkbox" sf-changed="form" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" class="{{form.fieldHtmlClass}}" name="{{form.key.slice(-1)[0]}}"> <span ng-bind-html="form.title"></span></label><div class="help-block" sf-message="form.description"></div></div>'),e.put("decorators/bootstrap/checkboxes.html",'<div sf-field-model="sf-new-array" sf-new-array="" class="form-group schema-form-checkboxes {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" sf-field-model="" schema-validate="form" ng-show="showTitle()">{{form.title}}</label><div class="checkbox" ng-repeat="val in titleMapValues track by $index"><label><input type="checkbox" ng-disabled="form.readonly" sf-changed="form" class="{{form.fieldHtmlClass}}" ng-model="titleMapValues[$index]" name="{{form.key.slice(-1)[0]}}"> <span ng-bind-html="form.titleMap[$index].name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),e.put("decorators/bootstrap/default.html",'<div class="form-group schema-form-{{form.type}} {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false }"><label class="control-label {{form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label> <input ng-if="!form.fieldAddonLeft && !form.fieldAddonRight" ng-show="form.key" type="{{form.type}}" step="any" sf-changed="form" placeholder="{{form.placeholder}}" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-field-model="" ng-disabled="form.readonly" schema-validate="form" name="{{form.key.slice(-1)[0]}}" aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}"><div ng-if="form.fieldAddonLeft || form.fieldAddonRight" ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><span ng-if="form.fieldAddonLeft" class="input-group-addon" ng-bind-html="form.fieldAddonLeft"></span> <input ng-show="form.key" type="{{form.type}}" step="any" sf-changed="form" placeholder="{{form.placeholder}}" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-field-model="" ng-disabled="form.readonly" schema-validate="form" name="{{form.key.slice(-1)[0]}}" aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}"> <span ng-if="form.fieldAddonRight" class="input-group-addon" ng-bind-html="form.fieldAddonRight"></span></div><span ng-if="form.feedback !== false" class="form-control-feedback" ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }" aria-hidden="true"></span> <span ng-if="hasError() || hasSuccess()" id="{{form.key.slice(-1)[0] + \'Status\'}}" class="sr-only">{{ hasSuccess() ? \'(success)\' : \'(error)\' }}</span><div class="help-block" sf-message="form.description"></div></div>'),e.put("decorators/bootstrap/fieldset.html",'<fieldset ng-disabled="form.readonly" class="schema-form-fieldset {{form.htmlClass}}"><legend ng-class="{\'sr-only\': !showTitle() }">{{ form.title }}</legend><div class="help-block" ng-show="form.description" ng-bind-html="form.description"></div></fieldset>'),e.put("decorators/bootstrap/help.html",'<div class="helpvalue schema-form-helpvalue {{form.htmlClass}}" ng-bind-html="form.helpvalue"></div>'),e.put("decorators/bootstrap/radio-buttons.html",'<div class="form-group schema-form-radiobuttons {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><div><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label></div><div class="btn-group"><label sf-field-model="replaceAll" class="btn {{ (item.value === $$value$$) ? form.style.selected || \'btn-default\' : form.style.unselected || \'btn-default\'; }}" ng-class="{ active: item.value === $$value$$ }" ng-repeat="item in form.titleMap"><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" style="display: none;" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),
e.put("decorators/bootstrap/radios-inline.html",'<div class="form-group schema-form-radios-inline {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()" sf-field-model="" schema-validate="form">{{form.title}}</label><div><label class="radio-inline" ng-repeat="item in form.titleMap"><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" ng-disabled="form.readonly" sf-field-model="" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),e.put("decorators/bootstrap/radios.html",'<div class="form-group schema-form-radios {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" sf-field-model="" schema-validate="form" ng-show="showTitle()">{{form.title}}</label><div class="radio" ng-repeat="item in form.titleMap"><label><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" ng-disabled="form.readonly" sf-field-model="" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),e.put("decorators/bootstrap/section.html",'<div class="schema-form-section {{form.htmlClass}}"></div>'),e.put("decorators/bootstrap/select.html",'<div class="form-group {{form.htmlClass}} schema-form-select" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false}"><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label><select sf-field-model="" ng-disabled="form.readonly" sf-changed="form" class="form-control {{form.fieldHtmlClass}}" schema-validate="form" ng-options="item.value as item.name group by item.group for item in form.titleMap" name="{{form.key.slice(-1)[0]}}"></select><div class="help-block" sf-message="form.description"></div></div>'),e.put("decorators/bootstrap/submit.html",'<div class="form-group schema-form-submit {{form.htmlClass}}"><input type="submit" class="btn {{ form.style || \'btn-primary\' }} {{form.fieldHtmlClass}}" value="{{form.title}}" ng-disabled="form.readonly" ng-if="form.type === \'submit\'"> <button class="btn {{ form.style || \'btn-default\' }}" type="button" ng-click="buttonClick($event,form)" ng-disabled="form.readonly" ng-if="form.type !== \'submit\'"><span ng-if="form.icon" class="{{form.icon}}"></span> {{form.title}}</button></div>'),e.put("decorators/bootstrap/tabarray.html",'<div ng-init="selected = { tab: 0 }" ng-model="modelArray" schema-validate="form" sf-field-model="sf-new-array" sf-new-array="" class="clearfix schema-form-tabarray schema-form-tabarray-{{form.tabType || \'left\'}} {{form.htmlClass}}"><div ng-if="!form.tabType || form.tabType !== \'right\'" ng-class="{\'col-xs-3\': !form.tabType || form.tabType === \'left\'}"><ul class="nav nav-tabs" ng-class="{ \'tabs-left\': !form.tabType || form.tabType === \'left\'}"><li sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a></li><li ng-hide="form.readonly" ng-disabled="form.schema.maxItems <= modelArray.length" ng-click="$event.preventDefault() || (selected.tab = appendToArray().length - 1)"><a href="#"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</a></li></ul></div><div ng-class="{\'col-xs-9\': !form.tabType || form.tabType === \'left\' || form.tabType === \'right\'}"><div class="tab-content {{form.fieldHtmlClass}}"><div class="tab-pane clearfix tab{{selected.tab}} index{{$index}}" sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index" ng-show="selected.tab === $index" ng-class="{active: selected.tab === $index}"><div schema-form-array-items=""></div><button ng-hide="form.readonly" ng-click="selected.tab = deleteFromArray($index).length - 1" ng-disabled="form.schema.minItems >= modelArray.length" type="button" class="btn {{ form.style.remove || \'btn-default\' }} pull-right"><i class="glyphicon glyphicon-trash"></i> {{ form.remove || \'Remove\'}}</button></div><div class="help-block" ng-show="(hasError() && errorMessage(schemaError())) || form.description" ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div></div></div></div><div ng-if="form.tabType === \'right\'" class="col-xs-3"><ul class="nav nav-tabs tabs-right"><li sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a></li><li ng-hide="form.readonly" ng-disabled="form.schema.maxItems <= modelArray.length" ng-click="$event.preventDefault() || (selected.tab = appendToArray().length - 1)"><a href="#"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</a></li></ul></div>'),e.put("decorators/bootstrap/tabs.html",'<div ng-init="selected = { tab: 0 }" class="schema-form-tabs {{form.htmlClass}}"><ul class="nav nav-tabs"><li ng-repeat="tab in form.tabs" ng-disabled="form.readonly" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{ tab.title }}</a></li></ul><div class="tab-content {{form.fieldHtmlClass}}"></div></div>'),e.put("decorators/bootstrap/textarea.html",'<div class="form-group has-feedback {{form.htmlClass}} schema-form-textarea" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label> <textarea ng-if="!form.fieldAddonLeft && !form.fieldAddonRight" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-changed="form" placeholder="{{form.placeholder}}" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" name="{{form.key.slice(-1)[0]}}"></textarea><div ng-if="form.fieldAddonLeft || form.fieldAddonRight" ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><span ng-if="form.fieldAddonLeft" class="input-group-addon" ng-bind-html="form.fieldAddonLeft"></span> <textarea class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-changed="form" placeholder="{{form.placeholder}}" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" name="{{form.key.slice(-1)[0]}}"></textarea> <span ng-if="form.fieldAddonRight" class="input-group-addon" ng-bind-html="form.fieldAddonRight"></span></div><span class="help-block" sf-message="form.description"></span></div>')}]),angular.module("schemaForm").config(["schemaFormDecoratorsProvider","sfBuilderProvider","sfPathProvider",function(e,t,r){var i="decorators/bootstrap/",o=t.builders.simpleTransclusion,n=t.builders.ngModelOptions,a=t.builders.ngModel,s=t.builders.sfField,l=t.builders.condition,d=t.builders.array,u=function(e){if(e.form.tabs&&e.form.tabs.length>0){var t=e.fieldFrag.querySelector(".tab-content");e.form.tabs.forEach(function(r,i){var o=document.createElement("div");o.className="tab-pane",o.setAttribute("ng-disabled","form.readonly"),o.setAttribute("ng-show","selected.tab === "+i),o.setAttribute("ng-class","{active: selected.tab === "+i+"}");var n=e.build(r.items,e.path+".tabs["+i+"].items",e.state);o.appendChild(n),t.appendChild(o)})}},f=[s,a,n,l];e.defineDecorator("bootstrapDecorator",{textarea:{template:i+"textarea.html",builder:f},fieldset:{template:i+"fieldset.html",builder:[s,o,l]},array:{template:i+"array.html",builder:[s,n,a,d,l]},tabarray:{template:i+"tabarray.html",builder:[s,n,a,d,l]},tabs:{template:i+"tabs.html",builder:[s,n,u,l]},section:{template:i+"section.html",builder:[s,o,l]},conditional:{template:i+"section.html",builder:[s,o,l]},actions:{template:i+"actions.html",builder:f},select:{template:i+"select.html",builder:f},checkbox:{template:i+"checkbox.html",builder:f},checkboxes:{template:i+"checkboxes.html",builder:[s,n,a,d,l]},number:{template:i+"default.html",builder:f},password:{template:i+"default.html",builder:f},submit:{template:i+"submit.html",builder:f},button:{template:i+"submit.html",builder:f},radios:{template:i+"radios.html",builder:f},"radios-inline":{template:i+"radios-inline.html",builder:f},radiobuttons:{template:i+"radio-buttons.html",builder:f},help:{template:i+"help.html",builder:f},"default":{template:i+"default.html",builder:f}},[])}])}),define("SeedModules.PageBuilder/modules/boot",["require","exports","angular","app/application","SeedModules.AngularUI/js/seed/bootstrap-decorator"],function(e,t,r){return r.module("modules.pagebuilder.boot",["schemaForm"])}),define("SeedModules.AngularUI/modules/configs/enums/extendFormFields",["require","exports"],function(e,t){t.__esModule=!0;var r;!function(e){e.row="row",e.column="column",e.panel="panel",e.container="container",e.table="table",e["switch"]="switch",e.navbar="navbar"}(r=t.ExtendFormFields||(t.ExtendFormFields={}))}),define("SeedModules.AngularUI/modules/configs/enums/defaultFormTypes",["require","exports"],function(e,t){t.__esModule=!0;var r;!function(e){e.fieldset="fieldset",e.section="section",e.actions="actions",e.text="text",e.textarea="textarea",e.number="number",e.password="password",e.checkbox="checkbox",e.checkboxes="checkboxes",e.select="select",e.submit="submit",e.button="button",e.radios="radios",e.radiosInline="radios-inline",e.radiobuttons="radiobuttons",e.help="help",e.template="template",e.tab="tab",e.tabs="tabs",e.array="array",e.tabarray="tabarray",e.subforms="subforms"}(r=t.DefaultFormTypes||(t.DefaultFormTypes={}))}),define("SeedModules.PageBuilder/modules/providers/defaultTools",["require","exports","SeedModules.AngularUI/modules/configs/enums/extendFormFields","SeedModules.AngularUI/modules/configs/enums/defaultFormTypes"],function(e,t,r,i){t.__esModule=!0;var o=function(){function e(e){e.addControl("布局",{type:r.ExtendFormFields.row,icon:"fas fa-window-minimize",name:"行",container:!0,fields:["htmlClass"]}),e.addControl("布局",{type:r.ExtendFormFields.column,icon:"fas fa-columns",name:"列",container:!0,fields:["flex"]}),e.addControl("布局",{type:r.ExtendFormFields.container,name:"容器",icon:"fas fa-expand",container:!0,fields:["htmlClass"]}),e.addControl("布局",{type:r.ExtendFormFields.panel,name:"面板",icon:"far fa-window-maximize",container:!0,fields:["title","notitle","theme","titleIcon"]}),e.addControl("布局",{type:r.ExtendFormFields.navbar,name:"导航栏",icon:"fas fa-bars",container:!0,fields:["htmlClass","theme"]}),e.addControl("布局",{type:i.DefaultFormTypes.section,name:"节点",icon:"fab fa-delicious",container:!0,fields:["htmlClass"]}),e.addControl("布局",{type:i.DefaultFormTypes.tabs,name:"选项卡组",container:"tabs",fields:[]}),e.addControl("布局",{type:i.DefaultFormTypes.tab,name:"选项卡",container:!0,fields:["title","titleIcon"]}),e.addControl("常规",{type:i.DefaultFormTypes.text,name:"文本输入",container:!1,fields:["title","description","notitle","required","readonly","placeholder","textRange"]}),e.addControl("常规",{type:i.DefaultFormTypes.textarea,name:"文本域",container:!1,fields:["title","description","notitle","required","readonly","placeholder","textRange"]}),e.addControl("常规",{type:i.DefaultFormTypes.select,name:"选择框",icon:"fas fa-check-square",container:!1,fields:["title","description","notitle","required","readonly"]})}return e.$inject=["SeedModules.PageBuilder/modules/providers/toolsBuilderProvider"],e}();t.DefaultToolsConfig=o}),define("SeedModules.PageBuilder/modules/providers/defaultToolFields",["require","exports","SeedModules.AngularUI/modules/configs/enums/defaultFormTypes"],function(e,t,r){t.__esModule=!0;var i=function(){function e(e){e.addControlProperty("基本","readonly",{type:r.DefaultFormTypes.checkbox,title:"只读",key:"readonly"}),e.addControlProperty("基本","title",{type:r.DefaultFormTypes.text,title:"标题",key:"title"}),e.addControlProperty("基本","description",{type:"textarea",title:"描述",key:"description"}),e.addControlProperty("基本","notitle",{type:r.DefaultFormTypes.checkbox,title:"隐藏标题",key:"notitle"}),e.addControlProperty("基本","placeholder",{type:r.DefaultFormTypes.text,title:"水印",key:"placeholder"}),e.addControlProperty("验证","required",{type:r.DefaultFormTypes.checkbox,title:"必填",key:"required"}),e.addControlProperty("验证","textRange",{type:r.DefaultFormTypes.section,title:"字符长度",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-6",items:[{key:'schema["minLength"]',title:"最小长度",type:"number"}]},{type:"section",htmlClass:"col-xs-6",items:[{key:'schema["maxLength"]',title:"最大长度",type:"number"}]}]}),e.addControlProperty("布局","flex",{type:r.DefaultFormTypes.number,title:"宽度",key:"flex"}),e.addControlProperty("样式","htmlClass",{type:r.DefaultFormTypes.text,title:"自定义样式",key:"htmlClass"}),e.addControlProperty("样式","theme",{type:r.DefaultFormTypes.text,title:"主题",key:"theme"}),e.addControlProperty("样式","titleIcon",{type:r.DefaultFormTypes.text,title:"标题图标",key:"titleIcon"})}return e.$inject=["SeedModules.PageBuilder/modules/providers/toolsBuilderProvider"],e}();t.DefaultToolFieldsConfig=i}),define("SeedModules.PageBuilder/modules/providers/toolsBuilder",["require","exports","SeedModules.PageBuilder/modules/boot","angular","SeedModules.PageBuilder/modules/providers/defaultTools","SeedModules.PageBuilder/modules/providers/defaultToolFields"],function(e,t,r,i,o,n){t.__esModule=!0;var a=function(){function e(e,t){this.defaultTools=e,this.defaultToolFields=t}return e.prototype.getControlProperties=function(e){var t=this,r=this.getControl(e);if(!r)return null;var o={};return i.forEach(t.defaultToolFields,function(e,t){o[t]=o[t]||{},i.forEach(r.fields,function(r){if("string"==typeof r&&e[r])o[t][r]=e[r];else{var i=r;o[t][i.name]=e[i.name]}})}),o},e.prototype.getControl=function(e){var t=this.getControls(),r=null;return i.forEach(t,function(t,i){var o=$.grep(t,function(t,r){return!!(e&&e.length>0)&&t.type===e});if(o.length>0)return r=o[0],!1}),r},e.prototype.getControls=function(){return this.defaultTools},e}(),s=function(){function e(e,t){this.defaultTools=e,this.defaultToolFields=t,this.service=new a(this.defaultTools,this.defaultToolFields)}return e.prototype.addControlProperty=function(e,t,r){this.defaultToolFields[e]=this.defaultToolFields[e]||{},this.defaultToolFields[e][t]=r},e.prototype.getControl=function(e,t){if(!this.defaultTools[e])return null;var r=$.grep(this.defaultTools[e],function(e,r){return e.name===t});return r&&r.length>0?r[0]:null},e.prototype.addControl=function(e,t){this.defaultTools[e]=this.defaultTools[e]?this.defaultTools[e]:[];var r=$.grep(this.defaultTools[e],function(e,r){return e.name===t.name});t.icon=t.icon||"fas fa-puzzle-piece",!r||r.length<=0?this.defaultTools[e].push(t):r=i.extend(r,t)},e.prototype.$get=function(){return this.service},e.$inject=["SeedModules.PageBuilder/modules/configs/defaultTools","SeedModules.PageBuilder/modules/configs/defaultToolFields"],e}();(function(){function e(e){}return e.$inject=["SeedModules.PageBuilder/modules/providers/toolsBuilderProvider"],e})();r.constant("SeedModules.PageBuilder/modules/configs/defaultTools",{}).constant("SeedModules.PageBuilder/modules/configs/defaultToolFields",{"基本":[]}).provider("SeedModules.PageBuilder/modules/providers/toolsBuilder",s).config(n.DefaultToolFieldsConfig).config(o.DefaultToolsConfig)}),define("SeedModules.PageBuilder/modules/configs/run",["require","exports","SeedModules.PageBuilder/modules/boot"],function(e,t,r){t.__esModule=!0;var i=function(){function e(e){e.state("admin.pagebuilder_db",{url:"/pagebuilder_db",title:"数据库",templateUrl:"/SeedModules.PageBuilder/modules/components/database/master.html",requires:["SeedModules.AngularUI/modules/requires","SeedModules.PageBuilder/modules/requires"]}),e.state("admin.pagebuilder_page",{url:"/pagebuilder_page",title:"页面管理",templateUrl:"/SeedModules.PageBuilder/modules/components/builder/page.html",requires:["SeedModules.AngularUI/modules/requires","SeedModules.PageBuilder/modules/requires"]}),e.state("admin.pagebuilder_pageform",{url:"/pagebuilder_pageform/{id}",title:"页面编辑",templateUrl:"/SeedModules.PageBuilder/modules/components/builder/pageForm.html",requires:["SeedModules.AngularUI/modules/requires","SeedModules.PageBuilder/modules/requires"]}),e.state("admin.pagebuilder_datasource",{url:"/pagebuilder_datasource",title:"数据源管理",templateUrl:"/SeedModules.PageBuilder/modules/components/datasource/list.html",requires:["SeedModules.AngularUI/modules/requires","SeedModules.PageBuilder/modules/requires"]}),e.state("admin.pagebuilder_dsform",{url:"/pagebuilder_dsform",title:"数据源编辑",templateUrl:"/SeedModules.PageBuilder/modules/components/datasource/form.html",requires:["SeedModules.AngularUI/modules/requires","SeedModules.PageBuilder/modules/requires"]}),e.state("admin.pagebuilder_threetest",{url:"/pagebuilder_threetest",title:"三维测试",templateUrl:"/SeedModules.PageBuilder/modules/components/three/page.html",requires:["SeedModules.AngularUI/modules/requires","SeedModules.PageBuilder/modules/requires"]})}return e.$inject=["$stateProvider"],e}(),o=function(){function e(e,t){t.add({text:"定制管理",icon:"fab fa-fort-awesome fa-fw",order:5,children:[{text:"数据库",itemClicked:function(t){e.go("admin.pagebuilder_db")}},{text:"数据源管理",itemClicked:function(t){e.go("admin.pagebuilder_datasource")}},{text:"页面管理",itemClicked:function(t){e.go("admin.pagebuilder_page")}},{text:"服务管理",itemClicked:function(e){alert("我就一个人而且只有晚上有时间，辣么多功能不得一点点完成啊")}},{text:"三维测试",itemClicked:function(t){e.go("admin.pagebuilder_threetest")}}]})}return e.$inject=["$state","SeedModules.Admin/modules/admin/configs/nav"],e}();r.config(i).run(o)}),define("SeedModules.PageBuilder/modules/module",["require","exports","angular","SeedModules.PageBuilder/modules/providers/toolsBuilder","SeedModules.PageBuilder/modules/configs/run"],function(e,t,r){return r.module("modules.pagebuilder",["modules.pagebuilder.boot"])});